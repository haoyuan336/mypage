{"version":3,"sources":["webpack:///webpack/bootstrap 8e6e0884dd67816b2dc4","webpack:///./src/game.js","webpack:///./src/utility/imports.js","webpack:///./src/utility/animation/animation-factor.js","webpack:///./src/utility/animation/frame-animation.js","webpack:///./src/utility/animation/animation-interface.js","webpack:///./src/utility/animation/spine-animation.js","webpack:///./src/utility/helper.js","webpack:///./src/utility/resource-manager.js","webpack:///./src/resources.js","webpack:///./src/game-defines.js","webpack:///./src/utility/render/director.js","webpack:///./~/tween.js/src/Tween.js","webpack:///(webpack)/~/node-libs-browser/~/process/browser.js","webpack:///./src/utility/registry.js","webpack:///./src/utility/simple-request.js","webpack:///./src/utility/ui-control/index.js","webpack:///./src/utility/ui-control/scale3-sprite.js","webpack:///./src/utility/ui-control/ui-extends.js","webpack:///./src/utility/inherited.js","webpack:///./src/utility/ui-control/scale9-sprite.js","webpack:///./src/utility/ui-control/scroll-view.js","webpack:///./src/utility/ui-control/default-defines.js","webpack:///./src/utility/ui-control/list-view.js","webpack:///./src/utility/ui-control/page-view.js","webpack:///./src/utility/ui-control/button.js","webpack:///./src/utility/ui-control/progress-bar.js","webpack:///./src/utility/ui-control/radio-button.js","webpack:///./src/utility/ui-control/radio-group.js","webpack:///./src/utility/eventuality.js","webpack:///./src/utility/ui-control/check-box.js","webpack:///./src/utility/ui-control/creater.js","webpack:///./src/utility/ui-control/bm-label.js","webpack:///./src/utility/ui-control/input.js","webpack:///./src/utility/render/base-world.js","webpack:///./src/utility/render/base-layer.js","webpack:///./src/utility/render/model-layer.js","webpack:///./src/utility/delay-event.js","webpack:///./src/utility/math/vec2.js","webpack:///./src/game/gameworld.js","webpack:///./src/game/gamelayer.js","webpack:///./src/game/fruit-layer.js","webpack:///./src/game/fruit.js","webpack:///./src/game/fruit-cell.js","webpack:///./src/game-global.js","webpack:///./src/player-data.js","webpack:///./src/platform-helper.js","webpack:///./src/game/audio-control.js","webpack:///./src/game/bomb-cell.js","webpack:///./src/game/effect/cut-effect.js","webpack:///./src/common/shake-node.js","webpack:///./src/common/time-controller.js","webpack:///./src/game/blade_render.js","webpack:///./src/one-blade.js","webpack:///./src/game/effect/particle-layer.js","webpack:///./src/game/effect/particle-fruit-json.js","webpack:///./src/game/ui/ui-layer.js","webpack:///./src/game/ui/ui-runlight.js","webpack:///./src/common/progress-bar.js","webpack:///./src/game/effect/flash-effect.js","webpack:///./src/game/ui/ui-showlayer.js","webpack:///./src/game/ui/ui-ranklist.js","webpack:///./src/common/head-node.js","webpack:///./src/game/effect/mask-effect.js","webpack:///./src/common/camera.js","webpack:///./src/game/debug-layer.js","webpack:///./src/game/ui/ui-start.js","webpack:///./src/game/ui/ui-gameover.js","webpack:///./src/game/ui/ui-gameover-new.js","webpack:///./src/game/ui/gameoverlayer-common/gameover-data-show-layer.js","webpack:///./src/game/ui/ui-tips.js","webpack:///./src/common/carom-count.js","webpack:///./src/statistic-helper.js"],"names":["window","onload","console","log","_director","create","Canvas","width","height","screenOption","forceX","forceY","scaleToWindow","addEventListener","event","imageList","i","str","indexOf","push","loadList","loadFontList","playerdata","initData","gameWorld","init","sharedDirector","replaceWorld","AnimationFactor","UIControl","BaseWorld","BaseLayer","ModelLayer","Eventuality","DelayEvent","Inherited","Helper","ResourceManager","Director","SRequest","Vec2","animationFactor","that","createAnimation","options","type","FrameAnimation","spec","animates","node","PIXI","Container","_movieClip","index","oneAnimate","frames","start","end","pre","speed","undefined","animationSpeed","default","Sprite","fromFrame","addChild","anchor","x","y","setupMovieClip","isLoop","cb","removeChild","extras","MovieClip","fromFrames","loop","gotoAndPlay","onComplete","call","getAnimationNode","stop","applyCb","playOnce","actionName","playTimes","times","concat","playList","actionList","playLoop","reset","setVisible","isVisible","visible","turnAround","faceTo","setSlotVisible","slotName","setTimeScale","timeScale","setSkin","name","AnimationInterface","aimTo","direction","destroy","setLocalZOrder","zOrder","SpineAnimation","_spine","_actionList","_faceTo","spineData","skin","skeleton","setSkinByName","dir","scaleX","scale","action","isSoft","applyAllCallBack","setToSetupPose","state","setAnimationByName","addAnimationByName","length","shift","callBack","list","track","data","waitingCount","setBonesToSetupPose","setSlotsToSetupPose","clearTracks","_onComplete","createSpine","spine","Spine","helper","director","option","runningWorld","runningNode","innerWidth","scaleY","innerHeight","Math","min","canvas","renderer","view","style","padding","margin","offsetX","offsetBottom","offsetTop","resize","set","position","screen","left","right","top","bottom","directorW","directorH","innerW","innerH","fixX","orientation","rotation","PI","reorderNode","depthCompare","a","b","az","zorder","bz","children","sort","setObjZOder","object","compareUpObject","temp1","temp2","info1","info","info2","minZ","maxZ","itemKey","max","calculateBuildingPosition","cellsControl","topPos","index2pos","topIndex","downIndex","rowWidth","columnWidth","downPos","isArray","obj","hasOwnProperty","isObject","cloneObject","sourceObj","targetObj","subTargetObj","arrayFindOne","filter","pSub","v1","v2","pDistance","v","sqrt","randomInt","range","random","result","floor","wordWrapText","textObj","string","getQueryString","reg","RegExp","r","location","search","substr","match","decodeURI","getImgUrlWithSize","url","size","suffix","strings","split","newUrl","resultUrl","getDebugUid","parseInt","String","prototype","replaceAll","s1","s2","replace","_loadingMap","resource","uiLoaded","load","cbList","loader","add","res","resList","callFuncNum","callFunc","fontList","loadFont","fontName","path","resName","BitmapText","fonts","bitmapFont","resPath","defines","rootPath","debugMode","versionCode","gameHomeURL","URLMethods","getRandom","gameOver","gameStart","GetFruitRank","behaviorRecord","musicConfig","addfruit_0","addfruit_1","cut_kiwifruit","cut_pineapple","cut_banana","cut_bomb","cut_dargonfruit","cut_orange","cut_watermelon","cut_lemon","cut_pear","cut_strawberry","cut_apple","cut_peach","cuteffect_0","cuteffect_1","cuteffect_2","gameover","gamestart","getred_0","getred_1","readygo","bgmusic","redbomb","musicIosConfig","Width","Height","posX_center","posY_center","fpsLimits","autoDetectRenderer","document","body","appendChild","_worldList","_getTopWorld","_lastTime","performance","now","stepOnce","timestamp","requestAnimationFrame","dt","tmpTime","ticker","shared","update","updateExecute","render","onLoopEnd","popWorld","lastWorld","pop","onPause","topWorld","onResume","newWorld","dispatchEvent","Event","startWorld","Object","defineProperties","get","SharedDirector","Registry","handleNames","_listenerMap","addHandleType","handles","handleName","target","splice","apply","arguments","timeoutLimit","baseURL","handlerURL","params","xhr","XMLHttpRequest","paramStr","getURLParamsString","open","timeout","JSON","parse","responseText","ontimeout","send","post","urlParams","setRequestHeader","bodyContent","stringify","onerror","e","jump","href","isStart","Scale3Sprite","Scale9Sprite","ScrollView","ListView","PageView","ProgressBar","RadioButton","RadioGroup","Button","CheckBox","BMLabel","Input","UIManager","addComponent","addTemplete","_baseTexture","_leftTexture","_centerTexture","_rightTexture","_node","id","Texture","fromImage","bg","frame","Rectangle","tilingWidth","leftSprite","centerSprite","rightSprite","_centerPosition","spriteList","UIExtends","uid","uiObj","defineProperty","_uid","registry","inheritOn","handler","parentHandler","handlerList","_leftUpTexture","_upTexture","_rightUpTexture","_leftDownTexture","_downTexture","_rightDownTexture","rightWidth","bottomHeight","offsetY","tilingHeight","leftUpSprite","upSprite","rightUpSprite","leftDownSprite","downSprite","rightDownSprite","_putSprites","spritesList","_uiParts","bounceX","bounceMax","bounceY","bounceSpeed","contentBounds","bounds","_state","_collideBounds","_controlMove","_springMove","_pushItem","_mask","_contentNode","Graphics","filling","drawRect","interactive","hitArea","mask","debug","lineStyle","MovingState","auto","touching","_setState","newState","_lastPos","_onTouchBegin","global","_onTouchMove","pos","_onTouchEnd","on","item","isCollide","abs","deltaTime","minFPS","itemSpacing","ListItem","_itemList","uiController","child","customLength","itemLength","spacing","contentNode","_clearItems","_pageList","currentIndex","targetX","targetY","val","normalTexture","disableTexture","enable","onClick","_sprite","_label","bg_disable","texture","_setTitle","content","font","fill","resolution","Text","textAnchor","text","_oriScale","_playClickDownAction","tint","_playClickUpAction","_touchBegin","_touchMoved","_touchCancel","_touchEnd","_onClick","percent","_frontSprite","_backSprite","fg","clear","beginFill","endFill","_setContent","textStyle","_setPercent","realPercent","RadioState","unchecked","checked","checkedTexture","uncheckedTexture","group","onCheckOn","onCheckOff","onCheckChange","bg_on","bg_off","fire","handlerNames","_radioList","radio","event_list","args","n","method","removeListener","removeAllListeners","Create","_factor","_handleGroup","groupID","groupObj","_inputList","parent","json","owner","creatorName","component","image","addChildren","oneObj","oneJson","pushChildren","pushItem","check","_alignComponent","alpha","createLayout","createNode","createSprite","sprite","createLabel","label","bmfont","func","layout","registerUpdate","creater","_anchor","Point","align","maxWidth","updateText","textWidth","textHeight","blue","game","getElementById","input","createElement","backgroundImage","_updatePosition","toGlobal","destroyExecute","updateRegister","updateUnRegister","_modelList","lock2Layer","layer","interactiveChildren","_sortByZorder","popModelLayer","getModelNum","removeFromWorld","unlock2Layer","lastNode","add2World","world","blackArea","_blackBg","_delayList","_working","off","switchOn","getDistance","l","w","getNormal","Number","MIN_VALUE","normal","sub","multValue","value","addValue","cross","dot","getRadians","angle","atan2","equals","getAngle","isZero","rotateByAngle","sinAngle","sin","cosAngle","cos","tempX","tempY","GameState","Invalide","GameStart","GameRun","GameOver","GameReStart","GameWorld","_gameLayer","fruitCount","_uiStart","toReady","hitsLists","startGame","events","_uiGameOver","maxscore","score","audioControl","playBg","Waiting","Running","Over","GameLayer","_bg","bj","_maskEffect","_camera","viewWidth","viewHeight","maxHeight","_fruitLayer","_flashEffect","_uiShow","_uiLayer","addToCamera","zoomIn","zoomOut","shakeCamera","_particle","blade","touchPos","touchMove","touchBegin","touchEnd","delTime","TWEEN","toStartTouchMove","toStart","toEndTouchMove","toEnd","accAdd","arg1","arg2","r1","r2","m","toString","pow","AddFruitType","Normal","Crazy","Freeze","Double","TimeOut","ChangeState","CutBomb","FruitOver","Crazying","CrazyOver","CutBombOver","SuperFruit","FruitLayer","_fruitNameStrs","_addFruitTimeDis","_addTimeDisIndex","_timeCount","_TimeScaleOffset","_addFruitDisTimeScaleOffset","_fruits","_addFruitType","_cutEffect","_allCellCount","_redBagRate","centsNum","_bombRate","bombCount","_addedTotalRedBag","_addedTotalBomb","_oldTypeList","_nowSuperPower","_totalSuperPower","_superFruitCutCount","getRedbagCount","allGetRedbag","cutBombCount","cutFruitCount","superFruit","_randomType","types","round","_setFruitState","setTimeout","stopAllTimeCB","removeSelf","play","unsetTimeout","fruit","addFruit","residualCount","allFruitCount","bigredbag","redbag","beginTime","Date","hitsCount","hitsLogic","totalScore","move","isOver","getLocalPosition","touchVec","Cut","shakeNode","light","superFruitLight","alpchange","Tween","to","onUpdate","sizechange","FruitState","CutOver","SlowSpeed","StopY","SuperFruitBomb","Fruit","_timeScaleOffset","_isCanCut","_isCut","destory","_fruitCell","cut","_RotationSpeed","_speedY","lowNode","guang","shake","sp","fasheguang0","getRandomNum","a1","a2","isCut","_speedX","_acceleration","animate","ani_bomb","dtSecond","localVec","dis","lostRedBagCount","getRealRedbagCount","getRangRedbagSum","tempScore","cutBombSubScore","cutBombSubScoreList","cutSuperEffect","cutSuperCount","ang","randCentNum","objectPos","action1","FruitCell","_cells","_superCells","bg_guang","cell","moveCell","action2","randomDirection","cells","moveSuperFruit","easing","Easing","Quadratic","InOut","gameGlobal","PlayerData","gold","deviceModel","requestData","status","error","getGameInfo","safeRequest","auth","channel","osVer","deviceType","fruitsNum","bombNum","money_pool","bombHarm","failCentsNum","furyCutNum","comboList","bombHarmList","getRanklistData","page","limit","CMD","loadEnd","playSound","endAll","tipPacket","getUserInfo","getAppUserInfo","startRedbagGame","showRecordact","getDeviceModel","OSType","iOS","Android","Web","unknown","_getOperatingSystem","userAgent","navigator","vendor","opera","PlatformHelper","callbacks","_osVer","_sendCMD","webkit","messageHandlers","webViewApp","postMessage","alert","hideLoading","cmd","playMusic","getOsType","doFinish","addRedBagTip","resp","getAppData","_callBackIndex","callbackName","callbackID","_handleResp","dataString","appResponse","cbindex","repString","jumpToPacket","showRecordAct","startRedBagGame","deveiceModel","bodyString","safeResponse","platform","AudioControl","_audioList","playAudio","audio","key","pcb","BombCell","ani_spark","idle","sparkanimate","CutEffect","addEffect","effect","temp","tween1","tween","ShakeNode","_isAction","Cubic","In","TimeController","register","time","clearTimeout","timeController","BladeState","BladeRender","_onBegin","touchBegan","_multPoints","_onMove","identifier","_addTailPoint","oneBlade","_onEnd","kKeepHoldTime","kCloserSpeed","VectorLengthSq","vector","lengthSq","VectorNormalize","OneBlade","_tailList","_points","_rope","StateMoving","StateHold","_holdCD","new_state","lastPos","step","mesh","Rope","_shiftPoints","lastPoint","point","ParticleLayer","_emitters","elapsed","updateOwnerPos","emit","particles","Emitter","icon_gift2","star","star2","fruitWater","ribbon_1","ribbon_25","ribbon_3","ribbon_4","ribbon_5","colorbar","isAction","grain","cutfruit","addEndScore","ParticleJson","UILayer","_changeScore","_fruitFount","icon_fruitwater","fruitwater","_mainNode","bar","letterSpacing","bt_back_normal","button","backButton","isOff","addGoldType","changeType","_nowtime","updateUI","scoreLabel","goldLabel","fruitLabel","redpackLabel","_runLight","_progressBar","bg_0","jindutiao_0","bg_1","jindutiao_1","bg_2","jindutiao_2","bg_3","jindutiao_3","bg_4","jindutiao_4","precent","setPrecent","_moveDown","_move","Back","Bounce","Out","_moveUp","moveUpDownButton","posY","runAction","oldY","RunLight","_runLightSpeed","_nowRunLightSpeed","_lights","runLightState","lightOn","_runLightNum","secondTime","draw","drawCircle","scaleAction","moveX","move1","bgUrl","imageUrl","_sp","_graphics","FlashAnimate","FlashEffect","ani_packet_break","createFlash","flash","white","resetPack","Top","Control","_font","moveText","addredpack","a3","ShowLayer","uiControl","_control","leftOrright","moveAction","endPos","RankList","_rankPage1","ui","icon_head","icon_head2","img_boxRanking","_rankPage2","uilist","nameLabel","setUserInfo","values","objects","headNode","avatar","nickname","chrowLabel","ranknum","chrowLabel1","rank","userIds","scores","isHave","self_score","self_rank","have","enter","RankState","Enter","RankLayer","_rankList","HeadNode","head_white","head","MaskEffect","_maskSprite","zhezhao","_moveIn","_movein","_moveOut","_moveout","Camera","_viewWidth","_viewHeight","_width","_height","_moveLayer","_mashLayer","_moveLayer1","_lookList","mashImage","LookAt","cameraPos","lookObject","oldScale","ShakeAction","targetPosx","targetPosx1","addToCameraDeep","cameraUpdate","getViewRange","DebugLayer","addLog","_versionText","_texts","fixLength","UIStart","_touch","readygo_move","ui_move","readygo_num","_fruitNode","icon_st_shuiguo","_itemNode","img_st_chuxian","_beginNode","start1","start2","start3","_readygo","reday","go","_beginlist","_beginChange","_change3","_change2","_change1","moveOut","moveIn","object1","object3","_node1","_node3","remove","object2","_node2","timeChange","textfruit","scaleChange","_text","UIGameOver","moveAction_y","startPos","moveAction_x","newRank","alphaChange","Sinusoidal","overNode","img_qizhi","img_chibang","img_chibang2","img_he2","img_light1","img_he","img_yellow_26","icon_wodefenshu","gameover1","buttonNode","bt_replay_normal","bt_quit_normal","bt_view_normal","allMoveOut","createMoveNode","num","moveNode","removeNode","overTweenout","buttonTweenout","cutRate","superFruitRate","hitsList","hitCount","j","chibang","chibang2","Mask","createMask","arc","lineTo","rankRiseText","myScore","count","rankNum","rankTextLight","GameOverLayer","selfrank","nowRank","DataUI","bgimage","icon_box2","labelText","DataUI1","icon","best","GameOverDataShowLayer","_text1","bgui","img_go_black","tempresources","icon_hongbao2","icon_hongbao3","icon_shuiguo2","icon_shuiguo3","datas","iconlist","icon_mingzhong","icon_lianji","icon_shiliujic","labelList","superCutCount","superRate","nowList","maxBuffAddition","bestList","maxAccuracy","maxCombNum","Tips","callback","box_white","zhuangban","CaromCount","EventType","enterWeb","clickStartGame","beginLoading","endLoading","StatisticHelper","statisticHelper"],"mappings":"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EH;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;AACA;AACA,KAAI;AACJ;AACA,KAAI;AACJ;AACA,KAAI;AACJ;AACA;;AAEA,IAAG;;AAEH;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;;AAEA,kBAAiB,QAAQ;AACzB;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,oBAAmB,OAAO;AAC1B;AACA;;AAEA;AACA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH,GAAE;;AAEF;AACA;;AAEA,GAAE;;AAEF;AACA;;AAEA;;AAEA,EAAC;;;;;;;;ACr2BD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4BAA2B;AAC3B;AACA;AACA;AACA,6BAA4B,UAAU;;;;;;;;;;;;ACnLtC;;;AAGA,KAAMC,WAAW,SAAXA,QAAW,CAAChJ,GAAD,EAAMiJ,WAAN,EAAqB;;AAEpC,OAAIC,eAAe,EAAnB;;AAEAlJ,OAAImJ,aAAJ,GAAoB,UAACC,OAAD,EAAY;AAAA,gCACtBnV,CADsB;AAE5B,WAAIoV,aAAaD,QAAQnV,CAAR,CAAjB;AACA,WAAIkH,OAAO+N,aAAaG,UAAb,CAAX;AACA,WAAG,CAAClO,IAAJ,EAAU;AACR+N,sBAAaG,UAAb,IAA2BlO,OAAO,EAAlC;AACD;AACD6E,WAAKqJ,aAAa,UAAlB,IAAgC,UAACC,MAAD,EAAW;AACzC,aAAGnO,KAAKhH,OAAL,CAAamV,MAAb,MAAyB,CAAC,CAA7B,EAAgC;AAC9B;AACD;AACDnO,cAAK/G,IAAL,CAAUkV,MAAV;AACD,QALD;;AAOAtJ,WAAKqJ,aAAa,YAAlB,IAAkC,UAACC,MAAD,EAAW;AAC3C,aAAIhT,QAAQ6E,KAAKhH,OAAL,CAAamV,MAAb,CAAZ;AACA,aAAGhT,UAAU,CAAC,CAAd,EAAiB;AACf;AACD;AACD6E,cAAKoO,MAAL,CAAYjT,KAAZ,EAAmB,CAAnB;AACD,QAND;;AAQA0J,WAAKqJ,aAAa,SAAlB,IAA+B,YAAY;AACzC,cAAI,IAAIpV,KAAE,CAAV,EAAaA,KAAEkH,KAAKH,MAApB,EAA4B,EAAE/G,EAA9B,EAAiC;AAC/BkH,gBAAKlH,EAAL,EAAQoV,UAAR,EAAoBG,KAApB,CAA0B,IAA1B,EAAgCC,SAAhC;AACD;AACF,QAJD;AAtB4B;;AAC9B,UAAI,IAAIxV,IAAE,CAAV,EAAaA,IAAEmV,QAAQpO,MAAvB,EAA+B,EAAE/G,CAAjC,EAAoC;AAAA,aAA5BA,CAA4B;AA0BnC;AACF,IA5BD;;AA8BA+L,OAAImJ,aAAJ,CAAkBF,WAAlB;;AAEA,UAAOjJ,GAAP;AACD,EArCD;;mBAuCegJ,Q;;;;;;;;;;;AC1Cf;;;;AAIA,KAAMU,eAAe,KAAK,IAA1B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAMlU,WAAWA,YAAa,YAAK;AAC/B,OAAIG,OAAO,EAAX;;AAGAA,QAAKmT,GAAL,GAAW,UAACa,OAAD,EAAUC,UAAV,EAAsBC,MAAtB,EAA8BrS,EAA9B,EAAqC;AAC9C,SAAIsS,MAAM,IAAIC,cAAJ,EAAV;;AAEA,SAAIC,WAAWC,mBAAmBJ,MAAnB,CAAf;AACA1W,aAAQC,GAAR,CAAY,iBAAiBuW,OAAjB,GAA2BC,UAA3B,GAAwCI,QAApD;;AAEAF,SAAII,IAAJ,CAAS,KAAT,EAAgBP,UAAUC,UAAV,GAAuBI,QAAvC,EAAiD,IAAjD;AACAF,SAAIK,OAAJ,GAAcT,YAAd;AACAI,SAAI5W,MAAJ,GAAa,YAAM;AACjB,WAAImI,OAAO+O,KAAKC,KAAL,CAAWP,IAAIQ,YAAf,CAAX;AACA,WAAI9S,EAAJ,EAAQ;AACNA,YAAGQ,IAAH,YAAcqD,IAAd;AACD;AACF,MALD;AAMAyO,SAAIS,SAAJ,GAAgB,YAAK;AACnB,WAAI/S,EAAJ,EAAQ;AACNA,YAAGQ,IAAH,YAAc,EAACmS,SAAS,IAAV,EAAd;AACD;AACF,MAJD;AAKAL,SAAIU,IAAJ;AACD,IApBD;;AAsBA7U,QAAK8U,IAAL,GAAY,UAACd,OAAD,EAAUC,UAAV,EAAsBc,SAAtB,EAAiCb,MAAjC,EAAyCrS,EAAzC,EAAgD;;AAE1D,SAAIsS,MAAM,IAAIC,cAAJ,EAAV,CAF0D,CAExB;AAClC5W,aAAQC,GAAR,CAAY,MAAZ,EAAmBuW,UAAUC,UAAV,GAAuBK,mBAAmBS,SAAnB,CAA1C;AACAZ,SAAII,IAAJ,CAAS,MAAT,EAAiBP,UAAUC,UAAV,GAAuBK,mBAAmBS,SAAnB,CAAxC,EAAuE,IAAvE;AACAZ,SAAIa,gBAAJ,CAAqB,cAArB,EAAoC,kBAApC;AACAb,SAAIK,OAAJ,GAAcT,YAAd;AACAI,SAAI5W,MAAJ,GAAa,YAAK;AAChB;AACA,WAAImI,OAAO+O,KAAKC,KAAL,CAAWP,IAAIQ,YAAf,CAAX;AACA,WAAI9S,EAAJ,EAAQ;AACNA,YAAGQ,IAAH,YAAcqD,IAAd;AACD;AACF,MAND;AAOAyO,SAAIS,SAAJ,GAAgB,YAAK;AACnB,WAAI/S,EAAJ,EAAQ;AACNA,YAAGQ,IAAH,YAAc,EAACmS,SAAS,IAAV,EAAd;AACD;AACF,MAJD;AAKAhX,aAAQC,GAAR,CAAY,YAAZ,EAAyByW,MAAzB;AACA,SAAMe,cAAcf,SAASO,KAAKS,SAAL,CAAehB,MAAf,CAAT,GAAkC,EAAtD;AACAC,SAAIgB,OAAJ,GAAc,UAAUC,CAAV,EAAa;AACzB5X,eAAQC,GAAR,CAAY,kBAAkB2X,CAA9B;AACA,WAAIvT,EAAJ,EAAO;AACLA,YAAGQ,IAAH,CAAQ,IAAR,EAAa,EAACmS,SAAS,IAAV,EAAb;AACD;AACF,MALD;AAMAL,SAAIU,IAAJ,CAASI,WAAT;AACD,IA5BD;;AA8BAjV,QAAKqV,IAAL,GAAY,UAAC/I,GAAD,EAAM4H,MAAN,EAAgB;AAC1B,SAAIG,WAAWC,mBAAmBJ,MAAnB,CAAf;AACA1W,aAAQC,GAAR,CAAY,kBAAkB6O,GAAlB,GAAwB+H,QAApC;AACA/W,YAAO0O,QAAP,CAAgBsJ,IAAhB,GAAuBhJ,MAAM+H,QAA7B;AACD,IAJD;;AAMA,OAAMC,qBAAqB,SAArBA,kBAAqB,CAACJ,MAAD,EAASqB,OAAT,EAAqB;AAC9C,SAAIlB,WAAW,EAAf;AACA,SAAIH,MAAJ,EAAY;AACV,WAAIpT,QAASyU,WAAWrU,SAAZ,GAAyBqU,OAAzB,GAAmC,IAA/C;AACA,YAAK,IAAI5U,KAAT,IAAkBuT,MAAlB,EAA0B;AACxB,aAAIpT,KAAJ,EAAW;AACTA,mBAAQ,KAAR;AACAuT,uBAAY,GAAZ;AACD,UAHD,MAIK;AACHA,uBAAY,GAAZ;AACD;AACDA,qBAAY1T,QAAQ,GAAR,GAAcuT,OAAOvT,KAAP,CAA1B;AACD;AACF;;AAED,YAAO0T,QAAP;AACD,IAjBD;;AAmBA,UAAOrU,IAAP;AACD,EAlF0B,EAA7B;;mBAoFeH,Q;;;;;;;;;;;;AC9Ff;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAJA;mBAMe;AACb2V,uCADa;AAEbC,uCAFa;AAGbC,mCAHa;AAIbC,+BAJa;AAKbC,+BALa;AAMbC,qCANa;AAObC,qCAPa;AAQbC,mCARa;AASbC,2BATa;AAUbC,+BAVa;AAWbC,6BAXa;AAYbC,yBAZa;AAabC,+BAba;AAcbzY,WAAQ,kBAAQA,MAdH;AAeb0Y,iBAAc,kBAAQC;AAfT,E,EAnBf;;;;;;;;;;;;;;ACGA;;;;;;AAEA,KAAMd,eAAe,SAAfA,YAAe,CAACnV,IAAD,EAAS;;AAE5B,OAAIkW,eAAe,IAAnB;AACA,OAAIC,eAAe,IAAnB;AACA,OAAIC,iBAAiB,IAArB;AACA,OAAIC,gBAAgB,IAApB;;AAEA,OAAIC,QAAQ,IAAInW,KAAKC,SAAT,EAAZ;;AAEA,4BAAUJ,KAAKuW,EAAf,EAAmBD,KAAnB,EAA0B,EAA1B;;AAEA,IAAC,YAAK;;AAEJJ,oBAAe/V,KAAKqW,OAAL,CAAaC,SAAb,CAAuBzW,KAAK0W,EAA5B,CAAf;;AAEA,SAAItV,IAAI8U,aAAaS,KAAb,CAAmBvV,CAA3B;AACA,SAAIC,IAAI6U,aAAaS,KAAb,CAAmBtV,CAA3B;;AAEA8U,oBAAe,IAAIhW,KAAKqW,OAAT,CAAiBN,YAAjB,EAA+B,IAAI/V,KAAKyW,SAAT,CAAmBxV,CAAnB,EAAsBC,CAAtB,EAAyBrB,KAAK8G,OAA9B,EAAuCoP,aAAaS,KAAb,CAAmBlZ,MAA1D,CAA/B,CAAf;AACA2Y,sBAAiB,IAAIjW,KAAKqW,OAAT,CAAiBN,YAAjB,EAA+B,IAAI/V,KAAKyW,SAAT,CAAmB5W,KAAK8G,OAAL,GAAe1F,CAAlC,EAAqCC,CAArC,EAAwCrB,KAAK6W,WAA7C,EAA0DX,aAAaS,KAAb,CAAmBlZ,MAA7E,CAA/B,CAAjB;AACA4Y,qBAAgB,IAAIlW,KAAKqW,OAAT,CAAiBN,YAAjB,EAA+B,IAAI/V,KAAKyW,SAAT,CAAmB5W,KAAK8G,OAAL,GAAe9G,KAAK6W,WAApB,GAAkCzV,CAArD,EAAwDC,CAAxD,EAA2D6U,aAAaS,KAAb,CAAmBnZ,KAAnB,GAA2BwC,KAAK8G,OAAhC,GAA0C9G,KAAK6W,WAA1G,EAAuHX,aAAaS,KAAb,CAAmBlZ,MAA1I,CAA/B,CAAhB;;AAEA,SAAIqZ,aAAa,IAAI3W,KAAKa,MAAT,CAAgBmV,YAAhB,CAAjB;AACA;;AAEA,SAAIY,eAAe,IAAI5W,KAAKa,MAAT,CAAgBoV,cAAhB,CAAnB;AACAW,kBAAavZ,KAAb,GAAqBwC,KAAKxC,KAAL,GAAawC,KAAK8G,OAAL,GAAgB,CAAlD;AACAiQ,kBAAa5P,QAAb,CAAsB/F,CAAtB,GAA0BpB,KAAK8G,OAA/B;;AAEA,SAAIkQ,cAAc,IAAI7W,KAAKa,MAAT,CAAgBqV,aAAhB,CAAlB;AACA;;AAEAW,iBAAY7P,QAAZ,CAAqB/F,CAArB,GAAyBpB,KAAKxC,KAAL,GAAawC,KAAK8G,OAA3C;AACA3J,aAAQC,GAAR,CAAY,gBAAgB4Z,YAAY7P,QAAZ,CAAqB/F,CAAjD;;AAEAkV,WAAMpV,QAAN,CAAe4V,UAAf;AACAR,WAAMpV,QAAN,CAAe6V,YAAf;AACAT,WAAMpV,QAAN,CAAe8V,WAAf;;AAEA,SAAMC,kBAAkB,SAAlBA,eAAkB,CAACC,UAAD,EAAe;AACrC,YAAI,IAAIjZ,IAAE,CAAV,EAAaA,IAAEiZ,WAAWlS,MAA1B,EAAkC,EAAE/G,CAApC,EAAuC;AACrCiZ,oBAAWjZ,CAAX,EAAckJ,QAAd,CAAuB/F,CAAvB,IAA4BpB,KAAKxC,KAAL,GAAY,CAAxC;AACA0Z,oBAAWjZ,CAAX,EAAckJ,QAAd,CAAuB9F,CAAvB,IAA4B6U,aAAazY,MAAb,GAAsB,CAAlD;AACD;AAEF,MAND;;AAQAwZ,qBAAgB,CAACH,UAAD,EAAaC,YAAb,EAA2BC,WAA3B,CAAhB;AAED,IAtCD;AAuCA,UAAOV,KAAP;AACD,EAnDD,C,CALA;;;mBA0DenB,Y;;;;;;;;;;;;ACtDf;;;;;;AAEA,KAAMgC,YAAY,SAAZA,SAAY,CAACC,GAAD,EAAMpN,GAAN,EAAWqN,KAAX,EAAqB;AACrCzE,UAAO0E,cAAP,CAAsBtN,GAAtB,EAA2B,MAA3B,EAAmC;AACjC8I,UAAK,eAAK;AACR,cAAO9I,GAAP;AACD;AAHgC,IAAnC;;AAMA,OAAGqN,KAAH,EAAU;AACR,8BAAUA,KAAV;AACAzE,YAAO0E,cAAP,CAAsBtN,GAAtB,EAA2B,cAA3B,EAA2C;AACzC8I,YAAK,eAAK;AACR,gBAAOuE,KAAP;AACD;AAHwC,MAA3C;AAKD;;AAED,OAAGD,OAAOA,QAAO,CAAjB,EAAoB;AAAA;AAClB,WAAMG,OAAOH,GAAb;AACAxE,cAAO0E,cAAP,CAAsBtN,GAAtB,EAA2B,IAA3B,EAAiC;AAC/B8I,cAAK,eAAK;AACR,kBAAOyE,IAAP;AACD;AAH8B,QAAjC;AAFkB;AAOnB;AACF,EAxBD,C,CANA;;;;mBAgCeJ,S;;;;;;;;;;;AChCf;;;AAGA,KAAM/X,YAAY,SAAZA,SAAY,CAAU4K,GAAV,EAAe;AAC7B,SAAIwN,WAAW,EAAf;;AAEAxN,SAAIyN,SAAJ,GAAgB,UAAUlU,IAAV,EAAgBmU,OAAhB,EAAyB;;AAErC,aAAI,CAAC1N,IAAIC,cAAJ,CAAmB1G,IAAnB,CAAL,EAA+B;AAC3ByG,iBAAIzG,IAAJ,IAAYmU,OAAZ;AACA;AACH;;AAED,aAAIF,SAASvN,cAAT,CAAwB1G,IAAxB,CAAJ,EAAmC;AAC/BiU,sBAASjU,IAAT,EAAenF,IAAf,CAAoBsZ,OAApB;AACH,UAFD,MAGK;AACD,iBAAIC,gBAAgB3N,IAAIzG,IAAJ,CAApB;AACAiU,sBAASjU,IAAT,IAAiB,CAACoU,aAAD,EAAgBD,OAAhB,CAAjB;;AAEA1N,iBAAIzG,IAAJ,IAAY,YAAY;AACpB,qBAAI2H,eAAJ;AACA,qBAAI0M,cAAcJ,SAASjU,IAAT,CAAlB;AACA,sBAAK,IAAIjD,KAAT,IAAkBsX,WAAlB,EAA+B;AAC3B1M,8BAAS0M,YAAYtX,KAAZ,EAAmBkT,KAAnB,CAAyB,IAAzB,EAA+BC,SAA/B,CAAT;AACA,yBAAIvI,UAAUrK,SAAV,IAAuB,CAACqK,MAA5B,EAAoC;AAChC,gCAAOA,MAAP;AACH;AACJ;;AAED,wBAAOA,MAAP;AACH,cAXD;AAYH;AACJ,MA3BD;;AA6BA,YAAOlB,GAAP;AACH,EAjCD;;mBAmCgB5K,S;;;;;;;;;;;;ACnChB;;;;;;AAEA,KAAMgW,eAAe,SAAfA,YAAe,CAACpV,IAAD,EAAS;AAC5B,OAAIkW,eAAe,IAAnB;;AAEA,OAAI2B,iBAAiB,IAArB;AACA,OAAIC,aAAa,IAAjB;AACA,OAAIC,kBAAkB,IAAtB;;AAEA,OAAI5B,eAAe,IAAnB;AACA,OAAIC,iBAAiB,IAArB;AACA,OAAIC,gBAAgB,IAApB;;AAEA,OAAI2B,mBAAmB,IAAvB;AACA,OAAIC,eAAe,IAAnB;AACA,OAAIC,oBAAoB,IAAxB;;AAEA,OAAI5B,QAAQ,IAAInW,KAAKC,SAAT,EAAZ;;AAEA,4BAAUJ,KAAKuW,EAAf,EAAmBD,KAAnB,EAA0B,EAA1B;;AAEA,IAAC,YAAI;AACHJ,oBAAe/V,KAAKqW,OAAL,CAAaC,SAAb,CAAuBzW,KAAK0W,EAA5B,CAAf;;AAEA,SAAItV,IAAI8U,aAAaS,KAAb,CAAmBvV,CAA3B;AACA,SAAIC,IAAI6U,aAAaS,KAAb,CAAmBtV,CAA3B;;AAEA,SAAI8W,aAAajC,aAAaS,KAAb,CAAmBnZ,KAAnB,GAA2BwC,KAAK8G,OAAhC,GAA0C9G,KAAK6W,WAAhE;AACA,SAAIuB,eAAelC,aAAaS,KAAb,CAAmBlZ,MAAnB,GAA4BuC,KAAKqY,OAAjC,GAA2CrY,KAAKsY,YAAnE;;AAEAT,sBAAiB,IAAI1X,KAAKqW,OAAT,CAAiBN,YAAjB,EAA+B,IAAI/V,KAAKyW,SAAT,CAAmBxV,CAAnB,EAAsBC,CAAtB,EAAyBrB,KAAK8G,OAA9B,EAAuC9G,KAAKqY,OAA5C,CAA/B,CAAjB;AACAP,kBAAa,IAAI3X,KAAKqW,OAAT,CAAiBN,YAAjB,EAA+B,IAAI/V,KAAKyW,SAAT,CAAmB5W,KAAK8G,OAAL,GAAe1F,CAAlC,EAAqCC,CAArC,EAAwCrB,KAAK6W,WAA7C,EAA0D7W,KAAKqY,OAA/D,CAA/B,CAAb;AACAN,uBAAkB,IAAI5X,KAAKqW,OAAT,CAAiBN,YAAjB,EAA+B,IAAI/V,KAAKyW,SAAT,CAAmB5W,KAAK8G,OAAL,GAAe9G,KAAK6W,WAApB,GAAkCzV,CAArD,EAAwDC,CAAxD,EAA2D8W,UAA3D,EAAuEnY,KAAKqY,OAA5E,CAA/B,CAAlB;;AAEAlC,oBAAe,IAAIhW,KAAKqW,OAAT,CAAiBN,YAAjB,EAA+B,IAAI/V,KAAKyW,SAAT,CAAmBxV,CAAnB,EAAsBpB,KAAKqY,OAAL,GAAehX,CAArC,EAAwCrB,KAAK8G,OAA7C,EAAsD9G,KAAKsY,YAA3D,CAA/B,CAAf;AACAlC,sBAAiB,IAAIjW,KAAKqW,OAAT,CAAiBN,YAAjB,EAA+B,IAAI/V,KAAKyW,SAAT,CAAmB5W,KAAK8G,OAAL,GAAe1F,CAAlC,EAAqCpB,KAAKqY,OAAL,GAAehX,CAApD,EAAuDrB,KAAK6W,WAA5D,EAAyE7W,KAAKsY,YAA9E,CAA/B,CAAjB;AACAjC,qBAAgB,IAAIlW,KAAKqW,OAAT,CAAiBN,YAAjB,EAA+B,IAAI/V,KAAKyW,SAAT,CAAmB5W,KAAK8G,OAAL,GAAe9G,KAAK6W,WAApB,GAAkCzV,CAArD,EAAwDpB,KAAKqY,OAAL,GAAehX,CAAvE,EAA0E8W,UAA1E,EAAsFnY,KAAKsY,YAA3F,CAA/B,CAAhB;;AAEAN,wBAAmB,IAAI7X,KAAKqW,OAAT,CAAiBN,YAAjB,EAA+B,IAAI/V,KAAKyW,SAAT,CAAmBxV,CAAnB,EAAsBpB,KAAKqY,OAAL,GAAerY,KAAKsY,YAApB,GAAmCjX,CAAzD,EAA4DrB,KAAK8G,OAAjE,EAA0EsR,YAA1E,CAA/B,CAAnB;AACAH,oBAAe,IAAI9X,KAAKqW,OAAT,CAAiBN,YAAjB,EAA+B,IAAI/V,KAAKyW,SAAT,CAAmB5W,KAAK8G,OAAL,GAAe1F,CAAlC,EAAqCpB,KAAKqY,OAAL,GAAerY,KAAKsY,YAApB,GAAmCjX,CAAxE,EAA2ErB,KAAK6W,WAAhF,EAA6FuB,YAA7F,CAA/B,CAAf;AACAF,yBAAoB,IAAI/X,KAAKqW,OAAT,CAAiBN,YAAjB,EAA+B,IAAI/V,KAAKyW,SAAT,CAAmB5W,KAAK8G,OAAL,GAAe9G,KAAK6W,WAApB,GAAkCzV,CAArD,EAAwDpB,KAAKqY,OAAL,GAAerY,KAAKsY,YAApB,GAAmCjX,CAA3F,EAA8F8W,UAA9F,EAA0GC,YAA1G,CAA/B,CAApB;;AAGA;AACA,SAAIG,eAAe,IAAIpY,KAAKa,MAAT,CAAgB6W,cAAhB,CAAnB;AACAU,kBAAa/a,KAAb,GAAqBwC,KAAK8G,OAA1B;AACAyR,kBAAa9a,MAAb,GAAsBuC,KAAKqY,OAA3B;;AAEA,SAAIG,WAAW,IAAIrY,KAAKa,MAAT,CAAgB8W,UAAhB,CAAf;AACAU,cAAShb,KAAT,GAAiBwC,KAAKxC,KAAL,GAAawC,KAAK8G,OAAlB,GAA4BqR,UAA7C;AACAK,cAAS/a,MAAT,GAAkBuC,KAAKqY,OAAvB;;AAEA,SAAII,gBAAgB,IAAItY,KAAKa,MAAT,CAAgB+W,eAAhB,CAApB;AACAU,mBAAcjb,KAAd,GAAsB2a,UAAtB;AACAM,mBAAchb,MAAd,GAAuBuC,KAAKqY,OAA5B;;AAEA;AACA,SAAIvB,aAAa,IAAI3W,KAAKa,MAAT,CAAgBmV,YAAhB,CAAjB;AACAW,gBAAWtZ,KAAX,GAAmBwC,KAAK8G,OAAxB;AACAgQ,gBAAWrZ,MAAX,GAAoBuC,KAAKvC,MAAL,GAAcuC,KAAKqY,OAAnB,GAA6BD,YAAjD;;AAEA,SAAIrB,eAAe,IAAI5W,KAAKa,MAAT,CAAgBoV,cAAhB,CAAnB;AACAW,kBAAavZ,KAAb,GAAqBwC,KAAKxC,KAAL,GAAawC,KAAK8G,OAAlB,GAA4BqR,UAAjD;AACApB,kBAAatZ,MAAb,GAAsBuC,KAAKvC,MAAL,GAAcuC,KAAKqY,OAAnB,GAA6BD,YAAnD;;AAEA,SAAIpB,cAAc,IAAI7W,KAAKa,MAAT,CAAgBqV,aAAhB,CAAlB;AACAW,iBAAYxZ,KAAZ,GAAoB2a,UAApB;AACAnB,iBAAYvZ,MAAZ,GAAqBuC,KAAKvC,MAAL,GAAcuC,KAAKqY,OAAnB,GAA6BD,YAAlD;;AAEA;AACA,SAAIM,iBAAiB,IAAIvY,KAAKa,MAAT,CAAgBgX,gBAAhB,CAArB;AACAU,oBAAelb,KAAf,GAAuBwC,KAAK8G,OAA5B;AACA4R,oBAAejb,MAAf,GAAwB2a,YAAxB;;AAEA,SAAIO,aAAa,IAAIxY,KAAKa,MAAT,CAAgBiX,YAAhB,CAAjB;AACAU,gBAAWnb,KAAX,GAAmBwC,KAAKxC,KAAL,GAAawC,KAAK8G,OAAlB,GAA4BqR,UAA/C;AACAQ,gBAAWlb,MAAX,GAAoB2a,YAApB;;AAEA,SAAIQ,kBAAkB,IAAIzY,KAAKa,MAAT,CAAgBkX,iBAAhB,CAAtB;AACAU,qBAAgBpb,KAAhB,GAAwB2a,UAAxB;AACAS,qBAAgBnb,MAAhB,GAAyB2a,YAAzB;;AAEAI,cAASrR,QAAT,CAAkB/F,CAAlB,GAAsBpB,KAAK8G,OAA3B;AACA2R,mBAActR,QAAd,CAAuB/F,CAAvB,GAA2BpB,KAAKxC,KAAL,GAAa2a,UAAxC;;AAEArB,gBAAW3P,QAAX,GAAsB;AACpB/F,UAAG,CADiB;AAEpBC,UAAGrB,KAAKqY;AAFY,MAAtB;AAIAtB,kBAAa5P,QAAb,GAAwB;AACtB/F,UAAGpB,KAAK8G,OADc;AAEtBzF,UAAGrB,KAAKqY;AAFc,MAAxB;AAIArB,iBAAY7P,QAAZ,GAAuB;AACrB/F,UAAGpB,KAAKxC,KAAL,GAAa2a,UADK;AAErB9W,UAAGrB,KAAKqY;AAFa,MAAvB;;AAKAK,oBAAevR,QAAf,GAA0B;AACxB/F,UAAG,CADqB;AAExBC,UAAGrB,KAAKvC,MAAL,GAAc2a;AAFO,MAA1B;AAIAO,gBAAWxR,QAAX,GAAsB;AACpB/F,UAAGpB,KAAK8G,OADY;AAEpBzF,UAAGrB,KAAKvC,MAAL,GAAc2a;AAFG,MAAtB;AAIAQ,qBAAgBzR,QAAhB,GAA2B;AACzB/F,UAAGpB,KAAKxC,KAAL,GAAa2a,UADS;AAEzB9W,UAAGrB,KAAKvC,MAAL,GAAc2a;AAFQ,MAA3B;;AAMA,SAAMS,cAAc,SAAdA,WAAc,CAACC,WAAD,EAAgB;AAClC,YAAI,IAAI7a,IAAE,CAAV,EAAaA,IAAE6a,YAAY9T,MAA3B,EAAmC,EAAE/G,CAArC,EAAwC;AACtC6a,qBAAY7a,CAAZ,EAAekJ,QAAf,CAAwB/F,CAAxB,IAA6BpB,KAAKxC,KAAL,GAAa,CAA1C;AACAsb,qBAAY7a,CAAZ,EAAekJ,QAAf,CAAwB9F,CAAxB,IAA6BrB,KAAKvC,MAAL,GAAc,CAA3C;;AAEA6Y,eAAMpV,QAAN,CAAe4X,YAAY7a,CAAZ,CAAf;AACD;AACF,MAPD;;AASA4a,iBAAY,CAACN,YAAD,EAAeC,QAAf,EAAyBC,aAAzB,EAAwC3B,UAAxC,EAAoDC,YAApD,EAAkEC,WAAlE,EAA+E0B,cAA/E,EAA+FC,UAA/F,EAA2GC,eAA3G,CAAZ;AAED,IAtGD;;AAwGA,UAAOtC,KAAP;AACD,EA5HD,C,CALA;;;mBAmIelB,Y;;;;;;;;;;;;AChIf;;;;AACA;;;;AACA;;;;;;AACA,KAAMC,aAAa,SAAbA,UAAa,CAACrV,IAAD,EAAS;AAC1B,OAAI+Y,WAAW;AACbC,cAAShZ,KAAKgZ,OAAL,IAAgBnY,SAAhB,GAA4Bb,KAAKgZ,OAAjC,GAA0C,yBAASC,SAD/C;AAEbC,cAASlZ,KAAKkZ,OAAL,IAAgBrY,SAAhB,GAA4Bb,KAAKkZ,OAAjC,GAA0C,yBAASD,SAF/C;AAGbE,kBAAanZ,KAAKmZ,WAAL,IAAoBtY,SAApB,GAAgCb,KAAKmZ,WAArC,GAAkD,yBAASA,WAH3D;AAIbC,oBAAepZ,KAAKqZ,MAJP;;AAMbC,aAAQ,IANK;;AAQb;AACAC,qBAAgB,IATH;AAUbC,mBAAc,IAVD;AAWbC,kBAAa,IAXA;AAYbC,gBAAW;AAZE,IAAf;;AAeA,OAAIpD,QAAQ,IAAZ;AACA,OAAIqD,QAAQ,IAAZ;AACA,OAAIC,eAAe,IAAnB;AACA,IAAC,YAAI;AACHtD,aAAQ,IAAInW,KAAKC,SAAT,EAAR;AACAuZ,aAAQ,IAAIxZ,KAAK0Z,QAAT,EAAR;AACAF,WAAMG,OAAN,GAAgB,IAAhB;AACAH,WAAMI,QAAN,CAAe,CAAf,EAAkB,CAAlB,EAAqB/Z,KAAKxC,KAA1B,EAAiCwC,KAAKvC,MAAtC;AACA6Y,WAAMpV,QAAN,CAAeyY,KAAf;;AAEArD,WAAM0D,WAAN,GAAoB,IAApB;AACA1D,WAAM2D,OAAN,GAAgB,IAAI9Z,KAAKyW,SAAT,CAAmB,CAAnB,EAAqB,CAArB,EAAuB5W,KAAKxC,KAA5B,EAAkCwC,KAAKvC,MAAvC,CAAhB;;AAEAmc,oBAAe,IAAIzZ,KAAKC,SAAT,EAAf;AACAwZ,kBAAaM,IAAb,GAAoBP,KAApB;AACArD,WAAMpV,QAAN,CAAe0Y,YAAf;;AAEA,8BAAU5Z,KAAKuW,EAAf,EAAmBD,KAAnB,EAA0ByC,QAA1B;AACD,IAfD;;AAiBA;AACA,OAAI,sBAAQzK,SAAZ,EAAuB;AACrB,MAAC,YAAI;AACH,WAAI6L,QAAQ,IAAIha,KAAK0Z,QAAT,EAAZ;AACAM,aAAMC,SAAN,CAAgB,CAAhB,EAAmB,QAAnB,EAA6B,CAA7B;AACAD,aAAMJ,QAAN,CAAe,CAAf,EAAkB,CAAlB,EAAqB/Z,KAAKxC,KAA1B,EAAiCwC,KAAKvC,MAAtC;AACA6Y,aAAMpV,QAAN,CAAeiZ,KAAf;AACD,MALD;AAMD;;AAED,OAAME,cAAc;AAClBC,WAAM,CADY;AAElBC,eAAU;AAFQ,IAApB;;AAKA,OAAMC,YAAY,SAAZA,SAAY,CAACC,QAAD,EAAc;AAC9B,SAAG1B,SAASO,MAAT,KAAoBmB,QAAvB,EAAiC;AAC/B;AACD;;AAED1B,cAASO,MAAT,GAAkBmB,QAAlB;AACD,IAND;;AAQA1B,YAASS,YAAT,GAAwB,UAACpY,CAAD,EAAIC,CAAJ,EAAS;AAC/BuY,kBAAazS,QAAb,CAAsB/F,CAAtB,IAA2BA,CAA3B;AACAwY,kBAAazS,QAAb,CAAsB9F,CAAtB,IAA2BA,CAA3B;;AAEAuY,kBAAazS,QAAb,CAAsB/F,CAAtB,GAA0BkF,KAAKC,GAAL,CAASqT,aAAazS,QAAb,CAAsB/F,CAA/B,EAAkC2X,SAASK,aAAT,CAAuB9R,KAAvB,GAA+ByR,SAASC,OAA1E,CAA1B;AACAY,kBAAazS,QAAb,CAAsB/F,CAAtB,GAA0BkF,KAAK+C,GAAL,CAASuQ,aAAazS,QAAb,CAAsB/F,CAA/B,EAAkC2X,SAASK,aAAT,CAAuB/R,IAAvB,GAA8B0R,SAASC,OAAzE,CAA1B;;AAEAY,kBAAazS,QAAb,CAAsB9F,CAAtB,GAA0BiF,KAAKC,GAAL,CAASqT,aAAazS,QAAb,CAAsB9F,CAA/B,EAAkC0X,SAASK,aAAT,CAAuB5R,MAAvB,GAAgCuR,SAASG,OAA3E,CAA1B;AACAU,kBAAazS,QAAb,CAAsB9F,CAAtB,GAA0BiF,KAAK+C,GAAL,CAASuQ,aAAazS,QAAb,CAAsB9F,CAA/B,EAAkC0X,SAASK,aAAT,CAAuB7R,GAAvB,GAA6BwR,SAASG,OAAxE,CAA1B;AACD,IATD;;AAWA,OAAIwB,WAAW,IAAf;AACA,OAAMC,gBAAgB,SAAhBA,aAAgB,CAAC5c,KAAD,EAAU;AAC9B2c,gBAAW;AACTtZ,UAAGrD,MAAMsH,IAAN,CAAWuV,MAAX,CAAkBxZ,CADZ;AAETC,UAAGtD,MAAMsH,IAAN,CAAWuV,MAAX,CAAkBvZ;AAFZ,MAAX;;AAKAmZ,eAAUH,YAAYE,QAAtB;AACD,IAPD;;AASA,OAAMM,eAAe,SAAfA,YAAe,CAAC9c,KAAD,EAAU;AAC7B,SAAG,CAAC2c,QAAJ,EAAc;AACZ;AACD;;AAED,SAAII,MAAM/c,MAAMsH,IAAN,CAAWuV,MAArB;;AAEA7B,cAASS,YAAT,CAAsBsB,IAAI1Z,CAAJ,GAAOsZ,SAAStZ,CAAtC,EAAyC0Z,IAAIzZ,CAAJ,GAAOqZ,SAASrZ,CAAzD;;AAEAqZ,gBAAW;AACTtZ,UAAG0Z,IAAI1Z,CADE;AAETC,UAAGyZ,IAAIzZ;AAFE,MAAX;AAID,IAbD;;AAeA,OAAM0Z,cAAc,SAAdA,WAAc,CAAChd,KAAD,EAAW;AAC7B;AACA2c,gBAAW,IAAX;AACAF,eAAUH,YAAYC,IAAtB;AACD,IAJD;;AAMA,IAAC,YAAI;AACHhE,WAAM0E,EAAN,CAAS,YAAT,EAAuBL,aAAvB,EACGK,EADH,CACM,WADN,EACmBL,aADnB;;AAIArE,WAAM0E,EAAN,CAAS,SAAT,EAAoBD,WAApB,EACGC,EADH,CACM,UADN,EACkBD,WADlB,EAEGC,EAFH,CAEM,gBAFN,EAEwBD,WAFxB,EAGGC,EAHH,CAGM,iBAHN,EAGyBD,WAHzB;;AAKAzE,WAAM0E,EAAN,CAAS,WAAT,EAAsBH,YAAtB,EACCG,EADD,CACI,WADJ,EACiBH,YADjB;AAED,IAZD;;AAcA9B,YAASW,SAAT,GAAqB,UAACuB,IAAD,EAAU;AAC7BrB,kBAAa1Y,QAAb,CAAsB+Z,IAAtB;AACD,IAFD;;AAIAlC,YAASQ,cAAT,GAA0B,UAAC7H,EAAD,EAAO;AAC/B,SAAIwJ,YAAY,KAAhB;AACA,SAAGtB,aAAazS,QAAb,CAAsB/F,CAAtB,GAA0B2X,SAASK,aAAT,CAAuB/R,IAApD,EAA0D;AACxDuS,oBAAazS,QAAb,CAAsB/F,CAAtB,IAA2BsQ,KAAKqH,SAASI,WAAd,GAA4B,IAAvD;AACA,WAAG7S,KAAK6U,GAAL,CAASvB,aAAazS,QAAb,CAAsB/F,CAAtB,GAA0B2X,SAASK,aAAT,CAAuB/R,IAA1D,KAAmE,CAAtE,EAA0E;AACxEuS,sBAAazS,QAAb,CAAsB/F,CAAtB,GAA0B2X,SAASK,aAAT,CAAuB/R,IAAjD;AACD;AACD6T,mBAAY,IAAZ;AACD;;AAED,SAAGtB,aAAazS,QAAb,CAAsB/F,CAAtB,GAA0B2X,SAASK,aAAT,CAAuB9R,KAApD,EAA2D;AACzDsS,oBAAazS,QAAb,CAAsB/F,CAAtB,IAA2BsQ,KAAKqH,SAASI,WAAd,GAA4B,IAAvD;AACA,WAAG7S,KAAK6U,GAAL,CAASvB,aAAazS,QAAb,CAAsB/F,CAAtB,GAA0B2X,SAASK,aAAT,CAAuB9R,KAA1D,KAAoE,CAAvE,EAA2E;AACzEsS,sBAAazS,QAAb,CAAsB/F,CAAtB,GAA0B2X,SAASK,aAAT,CAAuB9R,KAAjD;AACD;AACD4T,mBAAY,IAAZ;AACD;;AAED,SAAGtB,aAAazS,QAAb,CAAsB9F,CAAtB,GAA0B0X,SAASK,aAAT,CAAuB7R,GAApD,EAAyD;AACvDqS,oBAAazS,QAAb,CAAsB9F,CAAtB,IAA2BqQ,KAAKqH,SAASI,WAAd,GAA4B,IAAvD;AACA,WAAG7S,KAAK6U,GAAL,CAASvB,aAAazS,QAAb,CAAsB9F,CAAtB,GAA0B0X,SAASK,aAAT,CAAuB7R,GAA1D,KAAkE,CAArE,EAAyE;AACvEqS,sBAAazS,QAAb,CAAsB9F,CAAtB,GAA0B0X,SAASK,aAAT,CAAuB7R,GAAjD;AACD;AACD2T,mBAAY,IAAZ;AACD;;AAED,SAAGtB,aAAazS,QAAb,CAAsB9F,CAAtB,GAA0B0X,SAASK,aAAT,CAAuB5R,MAApD,EAA4D;AAC1DoS,oBAAazS,QAAb,CAAsB9F,CAAtB,IAA2BqQ,KAAKqH,SAASI,WAAd,GAA4B,IAAvD;AACA,WAAG7S,KAAK6U,GAAL,CAASvB,aAAazS,QAAb,CAAsB9F,CAAtB,GAA0B0X,SAASK,aAAT,CAAuB5R,MAA1D,KAAqE,CAAxE,EAA4E;AAC1EoS,sBAAazS,QAAb,CAAsB9F,CAAtB,GAA0B0X,SAASK,aAAT,CAAuB5R,MAAjD;AACD;AACD0T,mBAAY,IAAZ;AACD;;AAED,YAAOA,SAAP;AACD,IAnCD;;AAqCAnC,YAASU,WAAT,GAAuB,UAAC/H,EAAD,EAAO,CAC7B,CADD;;AAGAqH,YAASjH,MAAT,GAAkB,UAACJ,EAAD,EAAO;AACvB,SAAGqH,SAASO,MAAT,IAAmBe,YAAYC,IAAlC,EAAwC;AACtC;AACD;;AAED,SAAGvB,SAASQ,cAAT,CAAwB7H,EAAxB,CAAH,EAAiC;AAC/B;AACD;;AAEDqH,cAASU,WAAT,CAAqB/H,EAArB;AACD,IAVD;;AAYAvR,QAAKyR,MAAL,CAAYC,MAAZ,CAAmBvE,GAAnB,CAAuB,YAAK;AAC1B;AACAyL,cAASjH,MAAT,CAAgB3R,KAAKyR,MAAL,CAAYC,MAAZ,CAAmBuJ,SAAnB,GAA+Bjb,KAAKyR,MAAL,CAAYC,MAAZ,CAAmBwJ,MAAlE;AACD,IAHD;;AAKAb,aAAUH,YAAYC,IAAtB;;AAEA1H,UAAO0E,cAAP,CAAsBhB,KAAtB,EAA6B,aAA7B,EAA4C;AAC1CxD,UAAK,eAAK;AACR,cAAO8G,YAAP;AACD;AAHyC,IAA5C;;AAMAhH,UAAO0E,cAAP,CAAsBhB,KAAtB,EAA6B,UAA7B,EAAyC;AACvCxD,UAAK,eAAK;AACR,cAAOiG,SAASW,SAAhB;AACD;AAHsC,IAAzC;;AAMA,UAAOpD,KAAP;AACD,EA/LD,C,CANA;;;mBAuMejB,U;;;;;;;;;;;ACvMf;;;;mBAIe;AACb4D,cAAW,EADE;AAEbE,gBAAa,GAFA;AAGbmC,gBAAa;AAHA,E;;;;;;;;;;;;ACAf;;;;AACA;;;;;;AALA;;;;AAOA,KAAMC,WAAW,SAAXA,QAAW,CAACN,IAAD,EAAOjW,MAAP,EAAkB;AACjC,UAAO;AACLiW,WAAMA,IADD;AAELjW,aAAQA;AAFH,IAAP;AAID,EALD;;AAOA,KAAMsQ,WAAW,SAAXA,QAAW,CAACtV,IAAD,EAAS;AACxBA,QAAKF,IAAL,GAAYE,KAAKF,IAAL,GAAYE,KAAKF,IAAjB,GAAwB,UAApC;AACAE,QAAKqZ,MAAL,GAAc;AACZhS,WAAM,CADM;AAEZC,YAAO,CAFK;AAGZC,UAAK,CAHO;AAIZC,aAAQ;AAJI,IAAd;AAMA,OAAGxH,KAAKF,IAAL,IAAa,YAAhB,EAA8B;AAC5BE,UAAKkZ,OAAL,GAAe,CAAf;AACD,IAFD,MAGK;AACHlZ,UAAKgZ,OAAL,GAAe,CAAf;AACD;;AAED,OAAIrZ,OAAO,0BAAWK,IAAX,CAAX;;AAEA,OAAIwb,YAAY,EAAhB;AACA,OAAMzC,WAAWpZ,KAAK8b,YAAtB;;AAEA1C,YAASW,SAAT,GAAqB,UAACgC,KAAD,EAAQC,YAAR,EAAuB;;AAE1C,SAAI3W,SAAS2W,eAAeA,YAAf,GAA8B3b,KAAK4b,UAAhD;AACA,SAAIC,UAAU7b,KAAKsb,WAAL,IAAoBza,SAApB,GAAgCb,KAAKsb,WAArC,GAAmD,yBAASA,WAA1E;;AAEA3b,UAAKmc,WAAL,CAAiB5a,QAAjB,CAA0Bwa,KAA1B;;AAEA,SAAIjb,QAAQ,CAAZ;AACA,UAAI,IAAIxC,IAAE,CAAV,EAAaA,IAAGud,UAAUxW,MAA1B,EAAkC,EAAE/G,CAApC,EAAuC;AACrCwC,gBAAS+a,UAAUvd,CAAV,EAAa+G,MAAb,GAAsB6W,OAA/B;AACD;;AAED,SAAG7b,KAAKF,IAAL,IAAa,YAAhB,EAA8B;;AAE5B4b,aAAMvU,QAAN,GAAiB;AACf/F,YAAGX,QAAQuE,SAAS,CADL;AAEf3D,YAAGrB,KAAKvC,MAAL,GAAc;AAFF,QAAjB;AAIAsb,gBAASK,aAAT,CAAuB/R,IAAvB,GAA8Bf,KAAKC,GAAL,CAAS,CAAT,EAAYvG,KAAKxC,KAAL,GAAaiD,KAAb,GAAqBuE,MAAjC,CAA9B;AACA;AACD,MARD,MASK,IAAGhF,KAAKF,IAAL,IAAa,UAAhB,EAA4B;AAC/B;AACA4b,aAAMvU,QAAN,GAAiB;AACf/F,YAAGpB,KAAKxC,KAAL,GAAa,CADD;AAEf6D,YAAGZ,QAAQuE,SAAS;AAFL,QAAjB;AAIA+T,gBAASK,aAAT,CAAuB7R,GAAvB,GAA6BjB,KAAKC,GAAL,CAAS,CAAT,EAAYvG,KAAKvC,MAAL,GAAcgD,KAAd,GAAsBuE,MAAlC,CAA7B;AACD;;AAEDwW,eAAUpd,IAAV,CAAemd,SAASG,KAAT,EAAgB1W,MAAhB,CAAf;AACD,IA/BD;;AAiCA,OAAM+W,cAAc,SAAdA,WAAc,GAAK;AACvB,UAAI,IAAI9d,IAAE,CAAV,EAAaA,IAAEud,UAAUxW,MAAzB,EAAiC,EAAE/G,CAAnC,EAAsC;AACpC0B,YAAKmc,WAAL,CAAiBra,WAAjB,CAA6B+Z,UAAUvd,CAAV,EAAagd,IAA1C;AACD;;AAEDO,iBAAY,EAAZ;AACAzC,cAASK,aAAT,GAAyB;AACvB/R,aAAM,CADiB;AAEvBC,cAAO,CAFgB;AAGvBC,YAAK,CAHkB;AAIvBC,eAAQ;AAJe,MAAzB;;AAOA7H,UAAKmc,WAAL,CAAiB3U,QAAjB,CAA0BD,GAA1B,CAA8B,CAA9B,EAAgC,CAAhC;AACD,IAdD;;AAgBA0L,UAAO0E,cAAP,CAAsB3X,IAAtB,EAA4B,YAA5B,EAA0C;AACxCmT,UAAK,eAAK;AACR,cAAOiJ,WAAP;AACD;AAHuC,IAA1C;;AAMA,UAAOpc,IAAP;AACD,EA5ED;;mBA8Ee2V,Q;;;;;;;;;;;;ACzFf;;;;;;AAEA,KAAMC,WAAW,SAAXA,QAAW,CAACvV,IAAD,EAAS;AACxBA,QAAKF,IAAL,GAAYE,KAAKF,IAAL,GAAYE,KAAKF,IAAjB,GAAwB,UAApC;AACAE,QAAKqZ,MAAL,GAAc;AACZhS,WAAM,CADM;AAEZC,YAAO,CAFK;AAGZC,UAAK,CAHO;AAIZC,aAAQ;AAJI,IAAd;AAMAxH,QAAKkZ,OAAL,GAAe,CAAf;AACAlZ,QAAKgZ,OAAL,GAAe,CAAf;;AAEA,OAAIrZ,OAAO,0BAAWK,IAAX,CAAX;AACA,OAAI+Y,WAAWpZ,KAAK8b,YAApB;;AAEA,OAAIO,YAAY,EAAhB;AACAjD,YAASkD,YAAT,GAAwB,CAAxB;;AAEAlD,YAASW,SAAT,GAAqB,UAACgC,KAAD,EAAS;AAC5Bve,aAAQC,GAAR,CAAY,gBAAZ;AACAuC,UAAKmc,WAAL,CAAiB5a,QAAjB,CAA0Bwa,KAA1B;;AAEA,SAAIjb,QAAQ,CAAZ;;AAEA,SAAGT,KAAKF,IAAL,IAAa,YAAhB,EAA8B;AAC5BW,eAAQub,UAAUhX,MAAV,GAAmBhF,KAAKxC,KAAhC;AACAke,aAAMvU,QAAN,GAAiB;AACf/F,YAAGX,QAAQT,KAAKxC,KAAL,GAAa,CADT;AAEf6D,YAAGrB,KAAKvC,MAAL,GAAc;AAFF,QAAjB;AAIAsb,gBAASK,aAAT,CAAuB/R,IAAvB,GAA8B,CAAE2U,UAAUhX,MAAZ,GAAqBhF,KAAKxC,KAAxD;AACD,MAPD,MAQK,IAAGwC,KAAKF,IAAL,IAAa,UAAhB,EAA4B;AAC/BW,eAAQub,UAAUhX,MAAV,GAAmBhF,KAAKvC,MAAhC;AACAie,aAAMvU,QAAN,GAAiB;AACf/F,YAAGpB,KAAKxC,KAAL,GAAa,CADD;AAEf6D,YAAGZ,QAAQT,KAAKvC,MAAL,GAAc;AAFV,QAAjB;AAIAsb,gBAASK,aAAT,CAAuB7R,GAAvB,GAA8B,CAAEyU,UAAUhX,MAAZ,GAAqBhF,KAAKvC,MAAxD;AACD;;AAEDue,eAAU5d,IAAV,CAAesd,KAAf;AACD,IAxBD;;AA0BA3C,YAASU,WAAT,GAAuB,UAAC/H,EAAD,EAAM;AAC3B,SAAGsK,UAAUhX,MAAV,IAAoB,CAAvB,EAA0B;AACxB;AACD;;AAED,aAAQhF,KAAKF,IAAb;AACA,YAAK,YAAL;AACE,aAAIoc,UAAU,CAACnD,SAASkD,YAAV,GAAyBjc,KAAKxC,KAA5C;;AAEA,aAAG8I,KAAK6U,GAAL,CAASxb,KAAKmc,WAAL,CAAiB3U,QAAjB,CAA0B/F,CAA1B,GAA8B8a,OAAvC,KAAmD,EAAtD,EAA0D;AACxDvc,gBAAKmc,WAAL,CAAiB3U,QAAjB,CAA0B/F,CAA1B,GAA8B8a,OAA9B;AACD,UAFD,MAGK;AACHvc,gBAAKmc,WAAL,CAAiB3U,QAAjB,CAA0B/F,CAA1B,IAA+B8a,UAAUvc,KAAKmc,WAAL,CAAiB3U,QAAjB,CAA0B/F,CAApC,GAAwCsQ,KAAK,GAA7C,GAAmDA,KAAK,CAAC,GAAxF;AACD;AACD;AACF,YAAK,UAAL;AACE,aAAIyK,UAAU,CAACpD,SAASkD,YAAV,GAAyBjc,KAAKvC,MAA5C;AACA,aAAG6I,KAAK6U,GAAL,CAASxb,KAAKmc,WAAL,CAAiB3U,QAAjB,CAA0B9F,CAA1B,GAA8B8a,OAAvC,KAAmD,EAAtD,EAA0D;AACxDxc,gBAAKmc,WAAL,CAAiB3U,QAAjB,CAA0B9F,CAA1B,GAA8B8a,OAA9B;AACD,UAFD,MAGK;AACHxc,gBAAKmc,WAAL,CAAiB3U,QAAjB,CAA0B9F,CAA1B,IAA+B8a,UAAUxc,KAAKmc,WAAL,CAAiB3U,QAAjB,CAA0B9F,CAApC,GAAwCqQ,KAAK,GAA7C,GAAmDA,KAAK,CAAC,GAAxF;AACD;AACD;AACF;AACE;AArBF;AAwBD,IA7BD;;AA+BAqH,YAAStB,SAAT,CAAmB,cAAnB,EAAmC,UAACrW,CAAD,EAAIC,CAAJ,EAAS;AAC1C,aAAQrB,KAAKF,IAAb;AACA,YAAK,YAAL;AACEiZ,kBAASkD,YAAT,GAAwB3V,KAAK6E,KAAL,CAAY,CAAC,CAACxL,KAAKmc,WAAL,CAAiB3U,QAAjB,CAA0B/F,CAA3B,GAA+BpB,KAAKxC,KAAL,GAAa,CAA7C,IAAkDwC,KAAKxC,KAAnE,CAAxB;AACA;AACF,YAAK,UAAL;AACEub,kBAASkD,YAAT,GAAwB3V,KAAK6E,KAAL,CAAY,CAAC,CAACxL,KAAKmc,WAAL,CAAiB3U,QAAjB,CAA0B9F,CAA3B,GAA+BrB,KAAKvC,MAAL,GAAc,CAA9C,IAAmDuC,KAAKvC,MAApE,CAAxB;AACA;AACF;AACE;AARF;AAUD,IAXD;;AAaAmV,UAAO0E,cAAP,CAAsB3X,IAAtB,EAA4B,WAA5B,EAAyC;AACvCmT,UAAK,eAAK;AACR,cAAOkJ,UAAUhX,MAAjB;AACD;AAHsC,IAAzC;;AAMA4N,UAAO0E,cAAP,CAAsB3X,IAAtB,EAA4B,QAA5B,EAAsC;AACpCuH,UAAK,aAACkV,GAAD,EAAQ;AACXpc,YAAKxC,KAAL,GAAa4e,GAAb;AACD;AAHmC,IAAtC;;AAMAxJ,UAAO0E,cAAP,CAAsB3X,IAAtB,EAA4B,cAA5B,EAA4C;AAC1CmT,UAAK,eAAK;AACR,cAAOiG,SAASkD,YAAhB;AACD,MAHyC;AAI1C/U,UAAK,aAACkV,GAAD,EAAQ;AACXrD,gBAASkD,YAAT,GAAwBG,GAAxB;AACD;AANyC,IAA5C;;AASA,UAAOzc,IAAP;AACD,EA7GD,C,CALA;;;mBAoHe4V,Q;;;;;;;;;;;;AChHf;;;;;;AAEA,KAAMI,SAAS,SAATA,MAAS,CAAC3V,IAAD,EAAU;;AAEvB,OAAI+Y,WAAW;AACbsD,oBAAe,IADF;AAEbC,qBAAgB,IAFH;AAGbC,aAAQ,IAHK;AAIbC,cAAS;AAJI,IAAf;;AAOA,OAAIC,UAAU,IAAd;AACA,OAAIC,SAAS,IAAb;;AAEA,IAAC,YAAK;AACJ3D,cAASsD,aAAT,GAAyBlc,KAAKqW,OAAL,CAAaC,SAAb,CAAuBzW,KAAK0W,EAA5B,CAAzB;AACA,SAAI1W,KAAK2c,UAAT,EAAqB;AACnB5D,gBAASuD,cAAT,GAA0Bnc,KAAKqW,OAAL,CAAaC,SAAb,CAAuBzW,KAAK2c,UAA5B,CAA1B;AACD;;AAEDF,eAAU,IAAItc,KAAKa,MAAT,EAAV;AACAyb,aAAQG,OAAR,GAAkB7D,SAASsD,aAA3B;;AAEAI,aAAQtb,MAAR,CAAe+F,GAAf,CAAmB,GAAnB;;AAGAuV,aAAQzC,WAAR,GAAsB,IAAtB;;AAEA,8BAAUha,KAAKuW,EAAf,EAAmBkG,OAAnB,EAA4B1D,QAA5B;AACD,IAfD;;AAkBA,OAAM8D,YAAY,SAAZA,SAAY,CAACC,OAAD,EAAY;AAC5B,SAAIA,WAAWjc,SAAX,IAAwBic,WAAW,IAAvC,EAA6C;AAC3C;AACD;;AAED,SAAI,CAACJ,MAAL,EAAa;AACX,WAAI/V,QAAQ3G,KAAK2G,KAAL,GAAa3G,KAAK2G,KAAlB,GAA0B,EAACoW,MAAM,YAAP,EAAqBC,MAAM,SAA3B,EAAtC;AACA,WAAIC,aAAajd,KAAKid,UAAL,GAAkBjd,KAAKid,UAAvB,GAAoC,CAArD;AACAP,gBAAS,IAAIvc,KAAK+c,IAAT,CAAc,EAAd,EAAkBvW,KAAlB,EAAyBsW,UAAzB,CAAT;AACA,WAAIjd,KAAKmd,UAAT,EAAqB;AACnBT,gBAAOvb,MAAP,GAAgBnB,KAAKmd,UAArB;AACD,QAFD,MAEO;AACLT,gBAAOvb,MAAP,CAAc+F,GAAd,CAAkB,GAAlB;AACD;AACDwV,cAAOvV,QAAP,CAAgBD,GAAhB,CAAoB,CAApB;AACAuV,eAAQvb,QAAR,CAAiBwb,MAAjB;AACD;;AAEDA,YAAOU,IAAP,GAAcN,OAAd;AACD,IAnBD;AAoBAD,aAAU7c,KAAKod,IAAf;;AAGA,OAAIC,YAAY,IAAhB;;AAEA,OAAMC,uBAAuB,SAAvBA,oBAAuB,GAAK;AAChC,SAAI,CAACvE,SAASwD,MAAd,EAAsB;AACpB;AACD;;AAED;AACA;;AAEAc,iBAAY;AACVjc,UAAGqb,QAAQjY,KAAR,CAAcpD,CADP;AAEVC,UAAGob,QAAQjY,KAAR,CAAcnD;AAFP,MAAZ;;AAKAob,aAAQjY,KAAR,GAAgB;AACdpD,UAAGic,UAAUjc,CAAV,GAAc,IADH;AAEdC,UAAGgc,UAAUhc,CAAV,GAAc;AAFH,MAAhB;;AAKAob,aAAQc,IAAR,GAAe,QAAf;AACD,IAnBD;;AAqBA,OAAMC,qBAAqB,SAArBA,kBAAqB,GAAK;AAC9B,SAAI,CAACzE,SAASwD,MAAd,EAAsB;AACpB;AACD;;AAEDE,aAAQc,IAAR,GAAe,QAAf;;AAEA,SAAI,CAACF,SAAL,EAAgB;AACd;AACD;;AAEDZ,aAAQjY,KAAR,GAAgB6Y,SAAhB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACD,IAnBD;;AAqBA,OAAMI,cAAc,SAAdA,WAAc,CAAC1f,KAAD,EAAQuV,MAAR,EAAkB;AACpC;AACAgK;AACD,IAHD;;AAKA,OAAMI,cAAc,SAAdA,WAAc,CAAC3f,KAAD,EAAQuV,MAAR,EAAkB,CAErC,CAFD;;AAIA,OAAMqK,eAAe,SAAfA,YAAe,CAAC5f,KAAD,EAAQuV,MAAR,EAAkB;AACrC;AACAkK;AACD,IAHD;;AAKA,OAAMI,YAAY,SAAZA,SAAY,CAAC7f,KAAD,EAAQuV,MAAR,EAAkB;AAClC;AACAkK;AACD,IAHD;;AAKA,OAAMK,WAAW,SAAXA,QAAW,GAAK;AACpB;AACA,SAAI9E,SAASyD,OAAT,IAAoBzD,SAASwD,MAAjC,EAAyC;AACvCxD,gBAASyD,OAAT,CAAiBxa,IAAjB,YAA4Bya,OAA5B;AACD;AACF,IALD;;AAOA,IAAC,YAAK;AACJA,aAAQzB,EAAR,CAAW,WAAX,EAAwByC,WAAxB,EACGzC,EADH,CACM,WADN,EACmB0C,WADnB,EAEG1C,EAFH,CAEM,UAFN,EAEkB2C,YAFlB,EAGG3C,EAHH,CAGM,SAHN,EAGiB4C,SAHjB,EAIG5C,EAJH,CAIM,YAJN,EAIoByC,WAJpB,EAKGzC,EALH,CAKM,WALN,EAKmB0C,WALnB,EAMG1C,EANH,CAMM,iBANN,EAMyB2C,YANzB,EAOG3C,EAPH,CAOM,UAPN,EAOkB4C,SAPlB,EAQG5C,EARH,CAQM,OARN,EAQe6C,QARf,EASG7C,EATH,CASM,KATN,EASa6C,QATb;AAUD,IAXD;;AAaAjL,UAAO0E,cAAP,CAAsBmF,OAAtB,EAA+B,QAA/B,EAAyC;AACvC3J,UAAK,eAAM;AACT,cAAOiG,SAASwD,MAAhB;AACD,MAHsC;AAIvCrV,UAAK,aAACkV,GAAD,EAAS;AACZrD,gBAASwD,MAAT,GAAkBH,GAAlB;AACAjf,eAAQC,GAAR,CAAY,iBAAiB2b,SAASwD,MAAtC;AACA,WAAIxD,SAASwD,MAAb,EAAqB;AACnBE,iBAAQG,OAAR,GAAkB7D,SAASsD,aAA3B;AACAI,iBAAQc,IAAR,GAAe,QAAf;AACD,QAHD,MAII;AACF,aAAIxE,SAASuD,cAAb,EAA6B;AAC3BG,mBAAQG,OAAR,GAAkB7D,SAASuD,cAA3B;AACD,UAFD,MAEK;AACHG,mBAAQc,IAAR,GAAe,QAAf;AACD;AACF;AACF;AAlBsC,IAAzC;;AAqBA3K,UAAO0E,cAAP,CAAsBmF,OAAtB,EAA+B,MAA/B,EAAuC;AACrC3J,UAAK,eAAM;AACT,cAAO4J,SAASA,OAAOU,IAAhB,GAAuB,EAA9B;AACD,MAHoC;AAIrClW,UAAK,aAACkV,GAAD,EAAS;AACZS,iBAAUT,GAAV;AACD;AANoC,IAAvC;;AASAxJ,UAAO0E,cAAP,CAAsBmF,OAAtB,EAA+B,SAA/B,EAA0C;AACxC3J,UAAK,eAAM;AACT,cAAOiG,SAASyD,OAAhB;AACD,MAHuC;AAIxCtV,UAAK,aAACkV,GAAD,EAAS;AACZrD,gBAASyD,OAAT,GAAmBJ,GAAnB;AACD;AANuC,IAA1C;;AASA,UAAOK,OAAP;AACD,EAhLD,C,CANA;;;;mBAwLe9G,M;;;;;;;;;;;;ACpLf;;;;;;AAEA,KAAMH,cAAc,SAAdA,WAAc,CAACxV,IAAD,EAAS;;AAE3B,OAAI+Y,WAAW;AACbrV,gBAAY1D,KAAK0D,SAAL,GAAkB1D,KAAK0D,SAAvB,GAAmC,MADlC;AAEboa,cAAU;AAFG,IAAf;;AAKA,OAAIxH,QAAQ,IAAInW,KAAKC,SAAT,EAAZ;;AAEA,OAAI2d,eAAe,IAAnB;AACA,OAAIC,cAAc,IAAlB;AACA,OAAItB,SAAS,IAAb;AACA,OAAI/C,QAAQ,IAAZ;;AAEA,IAAC,YAAI;AACH,8BAAU3Z,KAAKuW,EAAf,EAAmBD,KAAnB,EAA0ByC,QAA1B;;AAEA,SAAG/Y,KAAK0W,EAAR,EAAY;AACVsH,qBAAc7d,KAAKa,MAAL,CAAYyV,SAAZ,CAAsBzW,KAAK0W,EAA3B,CAAd;AACAsH,mBAAY7c,MAAZ,GAAqB;AACnBC,YAAG,GADgB;AAEnBC,YAAG;AAFgB,QAArB;AAIAiV,aAAMpV,QAAN,CAAe8c,WAAf;AACA,WAAGhe,KAAKxC,KAAR,EAAe;AACbwgB,qBAAYxgB,KAAZ,GAAoBwC,KAAKxC,KAAzB;AACD;AACF;;AAEDugB,oBAAe5d,KAAKa,MAAL,CAAYyV,SAAZ,CAAsBzW,KAAKie,EAA3B,CAAf;AACA,SAAGje,KAAKxC,KAAR,EAAe;AACbugB,oBAAavgB,KAAb,GAAqBwC,KAAKxC,KAA1B;AACD;AACD,SAAIwC,KAAKud,IAAT,EAAe;AACbQ,oBAAaR,IAAb,GAAoBvd,KAAKud,IAAzB;AACD;;AAGDQ,kBAAa5c,MAAb,CAAoB+F,GAApB,CAAwB,GAAxB;;AAEAyS,aAAQ,IAAIxZ,KAAK0Z,QAAT,EAAR;AACAF,WAAMuE,KAAN;AACAvE,WAAMwE,SAAN;AACAxE,WAAMI,QAAN,CAAe,CAAf,EAAiB,CAAjB,EAAmB,CAAnB,EAAqB,CAArB;AACAJ,WAAMyE,OAAN;AACAL,kBAAa7D,IAAb,GAAoBP,KAApB;AACArD,WAAMpV,QAAN,CAAeyY,KAAf;;AAEAA,WAAMxS,QAAN,GAAiB;AACf/F,UAAG,CAAE2c,aAAavgB,KAAf,GAAuB,CADX;AAEf6D,UAAG,CAAE0c,aAAatgB,MAAf,GAAwB;AAFZ,MAAjB;;AAKA6Y,WAAMpV,QAAN,CAAe6c,YAAf;AACD,IAxCD;;AA0CA,OAAMM,cAAc,SAAdA,WAAc,CAACvB,OAAD,EAAY;AAC9B,SAAIA,WAAWjc,SAAX,IAAwBic,WAAW,IAAvC,EAA6C;AAC3C;AACD;;AAED,SAAG,CAACJ,MAAJ,EAAY;AACV,WAAI4B,YAAYte,KAAK2G,KAAL,GAAa3G,KAAK2G,KAAlB,GAA0B,EAACoW,MAAK,YAAN,EAAoBC,MAAM,SAA1B,EAA1C;AACA,WAAIC,aAAajd,KAAKid,UAAL,GAAkBjd,KAAKid,UAAvB,GAAoC,CAArD;AACAP,gBAAS,IAAIvc,KAAK+c,IAAT,CAAc,EAAd,EAAkBoB,SAAlB,EAA6BrB,UAA7B,CAAT;AACAP,cAAOvb,MAAP,CAAc+F,GAAd,CAAkB,GAAlB;AACAoP,aAAMpV,QAAN,CAAewb,MAAf;AACD;;AAEDA,YAAOU,IAAP,GAAcN,OAAd;AACD,IAdD;AAeAuB,eAAYre,KAAKod,IAAjB;;AAEA;AACA,OAAMmB,cAAc,SAAdA,WAAc,CAACT,OAAD,EAAY;AAC9B/E,cAAS+E,OAAT,GAAmBA,OAAnB;AACA,SAAMU,cAAcV,UAAU,GAA9B;AACA,SAAI1c,UAAJ;AAAA,SAAMC,UAAN;AAAA,SAAQ7D,cAAR;AAAA,SAAcC,eAAd;AACA,aAAQsb,SAASrV,SAAjB;AACA,YAAK,MAAL;AACEtC,aAAE,CAAF;AACAC,aAAE,CAAF;AACA7D,iBAAQugB,aAAavgB,KAAb,GAAqBghB,WAA7B;AACA/gB,kBAASsgB,aAAatgB,MAAtB;AACA;AACF,YAAK,OAAL;AACE2D,aAAE2c,aAAavgB,KAAb,IAAsB,IAAEghB,WAAxB,CAAF;AACAnd,aAAE,CAAF;AACA7D,iBAAQugB,aAAavgB,KAAb,GAAqBghB,WAA7B;AACA/gB,kBAASsgB,aAAatgB,MAAtB;AACA;AACF,YAAK,IAAL;AACE2D,aAAE,CAAF;AACAC,aAAE,CAAF;AACA7D,iBAAQugB,aAAavgB,KAArB;AACAC,kBAASsgB,aAAatgB,MAAb,GAAsB+gB,WAA/B;AACA;AACF,YAAK,MAAL;AACEpd,aAAE,CAAF;AACAC,aAAE0c,aAAatgB,MAAb,IAAuB,IAAG+gB,WAA1B,CAAF;AACAhhB,iBAAQugB,aAAavgB,KAArB;AACAC,kBAASsgB,aAAatgB,MAAb,GAAsB+gB,WAA/B;AACA;AACF;AACErhB,iBAAQC,GAAR,CAAY,+BAA+B2b,SAASrV,SAAxC,GAAoD,oCAAhE;AACA;AA3BF;;AA8BAiW,WAAMuE,KAAN;AACAvE,WAAMwE,SAAN;AACAxE,WAAMI,QAAN,CAAe3Y,CAAf,EAAiBC,CAAjB,EAAmB7D,KAAnB,EAAyBC,MAAzB;AACAkc,WAAMyE,OAAN;AACD,IAtCD;;AAyCAxL,UAAO0E,cAAP,CAAsBhB,KAAtB,EAA6B,SAA7B,EAAwC;AACtCxD,UAAK,eAAM;AACT,cAAOiG,SAAS+E,OAAhB;AACD,MAHqC;AAItC5W,UAAK,aAACkV,GAAD,EAAS;AACZmC,mBAAYnC,GAAZ;AACD;AANqC,IAAxC;;AASAxJ,UAAO0E,cAAP,CAAsBhB,KAAtB,EAA6B,MAA7B,EAAqC;AACnCxD,UAAK,eAAM;AACT,cAAO4J,SAASA,OAAOU,IAAhB,GAAuB,EAA9B;AACD,MAHkC;AAInClW,UAAK,aAACkV,GAAD,EAAS;AACZiC,mBAAYjC,GAAZ;AACD;AANkC,IAArC;;AASAxJ,UAAO0E,cAAP,CAAsBhB,KAAtB,EAA6B,MAA7B,EAAqC;AACnCpP,UAAK,aAACkV,GAAD,EAAS;AACZ2B,oBAAaR,IAAb,GAAoBnB,GAApB;AACD;AAHkC,IAArC;;AAOA,UAAO9F,KAAP;AACD,EA7ID,C,CANA;;;;mBAqJed,W;;;;;;;;;;;;ACjJf;;;;;;AAEA,KAAMC,cAAc,SAAdA,WAAc,CAACzV,IAAD,EAAS;;AAE3B,OAAMye,aAAa;AACjBC,gBAAW,CADM;AAEjBC,cAAS;AAFQ,IAAnB;;AAKA,OAAIlC,UAAU,IAAd;AACA,OAAI1D,WAAW;AACb;AACA6F,qBAAgB,IAFH;AAGbC,uBAAkB,IAHL;;AAKbvF,aAAQ,IALK;AAMbwF,YAAO,IANM;;AAQb;AACAC,gBAAW,IATE;AAUbC,iBAAY,IAVC;AAWbC,oBAAe,IAXF;;AAab;AACApB,eAAU,oBAAK;AACbpB,eAAQkC,OAAR,GAAkB,IAAlB;AACD;AAhBY,IAAf;;AAmBA,IAAC,YAAI;;AAEH5F,cAAS6F,cAAT,GAA0Bze,KAAKqW,OAAL,CAAaC,SAAb,CAAuBzW,KAAKkf,KAA5B,CAA1B;AACAnG,cAAS8F,gBAAT,GAA4B1e,KAAKqW,OAAL,CAAaC,SAAb,CAAuBzW,KAAKmf,MAA5B,CAA5B;;AAEA1C,eAAU,IAAItc,KAAKa,MAAT,EAAV;AACAyb,aAAQtb,MAAR,CAAe+F,GAAf,CAAmB,GAAnB;AACAuV,aAAQzC,WAAR,GAAsB,IAAtB;;AAEA;AACAyC,aAAQzB,EAAR,CAAW,OAAX,EAAoB;AAAA,cAAIjC,SAAS8E,QAAT,EAAJ;AAAA,MAApB,EACG7C,EADH,CACM,KADN,EACa;AAAA,cAAIjC,SAAS8E,QAAT,EAAJ;AAAA,MADb;;AAGA,8BAAU7d,KAAKuW,EAAf,EAAmBkG,OAAnB,EAA4B1D,QAA5B;AACD,IAdD;;AAgBA,OAAMyB,YAAY,SAAZA,SAAY,CAACC,QAAD,EAAa;AAC7B,SAAG1B,SAASO,MAAT,IAAmBmB,QAAtB,EAAgC;AAC9B;AACD;;AAED,aAAQA,QAAR;AACA,YAAKgE,WAAWE,OAAhB;AACE,aAAI5F,SAAS+F,KAAb,EAAoB;AAClB/F,oBAAS+F,KAAT,CAAeM,IAAf,CAAoB,qBAApB,EAA2C3C,OAA3C;AACD;AACDA,iBAAQG,OAAR,GAAkB7D,SAAS6F,cAA3B;AACA,aAAG7F,SAASgG,SAAZ,EAAuB;AACrBhG,oBAASgG,SAAT,CAAmB/c,IAAnB,YAA8Bya,OAA9B;AACD;AACD;AACF,YAAKgC,WAAWC,SAAhB;AACEjC,iBAAQG,OAAR,GAAkB7D,SAAS8F,gBAA3B;AACA,aAAG9F,SAASiG,UAAZ,EAAwB;AACtBjG,oBAASiG,UAAT,CAAoBhd,IAApB,YAA+Bya,OAA/B;AACD;AACD;AACF;AACEtf,iBAAQC,GAAR,CAAY,sBAAsBqd,QAAlC;AACA;AAlBF;AAoBA1B,cAASO,MAAT,GAAkBmB,QAAlB;AACA,SAAG1B,SAASkG,aAAZ,EAA2B;AACzBlG,gBAASkG,aAAT,CAAuBjd,IAAvB,YAAkCya,OAAlC;AACD;AACF,IA7BD;;AA+BAjC,aAAUiE,WAAWC,SAArB;;AAEA9L,UAAO0E,cAAP,CAAsBmF,OAAtB,EAA+B,SAA/B,EAA0C;AACxC3J,UAAK,eAAK;AACR,cAAOiG,SAASO,MAAT,IAAmBmF,WAAWE,OAA9B,GAAwC,IAAxC,GAA+C,KAAtD;AACD,MAHuC;AAIxCzX,UAAK,aAACkV,GAAD,EAAQ;AACX,WAAGA,GAAH,EAAQ;AACN5B,mBAAUiE,WAAWE,OAArB;AACD,QAFD,MAGK;AACHnE,mBAAUiE,WAAWC,SAArB;AACD;AACF;AAXuC,IAA1C;;AAcA,IAAC,YAAI;AACH,SAAMW,eAAe,CAAC,OAAD,EAAU,WAAV,EAAuB,YAAvB,EAAqC,eAArC,CAArB;;AADG,gCAEKphB,CAFL;AAGD2U,cAAO0E,cAAP,CAAsBmF,OAAtB,EAA+B4C,aAAaphB,CAAb,CAA/B,EAAgD;AAC9C6U,cAAK,eAAK;AACR,kBAAOiG,SAASsG,aAAaphB,CAAb,CAAT,CAAP;AACD,UAH6C;AAI9CiJ,cAAK,aAACkV,GAAD,EAAQ;AACXrD,oBAASsG,aAAaphB,CAAb,CAAT,IAA6Bme,GAA7B;AACD;AAN6C,QAAhD;AAHC;;AAEH,UAAI,IAAIne,IAAE,CAAV,EAAaA,IAAEohB,aAAara,MAA5B,EAAoC,EAAE/G,CAAtC,EAAyC;AAAA,aAAjCA,CAAiC;AASxC;AACF,IAZD;;AAcA,UAAOwe,OAAP;AACD,EAzGD,C,CANA;;;;mBAiHehH,W;;;;;;;;;;;;AC7Gf;;;;;;AAEA,KAAMC,aAAa,SAAbA,UAAa,GAAK;AACtB,OAAI/V,OAAO,2BAAY,EAAZ,CAAX;;AAEA,OAAI2f,aAAa,EAAjB;;AAEA3f,QAAKuB,QAAL,GAAgB,UAACqe,KAAD,EAAW;AACzBD,gBAAWlhB,IAAX,CAAgBmhB,KAAhB;AACAA,WAAMT,KAAN,GAAcnf,IAAd;AACD,IAHD;;AAKAA,QAAKqb,EAAL,CAAQ,qBAAR,EAA+B,UAACuE,KAAD,EAAU;AACvC,UAAI,IAAIthB,IAAE,CAAV,EAAaA,IAAEqhB,WAAWta,MAA1B,EAAkC,EAAE/G,CAApC,EAAuC;AACrC,WAAGshB,MAAMhJ,EAAN,KAAa+I,WAAWrhB,CAAX,EAAcsY,EAA9B,EAAkC;AAChC;AACD;;AAED+I,kBAAWrhB,CAAX,EAAc0gB,OAAd,GAAwB,KAAxB;AACD;AACF,IARD;;AAUA,UAAOhf,IAAP;AACD,EArBD,C,CANA;;;;mBA6Be+V,U;;;;;;;;;;;AC7Bf,KAAMxW,cAAc,SAAdA,WAAc,CAAU8K,GAAV,EAAe;AAC/B,SAAIwN,WAAW,EAAf;;AAEAxN,SAAIoV,IAAJ,GAAW,UAAUrhB,KAAV,EAAiB;;AAExB,aAAI2Z,UAAU,IAAd;;AAEA,aAAIF,SAASvN,cAAT,CAAwBlM,KAAxB,CAAJ,EAAoC;AAChC,iBAAIyhB,aAAahI,SAASzZ,KAAT,CAAjB;AACA,kBAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIuhB,WAAWxa,MAA/B,EAAuC,EAAE/G,CAAzC,EAA4C;AACxCyZ,2BAAU8H,WAAWvhB,CAAX,CAAV;AACA,qBAAIwhB,OAAO,EAAX;;AAEA;AACA,sBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIjM,UAAUzO,MAA9B,EAAsC,EAAE0a,CAAxC,EAA2C;AACvCD,0BAAKrhB,IAAL,CAAUqV,UAAUiM,CAAV,CAAV;AACH;AACDhI,yBAAQlE,KAAR,CAAc,IAAd,EAAoBiM,IAApB;AACH;AACJ;;AAED,gBAAO,IAAP;AACH,MAnBD;;AAqBAzV,SAAIgR,EAAJ,GAAS,UAAUlb,IAAV,EAAgB6f,MAAhB,EAAwB;AAC7B,aAAInI,SAASvN,cAAT,CAAwBnK,IAAxB,CAAJ,EAAmC;AAC/B0X,sBAAS1X,IAAT,EAAe1B,IAAf,CAAoBuhB,MAApB;AACH,UAFD,MAGK;AACDnI,sBAAS1X,IAAT,IAAiB,CAAC6f,MAAD,CAAjB;AACH;;AAED,gBAAO,IAAP;AACH,MATD;;AAWA3V,SAAI4V,cAAJ,GAAqB,UAAU9f,IAAV,EAAgB6f,MAAhB,EAAwB;AACzC,aAAI,CAACnI,SAASvN,cAAT,CAAwBnK,IAAxB,CAAL,EAAoC;AAChC,oBAAO,KAAP;AACH;AACD,aAAIQ,QAAQkX,SAAS1X,IAAT,EAAe3B,OAAf,CAAuBwhB,MAAvB,CAAZ;AACA,aAAIrf,SAAS,CAAb,EAAgB;AACZkX,sBAAS1X,IAAT,EAAeyT,MAAf,CAAsBjT,KAAtB,EAA6B,CAA7B;AACH;AACJ,MARD;;AAUA0J,SAAI6V,kBAAJ,GAAyB,YAAY;AACjCrI,oBAAW,EAAX;AACH,MAFD;AAGA,YAAOxN,GAAP;AACH,EAjDD;mBAkDgB9K,W;;;;;;;;;;;;AC9ChB;;;;;;AAEA,KAAM0W,WAAW,SAAXA,QAAW,CAAC5V,IAAD,EAAS;AACxB,OAAIL,OAAO,2BAAYK,IAAZ,CAAX;;AAEAL,QAAK8b,YAAL,CAAkBoC,QAAlB,GAA6B,YAAK;AAChCle,UAAKgf,OAAL,GAAe,CAAChf,KAAKgf,OAArB;AACD,IAFD;;AAIA,UAAOhf,IAAP;AACD,EARD,C,CANA;;;;mBAgBeiW,Q;;;;;;;;;;;;ACZf;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,KAAMkK,SAAS,SAATA,MAAS,GAAK;AAClB,OAAIngB,OAAO,EAAX;;AAEA,OAAIogB,UAAU,EAAd;;AAEA,OAAMC,eAAe,SAAfA,YAAe,CAAClB,KAAD,EAAQmB,OAAR,EAAiBjW,GAAjB,EAAwB;AAC3C,SAAI,CAACiW,OAAD,IAAYA,YAAY,CAA5B,EAA+B;AAC7B;AACD;;AAED,SAAIC,WAAWpB,MAAMmB,OAAN,CAAf;AACA,SAAI,CAACC,QAAL,EAAe;AACbA,kBAAW,2BAAX;AACApB,aAAMmB,OAAN,IAAiBC,QAAjB;AACD;;AAEDA,cAAShf,QAAT,CAAkB8I,GAAlB;AACD,IAZD;AAaA,OAAImW,aAAa,EAAjB;;AAEA,OAAM7iB,SAAS,SAATA,MAAS,CAAC8iB,MAAD,EAASC,IAAT,EAAeC,KAAf,EAAyB;AACtC,SAAIC,cAAc,WAAWF,KAAKG,SAAlC;AACA,SAAI,CAACT,QAAQ9V,cAAR,CAAuBsW,WAAvB,CAAL,EAA0C;AACxCpjB,eAAQC,GAAR,CAAY,4BAA4BijB,KAAKG,SAA7C,EAAwDpM,KAAKS,SAAL,CAAewL,IAAf,CAAxD;AACAA,YAAKG,SAAL,GAAiB,MAAjB;AACAD,qBAAc,YAAd;AACA;AACD;;AAED,SAAI,CAACF,KAAK3J,EAAN,IAAY2J,KAAKI,KAArB,EAA4B;AAC1BJ,YAAK3J,EAAL,GAAU2J,KAAKI,KAAf;AACD;;AAED,SAAIzW,MAAM+V,QAAQQ,WAAR,EAAqBve,IAArB,YAAgCqe,IAAhC,CAAV;;AAEA,SAAID,MAAJ,EAAY;AACVA,cAAOlf,QAAP,CAAgB8I,IAAI9J,IAApB;AACD;;AAED,SAAImgB,KAAK9J,EAAL,IAAW1V,SAAf,EAA0B;AACxByf,aAAMD,KAAK9J,EAAX,IAAiBvM,GAAjB;AACD;;AAED,SAAM0W,cAAc,SAAdA,WAAc,CAACC,MAAD,EAASC,OAAT,EAAoB;AACtC,WAAI,CAACA,QAAQpY,QAAb,EAAuB;AACrB;AACD;AACD,YAAK,IAAIvK,IAAI,CAAb,EAAgBA,IAAI2iB,QAAQpY,QAAR,CAAiBxD,MAArC,EAA6C,EAAE/G,CAA/C,EAAkD;AAChDX,gBAAOqjB,OAAOzgB,IAAd,EAAoB0gB,QAAQpY,QAAR,CAAiBvK,CAAjB,CAApB,EAAyCqiB,KAAzC;AACD;AACF,MAPD;;AASA,SAAMO,eAAe,SAAfA,YAAe,CAACF,MAAD,EAASC,OAAT,EAAoB;AACvC,WAAI,CAACA,QAAQpY,QAAb,EAAuB;AACrB;AACD;;AAED,YAAK,IAAIvK,IAAI,CAAb,EAAgBA,IAAI2iB,QAAQpY,QAAR,CAAiBxD,MAArC,EAA6C,EAAE/G,CAA/C,EAAkD;AAChD,aAAIyd,QAAQpe,OAAO,IAAP,EAAasjB,QAAQpY,QAAR,CAAiBvK,CAAjB,CAAb,EAAkCqiB,KAAlC,CAAZ;AACAK,gBAAOG,QAAP,CAAgBpF,MAAMxb,IAAtB,EAA4B0gB,QAAQpY,QAAR,CAAiBvK,CAAjB,EAAoB+G,MAAhD;AACD;AACF,MATD;;AAWA,aAAQqb,KAAKG,SAAb;AACE,YAAK,MAAL;AACA,YAAK,UAAL;AACA,YAAK,YAAL;AACA,YAAK,UAAL;AACEK,sBAAa7W,GAAb,EAAkBqW,IAAlB;AACA;AACF,YAAK,OAAL;AACA,YAAK,UAAL;AACEL,sBAAaM,MAAMxB,KAAnB,EAA0BuB,KAAKvB,KAA/B,EAAsC9U,GAAtC;AACAA,aAAI2U,OAAJ,GAAc0B,KAAKU,KAAnB;AACAL,qBAAY1W,GAAZ,EAAiBqW,IAAjB;AACA;AACF,YAAK,OAAL;AACEF,oBAAW/hB,IAAX,CAAgBiiB,KAAK9J,EAArB;AACA;AACF,YAAK,QAAL;AACEvM,aAAIwS,OAAJ,GAAc8D,MAAM9D,OAApB;AACAkE,qBAAY1W,GAAZ,EAAiBqW,IAAjB;AACA;AACF;AACEK,qBAAY1W,GAAZ,EAAiBqW,IAAjB;AACA;AAtBJ;;AAyBA,YAAOrW,GAAP;AACD,IArED;;AAuEA,OAAMgX,kBAAkB,SAAlBA,eAAkB,CAAC9gB,IAAD,EAAOmgB,IAAP,EAAgB;AACtC,SAAIA,KAAKlf,MAAL,IAAeN,SAAnB,EAA8B;AAC5BX,YAAKiB,MAAL,GAAckf,KAAKlf,MAAnB;AACD,MAFD,MAGK;AACHjB,YAAKiB,MAAL,GAAc;AACZC,YAAG,GADS;AAEZC,YAAG;AAFS,QAAd;AAID;;AAED,SAAIgf,KAAKlZ,QAAL,IAAiBtG,SAArB,EAAgC;AAC9BX,YAAKiH,QAAL,GAAgBkZ,KAAKlZ,QAArB;AACD;;AAED,SAAIkZ,KAAK7b,KAAL,IAAc3D,SAAlB,EAA6B;AAC3BX,YAAKsE,KAAL,GAAa6b,KAAK7b,KAAlB;AACD;AACD,SAAI6b,KAAKtY,QAAL,IAAiBlH,SAArB,EAA+B;AAC7BX,YAAK6H,QAAL,GAAgBsY,KAAKtY,QAArB;AACD;AACD,SAAIsY,KAAKY,KAAL,IAAcpgB,SAAlB,EAA4B;AAC1BX,YAAK+gB,KAAL,GAAaZ,KAAKY,KAAlB;AACD;AACD,SAAIZ,KAAKtd,OAAL,IAAgBlC,SAApB,EAA8B;AAC5BX,YAAK6C,OAAL,GAAesd,KAAKtd,OAApB;AACD;AACF,IA3BD;;AA6BAgd,WAAQmB,YAAR,GAAuBnB,QAAQoB,UAAR,GAAqB,UAACd,IAAD,EAAU;AACpD,SAAIngB,OAAO,IAAIC,KAAKC,SAAT,EAAX;AACA,8BAAUigB,KAAK9J,EAAf,EAAmBrW,IAAnB;AACA8gB,qBAAgB9gB,IAAhB,EAAsBmgB,IAAtB;AACA,YAAOngB,IAAP;AACD,IALD;;AAOA6f,WAAQqB,YAAR,GAAuB,UAACf,IAAD,EAAU;AAC/B,SAAIgB,SAAShB,KAAK3J,EAAL,GAAUvW,KAAKa,MAAL,CAAYyV,SAAZ,CAAsB4J,KAAK3J,EAA3B,CAAV,GAA2C,IAAIvW,KAAKa,MAAT,EAAxD;AACA,8BAAUqf,KAAK9J,EAAf,EAAmB8K,MAAnB;AACAL,qBAAgBK,MAAhB,EAAwBhB,IAAxB;AACA,YAAOgB,MAAP;AACD,IALD;;AAQAtB,WAAQuB,WAAR,GAAsB,UAACjB,IAAD,EAAS;AAC7BA,UAAK1Z,KAAL,GAAa0Z,KAAK1Z,KAAL,GAAa0Z,KAAK1Z,KAAlB,GAA0B,EAACoW,MAAM,YAAP,EAAvC;;AAEA,SAAIwE,QAAQ,IAAZ;AACA,SAAIlB,KAAK1Z,KAAL,CAAW6a,MAAf,EAAuB;AACrBD,eAAQ,uBAAQlB,IAAR,CAAR;AACD,MAFD,MAGK;AACH,WAAIpD,aAAaoD,KAAKpD,UAAL,GAAkBoD,KAAKpD,UAAvB,GAAoC,CAArD;AACAsE,eAAQ,IAAIphB,KAAK+c,IAAT,CAAcmD,KAAKjD,IAAnB,EAAyBiD,KAAK1Z,KAA9B,EAAqCsW,UAArC,CAAR;AACA,gCAAUoD,KAAK9J,EAAf,EAAmBgL,KAAnB;AACD;AACDP,qBAAgBO,KAAhB,EAAuBlB,IAAvB;AACA,YAAOkB,KAAP;AACD,IAdD;;AAgBA5hB,QAAKsW,WAAL,GAAmB,UAAC1S,IAAD,EAAOke,IAAP,EAAe;AAChC1B,aAAQ,WAAWxc,IAAnB,IAA2B,UAAC8c,IAAD,EAAS;AAClC,WAAIqB,SAASD,KAAKpB,IAAL,CAAb;AACAW,uBAAgBU,OAAOxhB,IAAvB,EAA6BmgB,IAA7B;AACA,cAAOqB,MAAP;AACD,MAJD;AAKD,IAND;;AAQA/hB,QAAKsW,WAAL,CAAiB,QAAjB;AACAtW,QAAKsW,WAAL,CAAiB,cAAjB;AACAtW,QAAKsW,WAAL,CAAiB,cAAjB;AACAtW,QAAKsW,WAAL,CAAiB,YAAjB;AACAtW,QAAKsW,WAAL,CAAiB,UAAjB;AACAtW,QAAKsW,WAAL,CAAiB,MAAjB;AACAtW,QAAKsW,WAAL,CAAiB,aAAjB;AACAtW,QAAKsW,WAAL,CAAiB,UAAjB;AACAtW,QAAKsW,WAAL,CAAiB,UAAjB;AACAtW,QAAKsW,WAAL,CAAiB,OAAjB;AACAtW,QAAKsW,WAAL,CAAiB,UAAjB;AACAtW,QAAKsW,WAAL,CAAiB,SAAjB;AACAtW,QAAKsW,WAAL,CAAiB,OAAjB;;AAEAtW,QAAKrC,MAAL,GAAc,UAAC+iB,IAAD,EAAO7D,OAAP,EAAkB;AAC9B,SAAIxS,MAAM;AACR8U,cAAO,EADC,EACK;AACbtC,gBAASA;AAFD,MAAV;AAIA2D,kBAAa,EAAb;AACAnW,SAAI9J,IAAJ,GAAW5C,OAAO,IAAP,EAAa+iB,IAAb,EAAmBrW,GAAnB,EAAwB9J,IAAnC;AACA0S,YAAO0E,cAAP,CAAsBtN,GAAtB,EAA2B,YAA3B,EAAyC;AACvC8I,YAAK,eAAK;AACR,gBAAO9I,GAAP;AACD;AAHsC,MAAzC;;AAMAA,SAAI9J,IAAJ,CAAS8a,EAAT,CAAY,OAAZ,EAAqB,UAACoF,MAAD,EAAW;AAC9B,YAAK,IAAIniB,IAAI,CAAb,EAAgBA,IAAIkiB,WAAWnb,MAA/B,EAAuC/G,GAAvC,EAA4C;AAC1C+L,aAAImW,WAAWliB,CAAX,CAAJ,EAAmB0jB,cAAnB,CAAkCvB,MAAlC;AACD;AACF,MAJD;;AAMApW,SAAI9J,IAAJ,CAAS8a,EAAT,CAAY,SAAZ,EAAuB,UAACoF,MAAD,EAAW;AAChC,YAAK,IAAIniB,IAAI,CAAb,EAAgBA,IAAIkiB,WAAWnb,MAA/B,EAAuC/G,GAAvC,EAA4C;AAC1C+L,aAAImW,WAAWliB,CAAX,CAAJ,EAAmB0F,OAAnB;AACD;AACF,MAJD;;AAOA,YAAOqG,GAAP;AACD,IA3BD;;AA8BA,UAAOrK,IAAP;AACD,EA5MD,C,CAlBA;;;;AAgOA,KAAIiiB,UAAU9B,QAAd;;mBAEe8B,O;;;;;;;;;;;;AC/Nf;;;;;;AAEA,KAAM/L,UAAU,SAAVA,OAAU,CAAC7V,IAAD,EAAS;;AAEvB,OAAIsW,QAAQ,IAAZ;AACA,OAAIoG,SAAS,IAAb;AACA,OAAImF,UAAW,IAAI1hB,KAAK2hB,KAAT,EAAf;AACA,OAAI/I,WAAW,EAAf;AACA,IAAC,YAAK;AACJzC,aAAQ,IAAInW,KAAKC,SAAT,EAAR;AACA,SAAM6c,aAAajd,KAAKid,UAAL,GAAkBjd,KAAKid,UAAvB,GAAoC,CAAvD;AACAjd,UAAK2G,KAAL,CAAWoW,IAAX,GAAkB/c,KAAK2G,KAAL,CAAWoW,IAAX,GAAkB/c,KAAK2G,KAAL,CAAWoW,IAA7B,GAAmC,sBAArD;AACA5f,aAAQC,GAAR,CAAY,WAAW4C,KAAK2G,KAAL,CAAWoW,IAAlC;AACA/c,UAAK2G,KAAL,CAAWob,KAAX,GAAmB,MAAnB;AACArF,cAAS,IAAIvc,KAAKuB,MAAL,CAAYsM,UAAhB,CAA2BhO,KAAKod,IAAhC,EAAsCpd,KAAK2G,KAA3C,CAAT;;AAEA+V,YAAOa,IAAP,GAAcvd,KAAK2G,KAAL,CAAWqW,IAAX,KAAmBnc,SAAnB,GAA+Bb,KAAK2G,KAAL,CAAWqW,IAA1C,GAAiD,QAA/D;AACA1G,WAAMpV,QAAN,CAAewb,MAAf;AACA,8BAAU1c,KAAKuW,EAAf,EAAmBD,KAAnB,EAA0ByC,QAA1B;;AAEA;AACA,SAAG/Y,KAAK2G,KAAL,CAAWqb,QAAd,EAAwB;AACtBtF,cAAOsF,QAAP,GAAkBhiB,KAAK2G,KAAL,CAAWqb,QAA7B;AACAtF,cAAOuF,UAAP;AACD;AACF,IAjBD;;AAmBArP,UAAO0E,cAAP,CAAsBhB,KAAtB,EAA6B,MAA7B,EAAqC;AACnCxD,UAAK,eAAK;AACR,cAAO4J,OAAOU,IAAd;AACD,MAHkC;AAInClW,UAAK,aAACkV,GAAD,EAAQ;AACXM,cAAOU,IAAP,GAAchB,GAAd;AACAM,cAAOuF,UAAP;AACA;AACA;AACAvF,cAAOtb,CAAP,GAAY,CAACsb,OAAOwF,SAAR,GAAoB5L,MAAMnV,MAAN,CAAaC,CAA7C;AACAsb,cAAOrb,CAAP,GAAY,CAACqb,OAAOyF,UAAR,GAAqB7L,MAAMnV,MAAN,CAAaE,CAA9C;AACD;AAXkC,IAArC;;AAcAuR,UAAO0E,cAAP,CAAsBhB,KAAtB,EAA6B,QAA7B,EAAuC;AACrCxD,UAAK,eAAK;AACR,cAAO+O,OAAP;AACD,MAHoC;AAIrC3a,UAAK,aAACkV,GAAD,EAAQ;AACXyF,eAAQ3a,GAAR,CAAYkV,IAAIhb,CAAhB,EAAmBgb,IAAI/a,CAAvB;AACAqb,cAAOtb,CAAP,GAAY,CAACsb,OAAOwF,SAAR,GAAoB5L,MAAMnV,MAAN,CAAaC,CAA7C;AACAsb,cAAOrb,CAAP,GAAY,CAACqb,OAAOyF,UAAR,GAAqB7L,MAAMnV,MAAN,CAAaE,CAA9C;AACD;AARoC,IAAvC;;AAWA,UAAOiV,KAAP;AACD,EAnDD,C,CALA;;;mBA0DeT,O;;;;;;;;;;;;ACvDf;;;;;;AACA,KAAMC,QAAQ,SAARA,KAAQ,CAAC9V,IAAD,EAAS;AACrB,OAAIL,OAAO,EAAX;AACA;AACAA,QAAKO,IAAL,GAAY,IAAIC,KAAKC,SAAT,EAAZ;AACA,OAAIihB,SAAS,IAAIlhB,KAAKa,MAAL,CAAYyV,SAAhB,CAA0B,oBAAI2L,IAA9B,CAAb;AACAziB,QAAKO,IAAL,CAAUgB,QAAV,CAAmBmgB,MAAnB;;AAEA,OAAIgB,OAAOtR,SAASuR,cAAT,CAAwB,MAAxB,CAAX;AACA,OAAIC,QAAQxR,SAASyR,aAAT,CAAuB,OAAvB,CAAZ;AACAD,SAAM5b,KAAN,CAAYQ,QAAZ,GAAuB,UAAvB;AACAob,SAAM5b,KAAN,CAAYnJ,KAAZ,GAAoBwC,KAAKxC,KAAL,GAAa,IAAjC;AACA+kB,SAAM5b,KAAN,CAAYlJ,MAAZ,GAAqBuC,KAAKvC,MAAL,GAAc,IAAnC;AACA8kB,SAAM5b,KAAN,CAAY8b,eAAZ,GAA8B,UAAUziB,KAAKygB,KAAf,GAAuB,IAArD;AACA8B,SAAMhM,EAAN,GAAWvW,KAAKuW,EAAhB;AACA;AACA8L,QAAKpR,WAAL,CAAiBsR,KAAjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAMG,kBAAkB,SAAlBA,eAAkB,CAACtC,MAAD,EAAW;AACjC,SAAI,CAACzgB,KAAKO,IAAV,EAAe;AACfP,UAAKO,IAAL,CAAUiH,QAAV,GAAqBnH,KAAKmH,QAA1B;AACA,SAAI2T,MAAMnb,KAAKO,IAAL,CAAUkgB,MAAV,CAAiBuC,QAAjB,CAA0B3iB,KAAKmH,QAA/B,CAAV;AACAob,WAAM5b,KAAN,CAAYnJ,KAAZ,GAAoBwC,KAAKxC,KAAL,GAAa4iB,OAAO5b,KAAP,CAAapD,CAA1B,GAA8B,IAAlD;AACAmhB,WAAM5b,KAAN,CAAYlJ,MAAZ,GAAqBuC,KAAKvC,MAAL,GAAc2iB,OAAO5b,KAAP,CAAanD,CAA3B,GAA+B,IAApD;AACAkhB,WAAM5b,KAAN,CAAYU,IAAZ,GAAmByT,IAAI1Z,CAAJ,GAAQ,IAA3B;AACAmhB,WAAM5b,KAAN,CAAYY,GAAZ,GAAiBuT,IAAIzZ,CAAJ,GAAQ,IAAzB;AACD,IARD;;AAUA1B,QAAKgiB,cAAL,GAAsB,UAACvB,MAAD,EAAW;AAC/B;AACAnjB,YAAOa,gBAAP,CAAwB,QAAxB,EAAkC,UAACC,KAAD,EAAU;AAC1C2kB,uBAAgBtC,MAAhB;AACD,MAFD;AAGD,IALD;;AAOAzgB,QAAKgE,OAAL,GAAe,YAAK;AAClB0e,UAAK5gB,WAAL,CAAiB8gB,KAAjB;AACA5iB,UAAKO,IAAL,GAAY,IAAZ;AACD,IAHD;;AAKAP,QAAKO,IAAL,CAAU8a,EAAV,CAAa,SAAb,EAAwB,UAACoF,MAAD,EAAW;AACjCiC,UAAK5gB,WAAL,CAAiB8gB,KAAjB;AACA5iB,UAAKO,IAAL,CAAUuB,WAAV;AACD,IAHD;;AAMA,UAAO9B,IAAP;AACD,EAtDD,C,CAJA;;;mBA2DgBmW,K;;;;;;;;;;;;ACvDhB;;;;AACA;;;;AACA;;;;;;AAGA,KAAM/W,YAAY,SAAZA,SAAY,GAAY;AAC5B,OAAIY,OAAO,EAAX;;AAEAA,QAAKO,IAAL,GAAY,IAAIC,KAAKC,SAAT,EAAZ;;AAEAT,QAAKjB,IAAL,GAAY,YAAY;AACtB,YAAO,IAAP;AACD,IAFD;;AAIAiB,QAAKgE,OAAL,GAAe,YAAK;AAClBhE,UAAKijB,cAAL;AACD,IAFD;;AAIAjjB,QAAKmS,MAAL,GAAc,UAAUJ,EAAV,EAAc;AAC1B/R,UAAKoS,aAAL,CAAmBL,EAAnB;AACD,IAFD;;AAIA/R,QAAK4S,QAAL,GAAgB,YAAK;AACnB;AACA,wBAAS5T,cAAT,GAA0BkkB,cAA1B,CAAyCljB,IAAzC;AACD,IAHD;;AAKAA,QAAK0S,OAAL,GAAe,YAAK;AAClB;AACA,wBAAS1T,cAAT,GAA0BmkB,gBAA1B,CAA2CnjB,IAA3C;AACD,IAHD;;AAKA,OAAIojB,aAAa,EAAjB;;AAEApjB,QAAKqjB,UAAL,GAAkB,UAAUC,KAAV,EAAiB;;AAEjC,sBAAOhb,WAAP,CAAmBtI,KAAKO,IAAxB;;AAEA,UAAK,IAAIjC,IAAI,CAAb,EAAgBA,IAAI0B,KAAKO,IAAL,CAAUsI,QAAV,CAAmBxD,MAAvC,EAA+C,EAAE/G,CAAjD,EAAoD;AAClD,WAAI0B,KAAKO,IAAL,CAAUsI,QAAV,CAAmBvK,CAAnB,MAA0BglB,MAAM/iB,IAApC,EAA0C;AACxC;AACD;AACDP,YAAKO,IAAL,CAAUsI,QAAV,CAAmBvK,CAAnB,EAAsBilB,mBAAtB,GAA4C,KAA5C;AACD;;AAEDH,gBAAW3kB,IAAX,CAAgB6kB,KAAhB;AACAF,gBAAWta,IAAX,CAAgB0a,aAAhB;AACD,IAbD;;AAeAxjB,QAAKyjB,aAAL,GAAqB,YAAK;AACxB,SAAIzjB,KAAK0jB,WAAL,OAAuB,CAA3B,EAA6B;AAC7B,SAAIJ,QAAQF,WAAWpjB,KAAK0jB,WAAL,KAAqB,CAAhC,CAAZ;AACA,SAAIJ,KAAJ,EAAW;AACTA,aAAMK,eAAN;AACAL,eAAQ,IAAR;AACD;AACF,IAPD;AAQAtjB,QAAK0jB,WAAL,GAAmB,YAAK;AACtB,YAAON,WAAW/d,MAAlB;AACD,IAFD;;AAIArF,QAAK4jB,YAAL,GAAoB,UAAUN,KAAV,EAAiB;AACnC,SAAI3iB,QAAQyiB,WAAW5kB,OAAX,CAAmB8kB,KAAnB,CAAZ;AACA,SAAI3iB,UAAU,CAAC,CAAf,EAAkB;AAChBnD,eAAQC,GAAR,CAAY,yBAAZ;AACA;AACD;;AAED2lB,gBAAWxP,MAAX,CAAkBjT,KAAlB,EAAyB,CAAzB;AACAX,UAAKO,IAAL,CAAUuB,WAAV,CAAsBwhB,MAAM/iB,IAA5B;;AAEA,SAAIsjB,WAAW,IAAf;AACA,SAAIT,WAAW/d,MAAX,GAAoB,CAApB,IAAyB+d,WAAWziB,QAAQ,CAAnB,CAA7B,EAAoD;AAClDkjB,kBAAWT,WAAWziB,QAAQ,CAAnB,EAAsBJ,IAAjC;AACD;;AAED,MAAC,YAAK;AACJ,WAAIoI,SAAUkb,aAAa,IAAb,GAAoBA,SAASlb,MAA7B,GAAsC,CAAC,CAArD;AACAnL,eAAQC,GAAR,CAAY,8BAA8BkL,MAA1C;AACD,MAHD;;AAKA;AACA,UAAK,IAAIrK,IAAI0B,KAAKO,IAAL,CAAUsI,QAAV,CAAmBxD,MAAnB,GAA4B,CAAzC,EAA4C/G,KAAK,CAAjD,EAAoD,EAAEA,CAAtD,EAAyD;AACvD0B,YAAKO,IAAL,CAAUsI,QAAV,CAAmBvK,CAAnB,EAAsBilB,mBAAtB,GAA4C,IAA5C;AACA,WAAIvjB,KAAKO,IAAL,CAAUsI,QAAV,CAAmBvK,CAAnB,MAA0BulB,QAA9B,EAAwC;AACtC;AACD;AACF;AACF,IA3BD;;AA6BA,OAAML,gBAAgB,SAAhBA,aAAgB,CAAChb,CAAD,EAAIC,CAAJ,EAAS;AAC7B,YAAOD,EAAEjI,IAAF,CAAOoI,MAAP,GAAgBF,EAAElI,IAAF,CAAOoI,MAA9B;AACD,IAFD;;AAIA,2BAAS3I,IAAT,EAAe,CAAC,SAAD,EAAY,QAAZ,CAAf;;AAEA,UAAOA,IAAP;AACD,EA5FD,C,CATA;;;;mBAsGeZ,S;;;;;;;;;;;;AClGf;;;;;;AAEA,KAAMC,YAAY,SAAZA,SAAY,GAAK;AACrB,OAAIW,OAAO,EAAX;;AAEAA,QAAKO,IAAL,GAAY,IAAIC,KAAKC,SAAT,EAAZ;AACAT,QAAKO,IAAL,CAAUoI,MAAV,GAAmB,CAAnB;;AAEA3I,QAAK2gB,KAAL,GAAa,IAAb;;AAEA3gB,QAAKjB,IAAL,GAAY,YAAK;AACf,YAAO,IAAP;AACD,IAFD;;AAIAiB,QAAKgE,OAAL,GAAe,YAAK;AAClBhE,UAAKijB,cAAL;AAED,IAHD;AAIAjjB,QAAKmS,MAAL,GAAc,UAACJ,EAAD,EAAO;AACnB/R,UAAKoS,aAAL,CAAmBL,EAAnB;AACD,IAFD;;AAIA/R,QAAK8jB,SAAL,GAAiB,UAACC,KAAD,EAAU;AACzBA,WAAMxjB,IAAN,CAAWgB,QAAX,CAAoBvB,KAAKO,IAAzB;AACAP,UAAK2gB,KAAL,GAAaoD,KAAb;AACAA,WAAMb,cAAN,CAAqBljB,IAArB;AACA;AACD,IALD;;AAOAA,QAAK2jB,eAAL,GAAuB,YAAK;AAC1B3jB,UAAK2gB,KAAL,CAAWwC,gBAAX,CAA4BnjB,IAA5B;AACAA,UAAK2gB,KAAL,CAAWpgB,IAAX,CAAgBuB,WAAhB,CAA4B9B,KAAKO,IAAjC;AACAP,UAAKgE,OAAL;AACAhE,UAAK2gB,KAAL,GAAa,IAAb;AACD,IALD;;AAOA,2BAAS3gB,IAAT,EAAe,CAAC,SAAD,EAAY,QAAZ,CAAf;;AAEA,UAAOA,IAAP;AACD,EArCD,C,CANA;;;;mBA6CeX,S;;;;;;;;;;;;ACzCf;;;;AACA;;;;AACA;;;;AACA;;;;;;AAPA;;;;AASA,KAAMC,aAAa,SAAbA,UAAa,CAAU0kB,SAAV,EAAqB;AACtC,OAAIhkB,OAAO,yBAAU,0BAAV,CAAX;;AAEA,OAAIikB,WAAW,IAAf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAjkB,QAAK8X,SAAL,CAAe,WAAf,EAA4B,UAAUiM,KAAV,EAAiB;AAC3CA,WAAMV,UAAN,CAAiBrjB,IAAjB;AACA,YAAO,IAAP;AACD,IAHD;;AAKAA,QAAK2jB,eAAL,GAAuB,YAAY;AACjC3jB,UAAK2gB,KAAL,CAAWiD,YAAX,CAAwB5jB,IAAxB;AACAA,UAAK2gB,KAAL,CAAWwC,gBAAX,CAA4BnjB,IAA5B;AACAA,UAAK2gB,KAAL,CAAWpgB,IAAX,CAAgBuB,WAAhB,CAA4B9B,KAAKO,IAAjC;;AAEAP,UAAKgE,OAAL;AACAhE,UAAK2gB,KAAL,GAAa,IAAb;AACD,IAPD;;AASA,UAAO3gB,IAAP;AACD,EAnDD;;mBAqDeV,U;;;;;;;;;;;AC9Df;;;AAGA,KAAME,aAAa,SAAbA,UAAa,CAAC6K,GAAD,EAAQ;;AAEzB,OAAIwN,WAAW,EAAf;;AAEA,OAAIqM,aAAa,EAAjB;AACA,OAAIC,WAAW,KAAf;;AAEA9Z,OAAIoV,IAAJ,GAAW,UAAUrhB,KAAV,EAAiB;AAC1B,SAAG,CAAC+lB,QAAJ,EAAc;AACZD,kBAAWzlB,IAAX,CAAgBqV,SAAhB;AACA;AACD;;AAED,SAAIiE,UAAU,IAAd;;AAEA,SAAIF,SAASvN,cAAT,CAAwBlM,KAAxB,CAAJ,EAAoC;AAClC,WAAIyhB,aAAahI,SAASzZ,KAAT,CAAjB;AACA,YAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIuhB,WAAWxa,MAA/B,EAAuC,EAAE/G,CAAzC,EAA4C;AAC1CyZ,mBAAU8H,WAAWvhB,CAAX,CAAV;AACA,aAAIwhB,OAAO,EAAX;;AAEA;AACA,cAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIjM,UAAUzO,MAA9B,EAAsC,EAAE0a,CAAxC,EAA2C;AACzCD,gBAAKrhB,IAAL,CAAUqV,UAAUiM,CAAV,CAAV;AACD;AACDhI,iBAAQlE,KAAR,CAAc,IAAd,EAAoBiM,IAApB;AACD;AACF;;AAED,YAAO,IAAP;AACD,IAvBD;;AAyBAzV,OAAIgR,EAAJ,GAAS,UAAUlb,IAAV,EAAgB6f,MAAhB,EAAwB;AAC/B,SAAInI,SAASvN,cAAT,CAAwBnK,IAAxB,CAAJ,EAAmC;AACjC0X,gBAAS1X,IAAT,EAAe1B,IAAf,CAAoBuhB,MAApB;AACD,MAFD,MAGK;AACHnI,gBAAS1X,IAAT,IAAiB,CAAC6f,MAAD,CAAjB;AACD;;AAED,YAAO,IAAP;AACD,IATD;;AAWA3V,OAAI+Z,GAAJ,GAAU/Z,IAAI4V,cAAJ,GAAqB,UAAU9f,IAAV,EAAgB6f,MAAhB,EAAwB;AACrD,SAAI,CAACnI,SAASvN,cAAT,CAAwBnK,IAAxB,CAAL,EAAoC;AAClC,cAAO,KAAP;AACD;AACD,SAAIQ,QAAQkX,SAAS1X,IAAT,EAAe3B,OAAf,CAAuBwhB,MAAvB,CAAZ;AACA,SAAIrf,SAAS,CAAb,EAAgB;AACdkX,gBAAS1X,IAAT,EAAeyT,MAAf,CAAsBjT,KAAtB,EAA6B,CAA7B;AACD;AACF,IARD;;AAUA0J,OAAI6V,kBAAJ,GAAyB,YAAY;AACnCrI,gBAAW,EAAX;AACD,IAFD;;AAIAxN,OAAIga,QAAJ,GAAe,YAAK;AAClB7mB,aAAQC,GAAR,CAAY,UAAZ;AACA0mB,gBAAW,IAAX;AACA,UAAI,IAAI7lB,IAAE,CAAV,EAAaA,IAAE4lB,WAAW7e,MAA1B,EAAkC,EAAE/G,CAApC,EAAuC;;AAErC,WAAI4V,SAASgQ,WAAW5lB,CAAX,CAAb;AACA,WAAIF,QAAQ8V,OAAO,CAAP,CAAZ;AACA,WAAI6D,UAAU,IAAd;;AAEA,WAAIF,SAASvN,cAAT,CAAwBlM,KAAxB,CAAJ,EAAoC;AAClC,aAAIyhB,aAAahI,SAASzZ,KAAT,CAAjB;AACA,cAAK,IAAIE,KAAI,CAAb,EAAgBA,KAAIuhB,WAAWxa,MAA/B,EAAuC,EAAE/G,EAAzC,EAA4C;AAC1CyZ,qBAAU8H,WAAWvhB,EAAX,CAAV;AACA,eAAIwhB,OAAO,EAAX;;AAEA;AACA,gBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI7L,OAAO7O,MAA3B,EAAmC,EAAE0a,CAArC,EAAwC;AACtCD,kBAAKrhB,IAAL,CAAUyV,OAAO6L,CAAP,CAAV;AACD;AACDhI,mBAAQlE,KAAR,YAAoBiM,IAApB;AACD;AACF;AACF;AACF,IAvBD;;AA0BA,UAAOzV,GAAP;AACD,EApFD;;mBAsFe7K,U;;;;;;;;;;;ACzFf;;;AAGA,KAAIM,OAAO,SAAPA,IAAO,CAAC2B,CAAD,EAAGC,CAAH,EAAO;AAChB,OAAI1B,OAAO,EAACyB,GAAGA,CAAJ,EAAMC,GAAEA,CAAR,EAAX;AACA1B,QAAKskB,WAAL,GAAmB,UAACtb,MAAD,EAAU;AAC3B;AACA,SAAIR,IAAG,CAAExI,KAAKyB,CAAL,GAASuH,OAAOvH,CAAlB,KAAyBzB,KAAKyB,CAAL,GAASuH,OAAOvH,CAAzC,IAA8C,CAACzB,KAAK0B,CAAL,GAASsH,OAAOtH,CAAjB,KAAuB1B,KAAK0B,CAAL,GAASsH,OAAOtH,CAAvC,CAArD;AACA,SAAI6iB,IAAI5d,KAAKwE,IAAL,CAAU3C,CAAV,CAAR;AACA,SAAIgc,IAAI1X,SAASyX,CAAT,CAAR;AACA,SAAIA,IAAIC,CAAJ,GAAQ,OAAZ,EAAoB;AAClB,cAAOA,CAAP;AACD;;AAED,YAAOD,CAAP;AACD,IAVD;AAWAvkB,QAAKykB,SAAL,GAAiB,YAAI;AACnB;AACA,SAAI1E,IAAI/f,KAAKyB,CAAL,GAASzB,KAAKyB,CAAd,GAAkBzB,KAAK0B,CAAL,GAAS1B,KAAK0B,CAAxC;AACA,SAAKqe,MAAM,CAAX,EAAa;AACX,cAAO/f,IAAP;AACD;AACD+f,SAAIpZ,KAAKwE,IAAL,CAAU4U,CAAV,CAAJ;AACA,SAAIA,IAAI2E,OAAOC,SAAf,EAAyB;AACvB,cAAO3kB,IAAP;AACD;AACD+f,SAAI,IAAIA,CAAR;AACA,SAAIte,IAAIzB,KAAKyB,CAAL,GAASse,CAAjB;AACA,SAAIre,IAAI1B,KAAK0B,CAAL,GAASqe,CAAjB;AACA,YAAOjgB,KAAK2B,CAAL,EAAOC,CAAP,CAAP;AACD,IAdD;AAeA1B,QAAK4kB,MAAL,GAAc,YAAI;AAChB;AACD5kB,YAAOA,KAAKykB,SAAL,EAAP;AACA,IAHD;AAIAzkB,QAAK2N,GAAL,GAAW,UAAC3E,MAAD,EAAU;AACnB;;AAEA,SAAIvH,IAAIzB,KAAKyB,CAAL,GAASuH,OAAOvH,CAAxB;AACA,SAAIC,IAAI1B,KAAK0B,CAAL,GAASsH,OAAOtH,CAAxB;AACA,YAAO5B,KAAK2B,CAAL,EAAOC,CAAP,CAAP;AACD,IAND;AAOA1B,QAAK6kB,GAAL,GAAW,UAAC7b,MAAD,EAAU;AACnB;;AAEA,SAAIvH,IAAIzB,KAAKyB,CAAL,GAASuH,OAAOvH,CAAxB;AACA,SAAIC,IAAI1B,KAAK0B,CAAL,GAASsH,OAAOtH,CAAxB;AACA,YAAO5B,KAAK2B,CAAL,EAAOC,CAAP,CAAP;AACD,IAND;AAOA1B,QAAK8kB,SAAL,GAAiB,UAACC,KAAD,EAAS;AACxB,SAAItjB,IAAIzB,KAAKyB,CAAL,GAASsjB,KAAjB;AACA,SAAIrjB,IAAI1B,KAAK0B,CAAL,GAASqjB,KAAjB;AACA,YAAOjlB,KAAK2B,CAAL,EAAOC,CAAP,CAAP;AACD,IAJD;AAKA1B,QAAKglB,QAAL,GAAgB,UAACD,KAAD,EAAS;AACvB,SAAItjB,IAAIzB,KAAKyB,CAAL,GAASsjB,KAAjB;AACA,SAAIrjB,IAAI1B,KAAK0B,CAAL,GAASqjB,KAAjB;AACA,YAAOjlB,KAAK2B,CAAL,EAAOC,CAAP,CAAP;AACD,IAJD;AAKA1B,QAAKilB,KAAL,GAAa,UAACjc,MAAD,EAAU;AACrB;AACA,YAAOhJ,KAAKyB,CAAL,GAASuH,OAAOtH,CAAhB,GAAoB1B,KAAK0B,CAAL,GAASsH,OAAOvH,CAA3C;AACD,IAHD;AAIAzB,QAAKklB,GAAL,GAAW,UAAClc,MAAD,EAAU;AACnB;AACA,YAAOhJ,KAAKyB,CAAL,GAASuH,OAAOvH,CAAhB,GAAoBzB,KAAK0B,CAAL,GAASsH,OAAOtH,CAA3C;AACD,IAHD;AAIA1B,QAAKmlB,UAAL,GAAkB,UAACnc,MAAD,EAAU;AAC1B;AACA,SAAIR,IAAIxI,KAAKykB,SAAL,EAAR;AACA,SAAIhc,IAAIO,OAAOyb,SAAP,EAAR;;AAEA,SAAIW,QAAQze,KAAK0e,KAAL,CAAW7c,EAAEyc,KAAF,CAAQxc,CAAR,CAAX,EAAuBD,EAAE0c,GAAF,CAAMzc,CAAN,CAAvB,CAAZ;AACA,SAAI9B,KAAK6U,GAAL,CAAS4J,KAAT,IAAkBV,OAAOC,SAA7B,EAAuC;AACrC,cAAO,CAAP;AACD;AACD,YAAOS,KAAP;AACD,IAVD;;AAYAplB,QAAKslB,MAAL,GAAc,UAACtc,MAAD,EAAU;AACtB;AACA,YAAQrC,KAAK6U,GAAL,CAASxb,KAAKyB,CAAL,GAASuH,OAAOvH,CAAzB,IAA6BijB,OAAOC,SAArC,IAAoDhe,KAAK6U,GAAL,CAASxb,KAAK0B,CAAL,GAASsH,OAAOtH,CAAzB,IAA6BgjB,OAAOC,SAA/F;AACD,IAHD;;AAKA3kB,QAAKulB,QAAL,GAAgB,UAACvc,MAAD,EAAU;AACxB;AACA,YAAOhJ,KAAKmlB,UAAL,CAAgBnc,MAAhB,IAA0B,GAA1B,GAAgCrC,KAAK0B,EAA5C;AACD,IAHD;;AAMArI,QAAKwlB,MAAL,GAAc,YAAI;AAChB,YAAQ7e,KAAK6U,GAAL,CAASxb,KAAKyB,CAAd,IAAmBijB,OAAOC,SAA3B,IAA0Che,KAAK6U,GAAL,CAASxb,KAAK0B,CAAd,IAAmBgjB,OAAOC,SAA3E;AACD,IAFD;;AAIA3kB,QAAKylB,aAAL,GAAqB,UAACzc,MAAD,EAAQoc,KAAR,EAAgB;AACnC;AACA,SAAIM,WAAW/e,KAAKgf,GAAL,CAASP,KAAT,CAAf;AACA,SAAIQ,WAAWjf,KAAKkf,GAAL,CAAST,KAAT,CAAf;AACA,SAAI3jB,IAAI,CAAR;AACA,SAAIC,IAAI,CAAR;AACA,SAAIsH,OAAOwc,MAAP,EAAJ,EAAoB;AAClB;AACA,WAAIM,QAAQ9lB,KAAKyB,CAAL,GAASmkB,QAAT,GAAoB5lB,KAAK0B,CAAL,GAASgkB,QAAzC;AACAhkB,WAAI1B,KAAK0B,CAAL,GAASkkB,QAAT,GAAoB5lB,KAAKyB,CAAL,GAASikB,QAAjC;AACAjkB,WAAIqkB,KAAJ;AACD,MALD,MAKM;AACJ,WAAIA,SAAQ9lB,KAAKyB,CAAL,GAASuH,OAAOvH,CAA5B;AACA,WAAIskB,QAAQ/lB,KAAK0B,CAAL,GAASsH,OAAOtH,CAA5B;AACAD,WAAIqkB,SAAQF,QAAR,GAAmBG,QAAQL,QAA3B,GAAsC1c,OAAOvH,CAAjD;AACAC,WAAIqkB,QAAQH,QAAR,GAAmBE,SAAQJ,QAA3B,GAAsC1c,OAAOtH,CAAjD;AACD;;AAED,YAAO5B,KAAK2B,CAAL,EAAOC,CAAP,CAAP;AAED,IApBD;;AAwBA,UAAO1B,IAAP;AACD,EApHD;mBAqHeF,I;;;;;;;;;;;;ACrHf;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAZA;;;AAaA,KAAIkmB,YAAY;AACdC,aAAU,CAAC,CADG;AAEdC,cAAW,CAFG;AAGdC,YAAS,CAHK;AAIdC,aAAU,CAJI;AAKdC,gBAAY;AALE,EAAhB;AAOA,KAAMC,YAAY,SAAZA,SAAY,GAAI;AACpB,OAAItmB,OAAO,wBAAU,yBAAV,CAAX;AACAA,QAAK8X,SAAL,CAAe,MAAf,EAAsB,YAAI;AACxB,YAAO,IAAP;AACD,IAFD;;AAIA,OAAI6B,SAASqM,UAAUC,QAAvB;;AAEA,OAAIM,aAAa,yBAAUvmB,IAAV,CAAjB;AACAumB,cAAWxnB,IAAX;AACAwnB,cAAWzC,SAAX,CAAqB9jB,IAArB;;AAIA,OAAI6a,YAAa,SAAbA,SAAa,CAAC3V,KAAD,EAAS;AACxB1H,aAAQC,GAAR,CAAY,WAAWyH,KAAvB;AACA,SAAIA,UAAUyU,MAAd,EAAqB;AACnB;AACD;AACD,aAAQzU,KAAR;;AAEE,YAAK8gB,UAAUE,SAAf;AACE1oB,iBAAQC,GAAR,CAAY,gBAAZ;AACED,iBAAQC,GAAR,CAAY,iBAAZ;AACA,8BAAOmB,UAAP,CAAkB4nB,UAAlB,GAA+B,GAA/B;AACA,aAAIC,WAAW,wBAAf;AACAA,kBAAS1nB,IAAT;AACA;AACA0nB,kBAAS3C,SAAT,CAAmB9jB,IAAnB;AACAumB,oBAAWG,OAAX;AACA,8BAAO9nB,UAAP,CAAkB+nB,SAAlB,GAA6B,EAA7B;AACA;;AAEF;AACF,YAAKX,UAAUG,OAAf;AACE;AACAI,oBAAWK,SAAX;AACA;AACF,YAAKZ,UAAUI,QAAf;;AAIE;AACA;;;AAKA,8BAAOS,MAAP,CAAcpH,IAAd,CAAmB,eAAnB;;AAGE,aAAIqH,cAAc,0BAAW;AACzBC,qBAAU,CADe;AAEzBC,kBAAO;AAFkB,UAAX,CAAlB;AAIAF,qBAAY/nB,IAAZ;AACA+nB,qBAAYhD,SAAZ,CAAsB9jB,IAAtB;AACF;AACE;AACA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACF,YAAKgmB,UAAUK,WAAf;AACE7oB,iBAAQC,GAAR,CAAY,QAAZ;AACEod,mBAAUmL,UAAUE,SAApB;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACF;AACE;AAzFJ;AA2FAvM,cAASzU,KAAT;AACD,IAjGD;;AAuGA,wBAAO2hB,MAAP,CAAcxL,EAAd,CAAiB,WAAjB,EAA6B,YAAI;AAC/BR,eAAUmL,UAAUG,OAApB;AACD,IAFD;AAGA,wBAAOU,MAAP,CAAcxL,EAAd,CAAiB,UAAjB,EAA4B,YAAI;AAC9BR,eAAUmL,UAAUI,QAApB;AACD,IAFD;AAGA,wBAAOS,MAAP,CAAcxL,EAAd,CAAiB,aAAjB,EAA+B,YAAI;AACjCR,eAAUmL,UAAUK,WAApB;AACD,IAFD;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AASAxL,aAAUmL,UAAUE,SAApB;;AAIA;AACA,wBAAOe,YAAP,CAAoBC,MAApB,CAA2B,SAA3B;;AAGA,UAAOlnB,IAAP;AACD,EA1JD;mBA2JesmB,S;;;;;;;;;;;;AC5Kf;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AACA,KAAMN,YAAY;AAChBC,aAAU,CAAC,CADK;AAEhBkB,YAAS,CAFO;AAGhBC,YAAS,CAHO;AAIhBC,SAAM;AAJU,EAAlB,C,CAhBA;;;;AAsBA,KAAMC,YAAa,SAAbA,SAAa,GAAI;AACrB,OAAItnB,OAAO,wBAAU,yBAAV,CAAX;AACAA,QAAK8X,SAAL,CAAe,MAAf,EAAsB,YAAI;AACxB,YAAO,IAAP;AACD,IAFD;;AAIA,OAAI6B,SAASqM,UAAUC,QAAvB;;AAGA,OAAIsB,MAAM,IAAI/mB,KAAKa,MAAL,CAAYyV,SAAhB,CAA0B,oBAAU0Q,EAApC,CAAV;AACAxnB,QAAKO,IAAL,CAAUgB,QAAV,CAAmBgmB,GAAnB;AACA;AACAA,OAAI/f,QAAJ,GAAe;AACb/F,QAAG,CADU;AAEbC,QAAG;AAFU,IAAf;AAIA;AACA6lB,OAAI1iB,KAAJ,CAAUnD,CAAV,GAAc,GAAd;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAI+lB,cAAc,2BAAlB;AACAA,eAAY1oB,IAAZ;AACA0oB,eAAY3D,SAAZ,CAAsB9jB,IAAtB;;AAEA;AACA,OAAI0nB,UAAU,sBAAO;AACnBC,gBAAW,kBAAS3oB,cAAT,GAA0BnB,KADlB;AAEnB+pB,iBAAY,kBAAS5oB,cAAT,GAA0BlB,MAFnB;AAGnBukB,eAAU,kBAASrjB,cAAT,GAA0BnB,KAHjB;AAInBgqB,gBAAW,kBAAS7oB,cAAT,GAA0BlB;AAJlB,IAAP,CAAd;AAMA4pB,WAAQ3oB,IAAR;AACA2oB,WAAQ5D,SAAR,CAAkB9jB,IAAlB;;AAEA;;AAEA,OAAI8nB,cAAc,2BAAlB;AACAA,eAAY/oB,IAAZ;AACA+oB,eAAYhE,SAAZ,CAAsB9jB,IAAtB;;AAEA;;AAEA,OAAI+nB,eAAe,4BAAnB;AACAA,gBAAahpB,IAAb;AACAgpB,gBAAajE,SAAb,CAAuB9jB,IAAvB;;AAEA;AACA,OAAIgoB,UAAU,4BAAd;AACAA,WAAQjpB,IAAR;AACAipB,WAAQlE,SAAR,CAAkB9jB,IAAlB;;AAGA;AACA;AACA;AACA;;;AAIA;AACA,OAAIioB,WAAW,wBAAf;AACAA,YAASlpB,IAAT;AACAkpB,YAASnE,SAAT,CAAmB9jB,IAAnB;;AAEA0nB,WAAQQ,WAAR,CAAoBH,aAAaxnB,IAAjC;AACAmnB,WAAQQ,WAAR,CAAoBJ,YAAYvnB,IAAhC;AACAmnB,WAAQQ,WAAR,CAAoBF,QAAQznB,IAA5B;AACA;AACAmnB,WAAQQ,WAAR,CAAoBX,GAApB;AACA,wBAAOV,MAAP,CAAcxL,EAAd,CAAiB,QAAjB,EAA0B,YAAI;AAC5BqM,aAAQS,MAAR,CAAe,GAAf;AACA;AACA;AACA;AACA;AACD,IAND;AAOA,wBAAOtB,MAAP,CAAcxL,EAAd,CAAiB,SAAjB,EAA2B,YAAI;AAC7BqM,aAAQU,OAAR,CAAgB,CAAhB;AACA;AACA;AACA;AACA;AACD,IAND;AAOA,wBAAOvB,MAAP,CAAcxL,EAAd,CAAiB,aAAjB,EAA+B,YAAI;AACjCqM,aAAQW,WAAR;AACD,IAFD;;AAIA;AACA,OAAIC,YAAY,8BAAhB;AACAA,aAAUvpB,IAAV;AACAupB,aAAUxE,SAAV,CAAoB9jB,IAApB;;AAGAA,QAAKO,IAAL,CAAU8Z,WAAV,GAAwB,IAAxB;AACA,OAAIkO,QAAQ,4BAAYvoB,IAAZ,CAAZ;AACAuoB,SAAMxpB,IAAN;AACAiB,QAAK8X,SAAL,CAAe,WAAf,EAA2B,UAAC0Q,QAAD,EAAY;AACrCV,iBAAYW,SAAZ,CAAsBD,QAAtB;AACD,IAFD;AAGAxoB,QAAK8X,SAAL,CAAe,YAAf,EAA4B,YAAI;AAC9BgQ,iBAAYY,UAAZ;AACD,IAFD;AAGA1oB,QAAK8X,SAAL,CAAe,UAAf,EAA0B,YAAI;AAC5BgQ,iBAAYa,QAAZ;AACD,IAFD;;AAIA3oB,QAAK8X,SAAL,CAAe,QAAf,EAAwB,UAAC8Q,OAAD,EAAW;AACjCL,WAAMpW,MAAN,CAAayW,OAAb;AACAC,WAAM1W,MAAN;AACD,IAHD;;AAMA,OAAI0I,YAAY,SAAZA,SAAY,CAAC3V,KAAD,EAAS;AACvB,SAAIA,UAAUyU,MAAd,EAAqB;AACnB;AACD;AACD,aAAQzU,KAAR;AACE,YAAK8gB,UAAUmB,OAAf;;AAEE;AACF,YAAKnB,UAAUoB,OAAf;AACEmB,eAAMO,gBAAN;AACAhB,qBAAYiB,OAAZ;;AAGA;AACF,YAAK/C,UAAUqB,IAAf;AACEkB,eAAMS,cAAN;AACAlB,qBAAYmB,KAAZ;AACA;AACF;AACE;AAfJ;AAiBAtP,cAASzU,KAAT;AACD,IAtBD;;AAyBA2V,aAAUmL,UAAUmB,OAApB;;AAGAnnB,QAAK4mB,SAAL,GAAiB,YAAI;AACnBppB,aAAQC,GAAR,CAAY,cAAckc,MAA1B;AACAkB,eAAUmL,UAAUoB,OAApB;AACD,IAHD;;AAKApnB,QAAKgP,QAAL,GAAgB,YAAI;;AAKlB6L,eAAUmL,UAAUqB,IAApB;AACD,IAND;AAOArnB,QAAK0mB,OAAL,GAAe,YAAI;AACjBoB,iBAAYpB,OAAZ;AACD,IAFD;;AAUA,UAAO1mB,IAAP;AACD,EAxKD;mBAyKgBsnB,S;;;;;;;;;;;;AC5LhB;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAVA;;;AAWA,KAAM4B,SAAS,SAATA,MAAS,CAACC,IAAD,EAAMC,IAAN,EAAa;AAC1B,OAAIC,EAAJ,EAAOC,EAAP,EAAUC,CAAV;AACA,OAAG;AAACF,UAAGF,KAAKK,QAAL,GAAgB9c,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,EAA8BrH,MAAjC;AAAwC,IAA5C,CAA4C,OAAM+P,CAAN,EAAQ;AAACiU,UAAG,CAAH;AAAK;AAC1D,OAAG;AAACC,UAAGF,KAAKI,QAAL,GAAgB9c,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,EAA8BrH,MAAjC;AAAwC,IAA5C,CAA4C,OAAM+P,CAAN,EAAQ;AAACkU,UAAG,CAAH;AAAK;AAC1DC,OAAE5iB,KAAK8iB,GAAL,CAAS,EAAT,EAAY9iB,KAAK+C,GAAL,CAAS2f,EAAT,EAAYC,EAAZ,CAAZ,CAAF;AACA,UAAO,CAACH,OAAKI,CAAL,GAAOH,OAAKG,CAAb,IAAgBA,CAAvB;AACD,EAND;AAOA,KAAMG,eAAe;AACnBzD,aAAU,CAAC,CADQ;AAEnB0D,WAAQ,CAFW;AAGnBC,UAAO,CAHY;AAInBC,WAAQ,CAJW;AAKnBC,WAAQ,CALW;AAMnBC,YAAS,CANU;AAOnBC,gBAAY,CAPO;AAQnBC,YAAS,CARU;AASnBC,cAAW,CATQ;AAUnBC,aAAU,CAVS;AAWnBC,cAAW,EAXQ;AAYnBC,gBAAa,EAZM;AAanBC,eAAY;AAbO,EAArB;AAeA,KAAMtE,YAAY;AAChBC,aAAW,CAAC,CADI;AAEhBkB,YAAS,CAFO;AAGhBC,YAAS,CAHO;AAIhBC,SAAM;AAJU,EAAlB;AAMA,KAAMkD,aAAa,SAAbA,UAAa,CAAClqB,IAAD,EAAQ;AACzB7C,WAAQC,GAAR,CAAY,QAAZ;AACA,OAAIuC,OAAO,wBAAU,yBAAV,CAAX;AACAA,QAAK8X,SAAL,CAAe,MAAf,EAAsB,YAAI;AACxB,YAAO,IAAP;AACD,IAFD;AAGA,OAAI0S,iBAAiB,CAAC,YAAD,EAAc,WAAd,EAA0B,aAA1B,EAAwC,WAAxC,EACnB,QADmB,EACV,QADU,EACD,OADC,EACO,OADP,EACe,OADf,EACuB,MADvB,EAC8B,YAD9B,CAArB;AAEA;AACA;AACA;AACA,OAAIC,mBAAmB,CAAC,GAAD,EAAK,EAAL,EAAQ,EAAR,EAAW,EAAX,EAAc,GAAd,EAAkB,GAAlB,EAAsB,GAAtB,CAAvB;AACA,OAAIC,mBAAmB,CAAvB;AACA,OAAIC,aAAa,CAAjB;AACA,OAAIC,mBAAmB,CAAvB;AACA,OAAIC,8BAA8B,CAAlC;AACA,OAAIC,UAAU,EAAd;AACA,OAAIC,gBAAgBrB,aAAazD,QAAjC;AACA,OAAI+E,aAAa,yBAAUhrB,KAAKO,IAAf,CAAjB;AACA,OAAIoZ,SAASqM,UAAUC,QAAvB;AACA,OAAIgF,gBAAgB,qBAAOrsB,UAAP,CAAkB4nB,UAAtC;AACAwE,cAAWlH,SAAX,CAAqB9jB,KAAKO,IAA1B;AACA,OAAI2qB,cAAc,qBAAOtsB,UAAP,CAAkBusB,QAAlB,GAA2B,qBAAOvsB,UAAP,CAAkB4nB,UAA/D;AACA,OAAI4E,YAAY,qBAAOxsB,UAAP,CAAkBysB,SAAlB,IAA+B,qBAAOzsB,UAAP,CAAkB4nB,UAAlB,GAA+B,CAA9D,CAAhB;AACAhpB,WAAQC,GAAR,CAAY,gBAAgBytB,WAA5B;AACA,OAAII,oBAAoB,CAAxB;AACA,OAAIC,kBAAkB,CAAtB;AACA,OAAIC,eAAe,EAAnB;AACA,OAAIC,iBAAiB,CAArB;AACA,OAAIC,mBAAmB,qBAAO9sB,UAAP,CAAkB4nB,UAAlB,GAA+B,GAAtD;AACA,OAAImF,sBAAsB,CAA1B;AACA,OAAI9sB,WAAW,SAAXA,QAAW,GAAI;AACjB2rB,sBAAiB,CAAC,YAAD,EAAc,WAAd,EAA0B,aAA1B,EAAwC,WAAxC,EAAoD,QAApD,EAA6D,QAA7D,EAAsE,OAAtE,EAA8E,OAA9E,EAAsF,OAAtF,EAA8F,MAA9F,EAAqG,YAArG,CAAjB;AACA;AACA;AACA;AACAC,wBAAmB,CAAC,EAAD,EAAI,EAAJ,EAAO,EAAP,EAAU,EAAV,EAAa,EAAb,EAAgB,EAAhB,EAAmB,GAAnB,CAAnB;AACAC,wBAAmB,CAAnB;AACAC,kBAAa,CAAb;AACAC,wBAAmB,CAAnB;AACAC,mCAA8B,CAA9B;AACAC,eAAU,EAAV;AACAC,qBAAgBrB,aAAazD,QAA7B;AACAgF,qBAAgB,qBAAOrsB,UAAP,CAAkB4nB,UAAlC;AACA0E,mBAAa,qBAAOtsB,UAAP,CAAkBusB,QAAlB,GAA2B,qBAAOvsB,UAAP,CAAkB4nB,UAA1D;AACA4E,iBAAY,qBAAOxsB,UAAP,CAAkBysB,SAAlB,IAA+B,qBAAOzsB,UAAP,CAAkB4nB,UAAlB,GAA+B,CAA9D,CAAZ;AACA,0BAAO5nB,UAAP,CAAkBgtB,cAAlB,GAAmC,CAAnC;AACA,0BAAOhtB,UAAP,CAAkBitB,YAAlB,GAAiC,CAAjC;AACA,0BAAOjtB,UAAP,CAAkBktB,YAAlB,GAAiC,CAAjC;AACA,0BAAOltB,UAAP,CAAkBmtB,aAAlB,GAAkC,CAAlC;AACAT,yBAAoB,CAApB;AACAC,uBAAkB,CAAlB;AACAC,oBAAe,EAAf;AACAC,sBAAiB,CAAjB;AACAC,wBAAmB,qBAAO9sB,UAAP,CAAkB4nB,UAAlB,GAA+B,GAAlD;AACAmF,2BAAsB,CAAtB;AACA3rB,UAAKgsB,UAAL,GAAkB9qB,SAAlB;AACD,IA1BD;AA2BA,OAAM+qB,cAAc,SAAdA,WAAc,GAAI;AACtB,SAAIC,QAAQ,CAAC,QAAD,EAAU,OAAV,CAAZ;AACA,SAAIvrB,QAAQgG,KAAKwlB,KAAL,CAAWxlB,KAAK2E,MAAL,MAAgB4gB,MAAM7mB,MAAN,GAAe,CAA/B,CAAX,CAAZ;AACA,SAAIH,QAAQgnB,MAAMvrB,KAAN,CAAZ;AACA,SAAI6qB,aAAanmB,MAAb,KAAwB,CAA5B,EAA8B;AAC5BH,eAAQgnB,MAAM,CAAN,CAAR;AACD,MAFD,MAEM,IAAGV,aAAanmB,MAAb,KAAwB,CAA3B,EAA6B;AACjC,WAAImmB,aAAa,CAAb,MAAoBA,aAAa,CAAb,CAAxB,EAAwC;AACtC,aAAIA,aAAa,CAAb,MAAoBU,MAAM,CAAN,CAAxB,EAAiC;AAC/BhnB,mBAAQgnB,MAAM,CAAN,CAAR;AACC,UAFH,MAEQ;AACNhnB,mBAAQgnB,MAAM,CAAN,CAAR;AACD;AACF;AACDV,oBAAa5X,MAAb,CAAoB,CAApB,EAAsB,CAAtB;AACD;AACD4X,kBAAa/sB,IAAb,CAAkByG,KAAlB;AACA1H,aAAQC,GAAR,CAAY,aAAayH,KAAzB;AACA,YAAOA,KAAP;AACD,IAnBD;AAoBA,OAAIknB,iBAAiB,SAAjBA,cAAiB,CAAClnB,KAAD,EAAS;;AAE5B,SAAI6lB,kBAAkB7lB,KAAtB,EAA4B;AAC1B;AACD;;AAED,SAAIyU,WAAWqM,UAAUoB,OAAzB,EAAiC,CAEhC,CAFD,MAEM;AACJ;AACD;AACD2D,qBAAgB7lB,KAAhB;AACA,aAAQA,KAAR;AACE,YAAKwkB,aAAaC,MAAlB;AACEiB,4BAAmB,CAAnB;AACAC,uCAA8B,CAA9B;AACA,8BAAOhE,MAAP,CAAcpH,IAAd,CAAmB,UAAnB,EAA8B,QAA9B;AACA,8BAAOoH,MAAP,CAAcpH,IAAd,CAAmB,SAAnB,EAA8B,QAA9B;AACA,8BAAOoH,MAAP,CAAcpH,IAAd,CAAmB,YAAnB,EAAgC,QAAhC;AACA,8BAAOoH,MAAP,CAAcpH,IAAd,CAAmB,YAAnB,EAAgC,QAAhC;AACA,kCAAe4M,UAAf,CAA0B,WAA1B,EAAsC,YAAI;AACxC7uB,mBAAQC,GAAR,CAAY,SAAZ;AACA2uB,0BAAe1C,aAAaM,WAA5B;AACD,UAHD,EAGE,IAHF;;AAKA;AACF,YAAKN,aAAaE,KAAlB;AACE;AACA;AACA;AACA;;;AAGAiB,uCAA8B,GAA9B;AACA,8BAAOhE,MAAP,CAAcpH,IAAd,CAAmB,UAAnB,EAA8B,OAA9B;AACA,8BAAOoH,MAAP,CAAcpH,IAAd,CAAmB,SAAnB,EAA8B,OAA9B;AACA,8BAAOoH,MAAP,CAAcpH,IAAd,CAAmB,YAAnB,EAAgC,OAAhC;AACA,kCAAe4M,UAAf,CAA0B,UAA1B,EAAqC,YAAI;AACvCD,0BAAe1C,aAAaS,QAA5B;AACD,UAFD,EAEE,IAFF;;AAKA;AACF,YAAKT,aAAaI,MAAlB;AACEc,4BAAmB,CAAnB;AACAC,uCAA8B,CAA9B;AACA;AACF,YAAKnB,aAAaG,MAAlB;AACEe,4BAAmB,GAAnB;AACA;AACF,YAAKlB,aAAaK,OAAlB;AACE;AACF,YAAKL,aAAaQ,SAAlB;AACE,8BAAOrD,MAAP,CAAcpH,IAAd,CAAmB,UAAnB,EAA8B,QAA9B;AACA,8BAAOoH,MAAP,CAAcpH,IAAd,CAAmB,SAAnB,EAA8B,QAA9B;AACA,8BAAOoH,MAAP,CAAcpH,IAAd,CAAmB,YAAnB,EAAgC,QAAhC;AACA,8BAAOoH,MAAP,CAAcpH,IAAd,CAAmB,YAAnB,EAAgC,QAAhC;AACA,kCAAe6M,aAAf;AACAD,oBAAW,YAAI;AACb,gBAAK,IAAI/tB,IAAI,CAAb,EAAiBA,IAAIwsB,QAAQzlB,MAA7B,EAAsC/G,GAAtC,EAA2C;AACzCwsB,qBAAQxsB,CAAR,EAAWiuB,UAAX;AACD;AACC,gCAAO1F,MAAP,CAAcpH,IAAd,CAAmB,UAAnB;AACA,gCAAOwH,YAAP,CAAoBuF,IAApB,CAAyB,UAAzB;AACH,UAND,EAME,EANF;;AAQA;AACF,YAAK9C,aAAaO,OAAlB;AACE,8BAAOpD,MAAP,CAAcpH,IAAd,CAAmB,UAAnB,EAA8B,QAA9B;AACA,8BAAOoH,MAAP,CAAcpH,IAAd,CAAmB,SAAnB,EAA8B,QAA9B;AACA,8BAAOoH,MAAP,CAAcpH,IAAd,CAAmB,YAAnB,EAAgC,QAAhC;AACA,8BAAOoH,MAAP,CAAcpH,IAAd,CAAmB,YAAnB,EAAgC,QAAhC;AACA;AACA,kCAAegN,YAAf,CAA4B,WAA5B;AACA,kCAAeA,YAAf,CAA4B,UAA5B;AACA,kCAAeA,YAAf,CAA4B,aAA5B;AACA,kCAAeA,YAAf,CAA4B,cAA5B;AACA,kCAAeA,YAAf,CAA4B,YAA5B;AACA;AACA,kCAAeJ,UAAf,CAA0B,YAA1B,EAAuC,YAAI;AACzCD,0BAAe1C,aAAaC,MAA5B;AACD,UAFD,EAEE,IAFF;;AAIA;AACF,YAAKD,aAAaM,WAAlB;;AAEE,aAAI,qBAAOprB,UAAP,CAAkB4nB,UAAlB,IAAgC,EAApC,EAAuC;AACrC4F,0BAAe1C,aAAaC,MAA5B;AAED,UAHD,MAGM;AACJyC,0BAAe1C,aAAauC,aAAb,CAAf;AAED;AACD;AACF,YAAKvC,aAAaS,QAAlB;AACE,8BAAOtD,MAAP,CAAcpH,IAAd,CAAmB,YAAnB,EAAgC,OAAhC;AACA,kCAAe4M,UAAf,CAA0B,aAA1B,EAAwC,YAAI;AAC1CD,0BAAe1C,aAAaU,SAA5B;AACD,UAFD,EAEE,IAFF;AAGA;AACF,YAAKV,aAAaU,SAAlB;AACE,8BAAOvD,MAAP,CAAcpH,IAAd,CAAmB,UAAnB,EAA8B,QAA9B;AACA,8BAAOoH,MAAP,CAAcpH,IAAd,CAAmB,SAAnB,EAA8B,QAA9B;AACA,8BAAOoH,MAAP,CAAcpH,IAAd,CAAmB,YAAnB,EAAgC,QAAhC;AACA,8BAAOoH,MAAP,CAAcpH,IAAd,CAAmB,YAAnB,EAAgC,QAAhC;AACA,kCAAe4M,UAAf,CAA0B,cAA1B,EAAyC,YAAI;AAC3CD,0BAAe1C,aAAaM,WAA5B;AACD,UAFD,EAEE,IAFF;AAGA;AACF,YAAKN,aAAaY,UAAlB;AACE9sB,iBAAQC,GAAR,CAAY,QAAZ;;AAIA,8BAAOopB,MAAP,CAAcpH,IAAd,CAAmB,UAAnB,EAA8B,QAA9B;AACA,8BAAOoH,MAAP,CAAcpH,IAAd,CAAmB,SAAnB,EAA8B,QAA9B;AACA,8BAAOoH,MAAP,CAAcpH,IAAd,CAAmB,YAAnB,EAAgC,QAAhC;AACA,8BAAOoH,MAAP,CAAcpH,IAAd,CAAmB,YAAnB,EAAgC,QAAhC;AACA;;AAEA,kCAAegN,YAAf,CAA4B,WAA5B;AACA,kCAAeA,YAAf,CAA4B,UAA5B;AACA,kCAAeA,YAAf,CAA4B,aAA5B;AACA,kCAAeA,YAAf,CAA4B,cAA5B;AACA,kCAAeA,YAAf,CAA4B,YAA5B;;AAGAJ,oBAAW,YAAI;;AAGb,eAAIZ,kBAAkBC,gBAAtB,EAAuC,CAEtC,CAFD,MAEM;AACJU,4BAAe1C,aAAaQ,SAA5B;AACA;AACD;;AAGD,eAAIlqB,KAAKgsB,UAAL,KAAoB9qB,SAAxB,EAAkC;AAChC1D,qBAAQC,GAAR,CAAY,UAAZ;AACA,kCAAOwpB,YAAP,CAAoBuF,IAApB,CAAyB,WAAzB;AACA,iBAAIE,QAAQ,qBAAM;AAChB5L,sBAAO,YADS;AAEhB;AACAjc,sBAAO,CAHS;AAIhBK,sBAAO6lB;AAJS,cAAN,CAAZ;AAMA2B,mBAAM5I,SAAN,CAAgB9jB,KAAKO,IAArB;AACAuqB,qBAAQrsB,IAAR,CAAaiuB,KAAb;AACA1sB,kBAAKgsB,UAAL,GAAkBU,KAAlB;AACD;AACF,UAxBD,EAwBE,IAxBF;AAyBA;;;AAGA;AACF;AACE;;AAjJJ;AAoJD,IAhKD;;AAmKA1sB,QAAK2sB,QAAL,GAAgB,UAACjnB,IAAD,EAAQ;AACtBlI,aAAQC,GAAR,CAAY,UAAZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAIwtB,iBAAiB,CAArB,EAAuB;AACrB,4BAAOrsB,UAAP,CAAkBguB,aAAlB,GAAkC,CAAlC;AACA,4BAAOhuB,UAAP,CAAkB4nB,UAAlB,GAA+B,CAA/B;AACA,4BAAO5nB,UAAP,CAAkBysB,SAAlB,GAA8B,CAA9B;AACAJ,uBAAgB,CAAhB;;AAEAmB,sBAAe1C,aAAaY,UAA5B;AACA;AACD;;AAED;;AAEA,0BAAOrD,YAAP,CAAoBuF,IAApB,CAAyB,YAAzB;AACA,SAAI1L,QAAQ0J,eAAe7jB,KAAKwlB,KAAL,CAAWxlB,KAAK2E,MAAL,MAAekf,eAAenlB,MAAf,GAAwB,CAAvC,CAAX,CAAf,CAAZ;AACA,SAAIqnB,QAAQ,qBAAM;AAChB5L,cAAOA,KADS;AAEhB;AACAjc,cAAO,CAHS;AAIhBK,cAAO6lB;AAJS,MAAN,CAAZ;AAMA2B,WAAM5I,SAAN,CAAgB9jB,KAAKO,IAArB;AACAuqB,aAAQrsB,IAAR,CAAaiuB,KAAb;AACApB,yBAAoBpC,OAAOoC,iBAAP,EAAyBJ,WAAzB,CAApB;AACE;AACF,SAAI,qBAAOtsB,UAAP,CAAkB4nB,UAAlB,KAAiC7f,KAAK6E,KAAL,CAAW,qBAAO5M,UAAP,CAAkBiuB,aAAlB,GAAkC,GAA7C,CAArC,EAAuF;AACrFrvB,eAAQC,GAAR,CAAY,KAAZ;AACA,4BAAOwpB,YAAP,CAAoBuF,IAApB,CAAyB,UAAzB;AACAE,aAAMI,SAAN,GAAkB,IAAlB;AACD;;AAID,SAAIxB,qBAAqB,CAAzB,EAA2B;AACzBA,2BAAoBA,oBAAoB,CAAxC;AACAoB,aAAMK,MAAN,GAAe,IAAf;AACA;AACA,4BAAO9F,YAAP,CAAoBuF,IAApB,CAAyB,UAAzB;AACC;;AAEDjB,uBAAkBrC,OAAOqC,eAAP,EAAwBH,SAAxB,CAAlB;AACA,SAAIG,mBAAmB,CAAvB,EAAyB;AACvBA,yBAAkBA,kBAAkB,CAApC;AACA;AACA/tB,eAAQC,GAAR,CAAY,OAAZ;AACA;AACA,4BAAOwpB,YAAP,CAAoBuF,IAApB,CAAyB,YAAzB;AACA,WAAIE,SAAQ,qBAAM;AAChB5L,gBAAO,MADS;AAEhB;AACAjc,gBAAO;AAHS,QAAN,CAAZ;AAKA6nB,cAAM5I,SAAN,CAAgB9jB,KAAKO,IAArB;AACAuqB,eAAQrsB,IAAR,CAAaiuB,MAAb;AAED;AACD,0BAAO9tB,UAAP,CAAkB4nB,UAAlB;AACA,SAAG,qBAAO5nB,UAAP,CAAkB4nB,UAAlB,GAA+B,CAAlC,EAAoC;AAClC,4BAAO5nB,UAAP,CAAkB4nB,UAAlB,GAA+B,CAA/B;AACAgE,wBAAiB,CAAC,MAAD,CAAjB;AACD;;AAEHS;AACD,IA3ED;;AA6EAjrB,QAAK2oB,QAAL,GAAgB,YAAI;AAClBqE,iBAAYC,KAAKtb,GAAL,EAAZ;AACD,IAFD;AAGA3R,QAAK0oB,UAAL,GAAkB,YAAI;AACpB;AACA;AACD,IAHD;AAIA,OAAIwE,YAAY,CAAhB;AACA,OAAIF,YAAY,CAAhB;AACA,wBAAOnG,MAAP,CAAcxL,EAAd,CAAiB,aAAjB,EAA+B,YAAI;AACjCoQ;AACA,SAAIyB,cAAc,CAAlB,EAAoB;AAClBF,mBAAYC,KAAKtb,GAAL,KAAa,EAAzB;AACD,MAFD,MAEM;AACJqb,oBAAa,EAAb;AACD;AACDE;AACD,IARD;;AAUA,OAAMC,YAAY,SAAZA,SAAY,GAAY;AAC5B,SAAIF,KAAKtb,GAAL,KAAaqb,SAAjB,EAA4B;AAC1B,WAAIE,aAAa,CAAjB,EAAoB;AAClB;AACA;AACA;;AAEA,aAAIA,cAAc,CAAlB,EAAoB;AAClB,gCAAOjG,YAAP,CAAoBuF,IAApB,CAAyB,aAAzB;AACD,UAFD,MAEM,IAAGU,cAAc,CAAjB,EAAmB;AACvB,gCAAOjG,YAAP,CAAoBuF,IAApB,CAAyB,aAAzB;AACD,UAFK,MAEA;AACJ,gCAAOvF,YAAP,CAAoBuF,IAApB,CAAyB,aAAzB;AACD;;AAKDf,2BAAkByB,SAAlB;AACA1vB,iBAAQC,GAAR,CAAayvB,YAAY,IAAzB;;AAEA,8BAAOtuB,UAAP,CAAkBwuB,UAAlB,IAAgC,CAACF,YAAY,CAAb,IAAkB,EAAlD;;AAEA,8BAAOrG,MAAP,CAAcpH,IAAd,CAAmB,YAAnB,EAAgCyN,SAAhC,EArBkB,CAqByB;AAC3C,8BAAOrG,MAAP,CAAcpH,IAAd,CAAmB,SAAnB,EAA6B;AAC3BhC,iBAAMyP,YAAY,IADS;AAE3B9P,iBAAM,OAFqB;AAG3B5V,qBAAU;AACR/F,gBAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADpC;AAERjG,gBAAG;AAFK;AAHiB,UAA7B;AAQD,QA9BD,MA8BM,IAAIwrB,cAAc,CAAlB,EAAoB;AACxB,8BAAOrG,MAAP,CAAcpH,IAAd,CAAmB,YAAnB,EAAgCyN,SAAhC;AACD;;AAEDA,mBAAY,CAAZ;AACD;AACD,0BAAOrG,MAAP,CAAcpH,IAAd,CAAmB,oBAAnB,EAAwCgM,iBAAiBC,gBAAzD;AACD,IAvCD;;AA0CA1rB,QAAK8X,SAAL,CAAe,QAAf,EAAwB,UAAC2D,SAAD,EAAa;AACnC,SAAI9B,UAAUqM,UAAUoB,OAAxB,EAAgC;AAC9B;AACD;AACD,UAAK,IAAI9oB,IAAI,CAAb,EAAiBA,IAAIwsB,QAAQzlB,MAA7B,EAAsC/G,GAAtC,EAA2C;AACzCwsB,eAAQxsB,CAAR,EAAW+uB,IAAX,CAAgB5R,SAAhB;AACA,WAAIqP,QAAQxsB,CAAR,EAAWgvB,MAAX,EAAJ,EAAwB;AACtBxC,iBAAQlX,MAAR,CAAetV,CAAf,EAAiB,CAAjB;AACD;AACF;AACD,SAAIysB,kBAAkBrB,aAAaC,MAA/B,IAAyCoB,kBAAkBrB,aAAaS,QAA5E,EAAqF;AACnF,WAAI,qBAAOvrB,UAAP,CAAkB4nB,UAAlB,GAA+B,EAAnC,EAAsC;AACpC4F,wBAAe1C,aAAaC,MAA5B;AACD;;AAGD,WAAIgB,aAAaF,iBAAiBC,gBAAjB,IAAqCG,2BAAtD,EAAkF;AAChFF,sBAAa,CAAb;AACAD,4BAAmB/jB,KAAKwlB,KAAL,CAAWxlB,KAAK2E,MAAL,MAAiBmf,iBAAiBplB,MAAjB,GAA0B,CAA3C,CAAX,CAAnB;AACA,aAAI0lB,kBAAkBrB,aAAaY,UAAnC,EAA8C;AAC5C;AACD,UAFD,MAEM;AACJtqB,gBAAK2sB,QAAL;AACD;AACF;AACDhC;AACD;AACDwC;AAED,IA7BD;;AAkCAntB,QAAKyoB,SAAL,GAAiB,UAAC/iB,IAAD,EAAQ;AACxB;AACC,SAAI8iB,WAAW,mBAAK9iB,KAAK6nB,gBAAL,CAAsBvtB,KAAKO,IAA3B,EAAiCkB,CAAtC,EAAwCiE,KAAK6nB,gBAAL,CAAsBvtB,KAAKO,IAA3B,EAAiCmB,CAAzE,CAAf;AACA,UAAK,IAAIpD,IAAI,CAAb,EAAiBA,IAAIwsB,QAAQzlB,MAA7B,EAAsC/G,GAAtC,EAA2C;AACzC,WAAIkvB,WAAW,mBAAKhF,SAAS/mB,CAAd,EAAgB+mB,SAAS9mB,CAAzB,CAAf;AACEopB,eAAQxsB,CAAR,EAAWmvB,GAAX,CAAeD,QAAf;AACH;AACF,IAPD;;AASA,wBAAO3G,MAAP,CAAcxL,EAAd,CAAiB,SAAjB,EAA2B,YAAI;AAC7B+Q,oBAAe1C,aAAaO,OAA5B;AACA,yBAAUyD,SAAV,CAAoB1tB,KAAKO,IAAzB;AACD,IAHD;;AAKA,wBAAOsmB,MAAP,CAAcxL,EAAd,CAAiB,eAAjB,EAAiC,UAACF,GAAD,EAAO;AACtC3d,aAAQC,GAAR,CAAY,QAAZ;AACAkuB;AACA;;AAEA,SAAIgC,QAAQ,IAAIntB,KAAKa,MAAL,CAAYyV,SAAhB,CAA0B,oBAAU8W,eAApC,CAAZ;AACAD,WAAMrM,KAAN,GAAc,CAAd;AACAqM,WAAM9oB,KAAN,GAAc;AACZpD,UAAG,CADS;AAEZC,UAAG;AAFS,MAAd;AAIAisB,WAAMvlB,QAAN,GAAiBzB,KAAK2E,MAAL,KAAgB,GAAhB,IAAuB,MAAI3E,KAAK0B,EAAhC,CAAjB;AACAslB,WAAMnsB,MAAN,CAAa+F,GAAb,CAAiB,GAAjB,EAAqB,GAArB;AACAomB,WAAMzpB,MAAN,GAAe,CAAC,EAAhB;;AAEAypB,WAAMnmB,QAAN,GAAiB2T,GAAjB;AACAnb,UAAKO,IAAL,CAAUgB,QAAV,CAAmBosB,KAAnB;AACA,SAAIE,YAAY,IAAIhF,MAAMiF,KAAV,CAAgB,EAACxM,OAAO,CAAR,EAAhB,EACbyM,EADa,CACV,EAACzM,OAAO,CAAR,EADU,EACC,EADD,EAEb0M,QAFa,CAEJ,YAAU;AAClBL,aAAMrM,KAAN,GAAc,KAAKA,KAAnB;AACD,MAJa,EAKblf,UALa,CAKF,YAAU;AACpB;AACD,MAPa,CAAhB;AAQA,SAAI6rB,aAAa,IAAIpF,MAAMiF,KAAV,CAAgB,EAACrsB,GAAG,CAAJ,EAAMC,GAAG,CAAT,EAAhB,EACdqsB,EADc,CACX,EAACtsB,GAAG,GAAJ,EAAQC,GAAG,GAAX,EADW,EACK,EADL,EAEdssB,QAFc,CAEL,YAAU;AAClBL,aAAM9oB,KAAN,CAAYpD,CAAZ,GAAgB,KAAKA,CAArB;AACAksB,aAAM9oB,KAAN,CAAYnD,CAAZ,GAAgB,KAAKA,CAArB;AACD,MALc,EAMdU,UANc,CAMH,YAAU;AACpByrB,iBAAU/sB,KAAV;AACH,MARgB,CAAjB;AASAmtB,gBAAWntB,KAAX;AACD,IAnCD;AAoCA,wBAAO+lB,MAAP,CAAcxL,EAAd,CAAiB,mBAAjB,EAAqC,UAAC3V,IAAD,EAAQ;AAC3ClI,aAAQC,GAAR,CAAY,YAAYiI,IAAxB;;AAEA0mB,oBAAe1C,aAAaQ,SAA5B;AACD,IAJD;AAKA,wBAAOrD,MAAP,CAAcxL,EAAd,CAAiB,WAAjB,EAA6B,YAAI;AAC/B,UAAK,IAAI/c,IAAI,CAAb,EAAiBA,IAAIwsB,QAAQzlB,MAA7B,EAAsC/G,GAAtC,EAA2C;AACzCwsB,eAAQxsB,CAAR,EAAWiuB,UAAX;AACD;AACF;AACA,IALD;AAMA,wBAAO1F,MAAP,CAAcxL,EAAd,CAAiB,WAAjB,EAA6B,YAAI;AAC/B;AACA+Q,oBAAe1C,aAAaQ,SAA5B;AACD,IAHD;;AASA,OAAIrP,YAAY,SAAZA,SAAY,CAAC3V,KAAD,EAAS;AACvB,SAAIyU,WAAWzU,KAAf,EAAqB;AACnB;AACD;AACDyU,cAASzU,KAAT;AACA,aAAQA,KAAR;AACE,YAAK8gB,UAAUmB,OAAf;AACE;AACF,YAAKnB,UAAUoB,OAAf;AACE;AACA;AACAgF,wBAAe1C,aAAaC,MAA5B;AACA,8BAAO9C,MAAP,CAAcpH,IAAd,CAAmB,WAAnB,EAA+B,OAA/B;AACA;AACF,YAAKuG,UAAUqB,IAAf;AACE7pB,iBAAQC,GAAR,CAAY,kBAAZ;AACA,8BAAOopB,MAAP,CAAcpH,IAAd,CAAmB,WAAnB,EAA+B,MAA/B;;AAEA;AACF;AACE;AAfJ;AAiBD,IAtBD;AAuBAzf,QAAK0mB,OAAL,GAAe,YAAI;AACjB7L,eAAUmL,UAAUmB,OAApB;AACD,IAFD;;AAIAnnB,QAAK+oB,OAAL,GAAe,YAAI;AACjBvrB,aAAQC,GAAR,CAAY,cAAZ;AACAoB;AACAgc,eAAUmL,UAAUoB,OAApB;AACD,IAJD;AAKApnB,QAAKipB,KAAL,GAAa,YAAI;AACfpO,eAAUmL,UAAUqB,IAApB;AACD,IAFD;;AAKA,UAAOrnB,IAAP;AACD,EAzgBD;mBA0gBgBuqB,U;;;;;;;;;;;;AC9iBhB;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AARA;;;AASA,KAAM2D,aAAa;AACjBjI,aAAU,CAAC,CADM;AAEjBkB,YAAS,CAFQ;AAGjBC,YAAS,CAHQ;AAIjBqG,QAAK,CAJY;AAKjBU,YAAS,CALQ;AAMjB9G,SAAK,CANY;AAOjB+G,cAAW,CAPM;AAQjBC,UAAO,CARU;AASjBC,mBAAgB;;AATC,EAAnB;;AAaA,KAAMC,QAAQ,SAARA,KAAQ,CAACluB,IAAD,EAAQ;AACpB,OAAIL,OAAO,IAAIQ,KAAKC,SAAT,EAAX;AACAT,QAAKG,IAAL,GAAYE,KAAKygB,KAAjB;AACA9gB,QAAKwH,QAAL,GAAgB;AACb/F,QAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAAzC,GAA+ChB,KAAK2E,MAAL,KAAe,GAA9D,GAAoE,EAD1D;AAEb5J,QAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C;AAFhC,IAAhB;;AAKA,OAAI8R,SAASuU,WAAWjI,QAAxB;AACA,OAAIuI,mBAAmB,CAAvB;AACA,OAAIC,YAAY,KAAhB;AACA,OAAI9C,sBAAsB,CAA1B;AACA,OAAI+C,SAAS,KAAb;AACA,OAAM7T,YAAY,SAAZA,SAAY,CAAUC,QAAV,EAAmBvV,QAAnB,EAA6B;AAC7C,SAAIoU,WAAWmB,QAAf,EAAyB;AACvB;AACD;;AAH4C;AAK7C,eAAQA,QAAR;AACE,cAAKoT,WAAW/G,OAAhB;AACE;AACA;AACA;AACF,cAAK+G,WAAW9G,OAAhB;AACE;AACAoH,8BAAmB,CAAnB;AACA;AACF,cAAKN,WAAW7G,IAAhB;AACE;AACDrnB,gBAAK2uB,OAAL;AACC;AACF,cAAKT,WAAWT,GAAhB;AACEmB,sBAAWC,GAAX;AACAxC,sBAAW,YAAI;AACb,iBAAIrsB,KAAKG,IAAL,KAAc,MAAlB,EAAyB,CACxB,CADD,MACM;AACJ0a,yBAAUqT,WAAWC,OAArB;AACD;AACF,YALD,EAKE,GALF;AAMA;AACF,cAAKD,WAAWC,OAAhB;AACEW,4BAAiB,CAAjB;AACAC,qBAAU,CAAV;AACA;AACF,cAAKb,WAAWE,SAAhB;AACEI,8BAAmB,GAAnB;AACA;AACF,cAAKN,WAAWG,KAAhB;AACE;AACAI,uBAAY,IAAZ;AACA,gCAAO5H,MAAP,CAAcpH,IAAd,CAAmB,QAAnB;AACAmP,sBAAWI,OAAX,CAAmBltB,WAAnB,CAA+B8sB,WAAWK,KAA1C;;AAEA;AACF,cAAKf,WAAWI,cAAhB;AACE;AACA;AACA;AACA;AACA;AACA9wB,mBAAQC,GAAR,CAAY,cAAcgX,KAAKS,SAAL,CAAelV,KAAKwH,QAApB,CAA1B;AACA0nB,iBAAMlvB,IAAN,EAAW,CAAX,EAAa,YAAI;AACfxC,qBAAQC,GAAR,CAAY,MAAZ;AACA,kCAAOopB,MAAP,CAAcpH,IAAd,CAAmB,SAAnB;AACA;AACA;AACAmP,wBAAWI,OAAX,CAAmB5rB,OAAnB,GAA6B,KAA7B;AACAwrB,wBAAWC,GAAX;AACA,kCAAOhI,MAAP,CAAcpH,IAAd,CAAmB,WAAnB,EAA+B;AAC7BtE,oBAAK,mBAAKnb,KAAKwH,QAAL,CAAc/F,CAAnB,EAAqBzB,KAAKwH,QAAL,CAAc9F,CAAnC,CADwB;AAE7Bof,sBAAO;AAFsB,cAA/B;AAIA,kCAAO+F,MAAP,CAAcpH,IAAd,CAAmB,mBAAnB,EAAuCkM,mBAAvC;AAED,YAbD;AAcA,eAAIwD,KAAK3uB,KAAKa,MAAL,CAAYyV,SAAZ,CAAsB,oBAAUsY,WAAhC,CAAT;AACAR,sBAAWI,OAAX,CAAmBztB,QAAnB,CAA4B4tB,EAA5B;AACAA,cAAG3tB,MAAH,CAAU+F,GAAV,CAAc,GAAd;AACA,eAAIzC,SAAS,IAAI+jB,MAAMiF,KAAV,CAAgB,EAACjpB,OAAO,CAAR,EAAhB,EACVkpB,EADU,CACP,EAAClpB,OAAO,CAAR,EADO,EACI,GADJ,EAEVmpB,QAFU,CAED,YAAY;AACpBmB,gBAAGtqB,KAAH,GAAW;AACTpD,kBAAG,KAAKoD,KADC;AAETnD,kBAAG,KAAKmD;AAFC,cAAX;AAID,YAPU,CAAb;AAQAC,kBAAOhE,KAAP;;AAIA;AACF;AACE;AA1EJ;AAL6C;;AAkF7C6Y,cAASmB,QAAT;AACD,IAnFD;;AAqFA,OAAIoU,QAAQ,SAARA,KAAQ,CAAU3uB,IAAV,EAAeI,KAAf,EAAqBkB,EAArB,EAAyB;AACnC,SAAIlB,SAAS,CAAb,EAAe;AACb,WAAIkB,EAAJ,EAAO;AACLA;AACD;AACD;AACD;AACDlB;AACA,SAAIwa,MAAM5a,KAAKiH,QAAf;AACA,SAAI1C,SAAS,IAAI+jB,MAAMiF,KAAV,CAAgB3S,GAAhB,EACV4S,EADU,CACP,EAACtsB,GAAG0Z,IAAI1Z,CAAJ,GAAQ4tB,aAAalU,GAAb,IAAoB,EAAhC;AACFzZ,UAAEyZ,IAAIzZ,CAAJ,GAAS2tB,aAAalU,GAAb,IAAoB,EAD7B,EADO,EAE0B,GAF1B,EAGV6S,QAHU,CAGD,YAAY;AACpB,WAAIztB,IAAJ,EAAS;AACPA,cAAKiH,QAAL,GAAgB;AACd/F,cAAG,KAAKA,CADM;AAEdC,cAAG,KAAKA;AAFM,UAAhB;AAID;AACF,MAVU,EAWVU,UAXU,CAWC,YAAI;AACd8sB,aAAM3uB,IAAN,EAAWI,KAAX,EAAiBkB,EAAjB;AACD,MAbU,CAAb;AAcAiD,YAAOhE,KAAP;;AAEA,SAAIwuB,KAAK,IAAIzG,MAAMiF,KAAV,CAAgB,EAACjpB,OAAO,CAAR,EAAhB,EACNkpB,EADM,CACH,EAAClpB,OAAO,GAAR,EADG,EACU,GADV,EAENmpB,QAFM,CAEG,YAAY;AACpBztB,YAAKsE,KAAL,GAAc;AACZpD,YAAG,KAAKoD,KADI;AAEZnD,YAAG,KAAKmD;AAFI,QAAd;AAID,MAPM,EAQNzC,UARM,CAQK,YAAI;AACdmtB,UAAGzuB,KAAH;AACD,MAVM,CAAT;AAWAwuB,QAAGxuB,KAAH;AACA,SAAIyuB,KAAK,IAAI1G,MAAMiF,KAAV,CAAgB,EAACjpB,OAAO,GAAR,EAAhB,EACNkpB,EADM,CACH,EAAClpB,OAAO,CAAR,EADG,EACQ,GADR,EAENmpB,QAFM,CAEG,YAAY;AACpBztB,YAAKsE,KAAL,GAAc;AACZpD,YAAG,KAAKoD,KADI;AAEZnD,YAAG,KAAKmD;AAFI,QAAd;AAID,MAPM,EAQNzC,UARM,CAQK,YAAI,CAEf,CAVM,CAAT;AAWAmtB,QAAGzuB,KAAH;AAGD,IAnDD;AAoDAd,QAAKwvB,KAAL,GAAa,KAAb;AACA,OAAIT,UAAUpoB,KAAK2E,MAAL,KAAgB,GAAhB,GAAsB,IAApC;AACA,OAAImkB,UAAU9oB,KAAK2E,MAAL,KAAgB,GAAhB,GAAsB,GAApC;AACA,OAAItL,KAAKG,IAAL,KAAc,YAAlB,EAA+B;AAC7BsvB,eAAU,CAAV;AACAV,eAAU,IAAV;AACD;AACD,OAAIW,gBAAgB,EAAG/oB,KAAK2E,MAAL,KAAgB,IAAhB,GAAuB,IAA1B,IAAkC,EAAtD;AACA,OAAIwjB,iBAAiB,CAACnoB,KAAK2E,MAAL,KAAgB,CAAhB,GAAoB,CAArB,IAA0B,GAA/C;;AAEA,OAAIsjB,mBAAJ;AACA,OAAIvuB,KAAKygB,KAAL,KAAe,MAAnB,EAA0B;AACxB8N,kBAAa,wBAAS;AACpBe,gBAAS,oBAAUC,QADC;AAEpB/qB,cAAO,CAFa;AAGpB2C,iBAAU,mBAAK,CAAL,EAAO,CAAP;AAHU,MAAT,CAAb;AAKD,IAND,MAMM,IAAGnH,KAAKygB,KAAL,KAAe,YAAlB,EAA+B;AACnC8N,kBAAa,yBAAU;AACrB9N,cAAO,aADc;AAErBjc,cAAOxE,KAAKwE,KAFS;AAGrB2C,iBAAU,mBAAK,CAAL,EAAO,CAAP;AAHW,MAAV,CAAb;AAKA6kB,gBAAW,YAAI;AACbxR,iBAAUqT,WAAWI,cAArB;AACD,MAFD,EAEE,IAFF;AAGD,IATK,MASA;AACJM,kBAAa,yBAAU;AACrB9N,cAAOzgB,KAAKygB,KADS;AAErBjc,cAAOxE,KAAKwE,KAFS;AAGrB2C,iBAAU,mBACR,CADQ,EACN,CADM,CAHW;AAMrBtC,cAAO7E,KAAK6E;AANS,MAAV,CAAb;AAQD;;AAGD0pB,cAAW9K,SAAX,CAAqB9jB,IAArB;;AAEA6a,aAAUqT,WAAW9G,OAArB;AACApnB,QAAK8jB,SAAL,GAAiB,UAACrD,MAAD,EAAU;AACzBzgB,UAAKygB,MAAL,GAAcA,MAAd;AACAzgB,UAAKygB,MAAL,CAAYlf,QAAZ,CAAqBvB,IAArB;AACD,IAHD;AAIAA,QAAKqtB,IAAL,GAAY,UAACtb,EAAD,EAAM;AAChBA,WAAMyc,gBAAN;AACA,SAAI7U,WAAWuU,WAAW9G,OAAtB,IAAiCzN,WAAWuU,WAAWC,OAAvD,IAAkExU,WAAWuU,WAAWE,SAAxF,IAAqGzU,WAAWuU,WAAWG,KAA/H,EAAqI;AACnI,WAAI1U,WAAWuU,WAAWE,SAAtB,IAAmC/tB,KAAKygB,KAAL,KAAe,MAAtD,EAA6D;;AAE3D;AACD;AACD,WAAM+O,WAAW9d,KAAK,IAAtB;AACAgd,kBAAWW,gBAAgB3d,EAA3B;AACA,WAAI1R,KAAKygB,KAAL,KAAe,YAAnB,EAAgC;AAC9B,aAAInH,WAAWuU,WAAW9G,OAA1B,EAAkC;AAChC,eAAIzgB,KAAK6U,GAAL,CAASuT,OAAT,IAAoB,GAAxB,EAA4B;AAC1BlU,uBAAUqT,WAAWG,KAArB;AACD;AACF;AACF;AACD,WAAI1U,WAAWuU,WAAWG,KAA1B,EAAgC;AAC9BoB,mBAAU,CAAV;AACAV,mBAAU,CAAV;AACD;;AAED,WAAI5T,MAAM,mBAAKnb,KAAKwH,QAAL,CAAc/F,CAAnB,EAAqBzB,KAAKwH,QAAL,CAAc9F,CAAnC,EAAsCmjB,GAAtC,CAA0C,mBAAK4K,UAAUI,QAAf,EAAwBd,UAAUc,QAAlC,CAA1C,CAAV;AACA7vB,YAAKwH,QAAL,GAAgB;AACd/F,YAAG0Z,IAAI1Z,CADO;AAEdC,YAAGyZ,IAAIzZ;AAFO,QAAhB;;AAKA,WAAIiY,WAAWuU,WAAW9G,OAAtB,IAAiCzN,WAAWuU,WAAWG,KAA3D,EAAiE;AAC/DruB,cAAKoI,QAAL,GAAgBpI,KAAKoI,QAAL,GAAgB0mB,iBAAiBe,QAAjB,GAA4BlpB,KAAK0B,EAAjC,GAAoC,GAApE;AACD;;AAED,WAAI0mB,UAAU,CAAC,IAAf,EAAoB;AAClBlU,mBAAUqT,WAAW7G,IAArB;AACD;AACF;;AAED,SAAIuH,WAAWzc,MAAf,EAAsB;AACpByc,kBAAWzc,MAAX,CAAkBJ,EAAlB;AACD;AAGF,IAzCD;;AA4CA/R,QAAKytB,GAAL,GAAW,UAACD,QAAD,EAAY;AACrB,SAAI7T,WAAWuU,WAAW9G,OAAtB,IAAiCzN,WAAWuU,WAAWG,KAA3D,EAAkE;AAAA;AAChE,aAAIyB,WAAW,mBAAK9vB,KAAKwH,QAAL,CAAc/F,CAAnB,EAAqBzB,KAAKwH,QAAL,CAAc9F,CAAnC,CAAf;AACA,aAAIquB,MAAMD,SAASxL,WAAT,CAAqBkJ,QAArB,CAAV;AACA,aAAIuC,MAAM,EAAV,EAAa;AACX;;;AAGArB,oBAAS,IAAT;;AAEA,eAAI1uB,KAAKG,IAAL,KAAc,MAAlB,EAAyB;AACvB,kCAAO8mB,YAAP,CAAoBuF,IAApB,CAAyB,SAASnsB,KAAKygB,KAAvC;AACA,kCAAOliB,UAAP,CAAkBktB,YAAlB;AACA,kCAAOjF,MAAP,CAAcpH,IAAd,CAAmB,SAAnB;AACA,kCAAOoH,MAAP,CAAcpH,IAAd,CAAmB,aAAnB,EAAiC;AAC/BjY,yBAAUsoB,QADqB;AAE/BvvB,qBAAMP;AAFyB,cAAjC;;AAKA,kCAAOpB,UAAP,CAAkBoxB,eAAlB,IAAqC,qBAAOpxB,UAAP,CAAkBqxB,kBAAvD;AACA,kCAAOrxB,UAAP,CAAkBgtB,cAAlB,GAAmC,CAAnC;AACA,kCAAOhtB,UAAP,CAAkBqxB,kBAAlB,GAAuC,CAAvC;AACA,kCAAOrxB,UAAP,CAAkBsxB,gBAAlB,GAAqC,CAArC,CAZuB,CAYgB;AACvC,iBAAIC,YAAY,qBAAOvxB,UAAP,CAAkBwuB,UAAlC;AACA,kCAAOxuB,UAAP,CAAkBwuB,UAAlB,IAAgC,qBAAOxuB,UAAP,CAAkBwxB,eAAlD;AACA,iBAAI,qBAAOxxB,UAAP,CAAkBwuB,UAAlB,IAAgC,CAApC,EAAsC;AACpC,oCAAOxuB,UAAP,CAAkBwuB,UAAlB,GAA+B,CAA/B;AACD,cAFD,MAEM;AACJ+C,2BAAY,qBAAOvxB,UAAP,CAAkBwxB,eAA9B;AAED;AACD,kCAAOxxB,UAAP,CAAkByxB,mBAAlB,CAAsC5xB,IAAtC,CAA2C0xB,SAA3C;;AAEA,iBAAI,qBAAOvxB,UAAP,CAAkBwxB,eAAlB,KAAsC,CAA1C,EAA4C;AAC1C;AACD,cAFD,MAEM;;AAEJ,oCAAOvJ,MAAP,CAAcpH,IAAd,CAAmB,SAAnB,EAA6B;AAC3BhC,uBAAM,MAAM,qBAAO7e,UAAP,CAAkBwxB,eADH;AAE3BhT,uBAAM,eAFqB;AAG3B5V,2BAAU;AACR/F,sBAAGzB,KAAKwH,QAAL,CAAc/F,CADT;AAERC,sBAAG1B,KAAKwH,QAAL,CAAc9F,CAAd,GAAkB;AAFb;AAHiB,gBAA7B;AAQD;;AAEDmZ,uBAAUqT,WAAWT,GAArB;AAED,YAvCD,MAuCM,IAAIztB,KAAKG,IAAL,KAAc,YAAlB,EAA+B;AACnC;AACA;AACA,kCAAO0mB,MAAP,CAAcpH,IAAd,CAAmB,aAAnB;AACA6Q,4BAAetwB,IAAf,EAAoB,YAAI;AACtB,mBAAI2Z,WAAWuU,WAAWI,cAA1B,EAAyC;AACvC;AACD;AACD,oCAAOrH,YAAP,CAAoBuF,IAApB,CAAyB,YAAzB;;AAEAb;AACA,oCAAO/sB,UAAP,CAAkB2xB,aAAlB,GAAkC5E,mBAAlC;AACA,oCAAO9E,MAAP,CAAcpH,IAAd,CAAmB,SAAnB,EAA6B;AAC3BhC,uBAAM,MAAMkO,mBAAN,GAA4B,IADP;AAE3BvO,uBAAM,OAFqB;AAG3B5V,2BAAU;AACR/F,sBAAGzB,KAAKwH,QAAL,CAAc/F,CADT;AAERC,sBAAG1B,KAAKwH,QAAL,CAAc9F,CAAd,GAAkB;AAFb;AAHiB,gBAA7B;;AASAotB,iCAAkB,CAAC,CAAnB;AACA,oCAAOjI,MAAP,CAAcpH,IAAd,CAAmB,eAAnB,EAAmCzf,KAAKwH,QAAxC;AACA;AACA,oCAAOqf,MAAP,CAAcpH,IAAd,CAAmB,WAAnB,EAA+B;AAC7BqB,wBAAO,aADsB;AAE7BtZ,2BAAUsoB,SAASniB,GAAT,CAAa,mBAAKhH,KAAK2E,MAAL,KAAgB,GAAhB,GAAsB,GAA3B,EAA+B3E,KAAK2E,MAAL,KAAgB,GAAhB,GAAqB,GAApD,CAAb,CAFmB;AAG7BvH,4BAAWypB,SAAS3I,GAAT,CAAaiL,QAAb;AAHkB,gBAA/B;AAKA,oCAAOjJ,MAAP,CAAcpH,IAAd,CAAmB,WAAnB,EAA+B;AAC7BtE,sBAAKqS,QADwB;AAE7B1M,wBAAO;AAFsB,gBAA/B;AAIA,oCAAO+F,MAAP,CAAcpH,IAAd,CAAmB,UAAnB,EAA8B;AAC5Blf,uBAAMP,IADsB;AAE5BwwB,sBAAKxwB,KAAKoI,QAFkB;AAG5B+S,sBAAK;AACH1Z,sBAAGzB,KAAKwH,QAAL,CAAc/F,CADd;AAEHC,sBAAG1B,KAAKwH,QAAL,CAAc9F;AAFd;AAHuB,gBAA9B;AAQA;AAED,cAvCD;AAyCD,YA7CK,MA6CA;;AAGJ,kCAAO9C,UAAP,CAAkBwuB,UAAlB,IAAgC,EAAhC;AACAvS,uBAAUqT,WAAWT,GAArB;AACA,kCAAO5G,MAAP,CAAcpH,IAAd,CAAmB,UAAnB,EAA8B;AAC5BjY,yBAAU;AACR/F,oBAAGzB,KAAKwH,QAAL,CAAc/F,CADT;AAERC,oBAAG1B,KAAKwH,QAAL,CAAc9F;AAFT;AADkB,cAA9B;AAMA,kCAAOmlB,MAAP,CAAcpH,IAAd,CAAmB,aAAnB;AACAjiB,qBAAQC,GAAR,CAAY,eAAe,MAAf,GAAwB4C,KAAKygB,KAAzC;AACA,kCAAOmG,YAAP,CAAoBuF,IAApB,CAAyB,SAASnsB,KAAKygB,KAAvC;AACA;AACA,kCAAOliB,UAAP,CAAkBmtB,aAAlB;AACA,kCAAOlF,MAAP,CAAcpH,IAAd,CAAmB,WAAnB,EAA+B;AAC7BqB,sBAAOzgB,KAAKygB,KADiB;AAE7BtZ,yBAAUsoB,QAFmB;AAG7B/rB,0BAAWypB,SAAS3I,GAAT,CAAaiL,QAAb;AAHkB,cAA/B;AAKA,kCAAOjJ,MAAP,CAAcpH,IAAd,CAAmB,WAAnB,EAA+B;AAC7BtE,oBAAKqS,QADwB;AAE7B1M,sBAAOzgB,KAAKygB;AAFiB,cAA/B;AAIA,iBAAI9gB,KAAK8sB,SAAL,KAAmB,IAAvB,EAA4B;AAC1BtvB,uBAAQC,GAAR,CAAY,QAAZ;;AAEA,oCAAOmB,UAAP,CAAkBsxB,gBAAlB,IAAsC,qBAAOtxB,UAAP,CAAkB6xB,WAAxD;AACA,oCAAO7xB,UAAP,CAAkBqxB,kBAAlB;AACA,oCAAOrxB,UAAP,CAAkBgtB,cAAlB,IAAoC,qBAAOhtB,UAAP,CAAkB6xB,WAAtD;AACA,oCAAO7xB,UAAP,CAAkBitB,YAAlB,IAAkC,qBAAOjtB,UAAP,CAAkB6xB,WAApD;AACA;AACD;AACD,iBAAIzwB,KAAK+sB,MAAL,KAAgB,IAApB,EAAyB;AACvB,oCAAOnuB,UAAP,CAAkBqxB,kBAAlB;AACA,oCAAOrxB,UAAP,CAAkBgtB,cAAlB;AACA,oCAAOhtB,UAAP,CAAkBitB,YAAlB;AACA,oCAAOhF,MAAP,CAAcpH,IAAd,CAAmB,SAAnB,EAA6B;AAC3BhC,uBAAM,OADqB;AAE3B;AACAjW,2BAAU;AACR/F,sBAAGquB,SAASruB,CADJ;AAERC,sBAAGouB,SAASpuB;AAFJ;AAHiB,gBAA7B;AAQA;AACA;AACA,oCAAOulB,YAAP,CAAoBuF,IAApB,CAAyB,UAAzB;AACA,oCAAO3F,MAAP,CAAcpH,IAAd,CAAmB,iBAAnB,EAAqC;AACnCqB,wBAAO,QAD4B;AAEnCtZ,2BAAU;AACR/F,sBAAGzB,KAAKwH,QAAL,CAAc/F,CADT;AAERC,sBAAG1B,KAAKwH,QAAL,CAAc9F;AAFT;AAFyB,gBAArC;AAOD;AACF;AACF;AAvJ+D;AAwJjE;AACF,IA1JD;;AA6JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO2tB,eAAe,SAAfA,YAAe,CAAClU,GAAD,EAAO;AAC3B,SAAIqJ,IAAI7d,KAAK2E,MAAL,KAAgB,CAAhB,GAAoB,CAA5B;AACA,SAAIhN,IAAIkmB,IAAI7d,KAAK6U,GAAL,CAASgJ,CAAT,CAAZ;AACA;;AAEA,YAAOlmB,CAAP;AACD,IAND;;AAQA,OAAMgyB,iBAAiB,SAAjBA,cAAiB,CAAUtnB,MAAV,EAAiBnH,EAAjB,EAAqB;AAC1C,SAAI4sB,SAAJ,EAAc,CAEb,CAFD,MAEM;AACJ;AACD;AACDA,iBAAY,KAAZ;AACA,SAAIiC,YAAY1nB,OAAOxB,QAAvB;;AAEA,SAAI1C,SAAS,IAAI+jB,MAAMiF,KAAV,CAAgB,EAACjpB,OAAO,CAAR,EAAWpD,GAAGivB,UAAUjvB,CAAxB,EAA0BC,GAAGgvB,UAAUhvB,CAAvC,EAAhB,EACVqsB,EADU,CACP,EAAClpB,OAAO,IAAR;AACFpD,UAAGivB,UAAUjvB,CAAV,GAAc4tB,aAAaqB,SAAb,IAA0B,EADzC;AAEFhvB,UAAGgvB,UAAUhvB,CAAV,GAAc2tB,aAAaqB,SAAb,IAA0B,EAFzC,EADO,EAGsC/pB,KAAK2E,MAAL,KAAgB,EAAhB,GAAqB,EAH3D,EAIV0iB,QAJU,CAID,YAAY;AACpBhlB,cAAOnE,KAAP,GAAe;AACbpD,YAAG,KAAKoD,KADK;AAEbnD,YAAG,KAAKmD;AAFK,QAAf;AAIAmE,cAAOxB,QAAP,GAAkB;AAChB/F,YAAG,KAAKA,CADQ;AAEhBC,YAAG,KAAKA;AAFQ,QAAlB;AAID,MAbU,EAcVU,UAdU,CAcC,YAAI;AACduuB,eAAQ7vB,KAAR;AACD,MAhBU,CAAb;AAiBAgE,YAAOhE,KAAP;AACA,SAAI6vB,UAAU,IAAI9H,MAAMiF,KAAV,CAAgB,EAACjpB,OAAO,IAAR,EAAhB,EACXkpB,EADW,CACR,EAAClpB,OAAO,CAAR,EADQ,EACG8B,KAAK2E,MAAL,KAAgB,EAAhB,GAAqB,EADxB,EAEX0iB,QAFW,CAEF,YAAY;AACpBhlB,cAAOnE,KAAP,GAAe;AACbpD,YAAG,KAAKoD,KADK;AAEbnD,YAAG,KAAKmD;AAFK,QAAf;AAID,MAPW,EAQXzC,UARW,CAQA,YAAI;AACdqsB,mBAAY,IAAZ;AACA,WAAI5sB,EAAJ,EAAO;AACLA;AACD;;AAEDmH,cAAOxB,QAAP,GAAkBkpB,SAAlB;AAED,MAhBW,CAAd;AAiBD,IA5CD;;AA8CA1wB,QAAKstB,MAAL,GAAc,YAAI;AAChB,SAAI3T,WAAWuU,WAAW7G,IAA1B,EAA+B;AAC7B,cAAO,IAAP;AACD,MAFD,MAEM;AACJ,cAAO,KAAP;AACD;AACF,IAND;;AAUA,OAAI+G,YAAY,SAAZA,SAAY,GAAI;AAClB;AACAvT,eAAUqT,WAAWE,SAArB;AACD,IAHD;AAIA,wBAAOvH,MAAP,CAAcxL,EAAd,CAAiB,SAAjB,EAA2B+S,SAA3B;;AAGApuB,QAAKusB,UAAL,GAAkB,YAAI;;AAEpB1R,eAAUqT,WAAW7G,IAArB;AACD,IAHD;;AAMArnB,QAAK2uB,OAAL,GAAe,YAAI;;AAEjB,SAAID,MAAJ,EAAW,CAEV,CAFD,MAEM;AACJ,WAAI1uB,KAAK+sB,MAAT,EAAgB;AACd,8BAAOnuB,UAAP,CAAkBoxB,eAAlB;AACD;AACD,WAAIhwB,KAAK8sB,SAAT,EAAmB;AACjB,8BAAOluB,UAAP,CAAkBoxB,eAAlB;AACD;AACF;;AAGDpB,gBAAWrC,UAAX;AACAvsB,UAAKygB,MAAL,CAAY3e,WAAZ,CAAwB9B,IAAxB;AACA,0BAAO6mB,MAAP,CAAc5G,cAAd,CAA6B,SAA7B,EAAuCmO,SAAvC;AACD,IAjBD;;AAmBA,UAAOpuB,IAAP;AACD,EA/fD;mBAggBeuuB,K;;;;;;;;;;;;ACnhBf;;AACA;;;;AACA;;;;;;AACA,KAAMqC,YAAY,SAAZA,SAAY,CAACvwB,IAAD,EAAQ;AACxB,OAAIL,OAAO,EAAX;AACA,OAAI6wB,SAAS,EAAb;AACA,OAAIC,cAAc,EAAlB;AACA,OAAItoB,IAAI,CAAR;AACAxI,QAAK8jB,SAAL,GAAiB,UAACrD,MAAD,EAAU;AACzBzgB,UAAKygB,MAAL,GAAeA,MAAf;;AAEA,SAAIpgB,KAAKygB,KAAL,KAAe,aAAnB,EAAiC;;AAE/BtjB,eAAQC,GAAR,CAAY,SAAZ;AACA;AACA;AACA;AACAuC,YAAKgvB,OAAL,GAAe,IAAIxuB,KAAKC,SAAT,EAAf;AACAT,YAAKygB,MAAL,CAAYlf,QAAZ,CAAqBvB,KAAKgvB,OAA1B;;AAEChvB,YAAKivB,KAAL,GAAazuB,KAAKa,MAAL,CAAYyV,SAAZ,CAAsB,oBAAUia,QAAhC,CAAb;AACD/wB,YAAKivB,KAAL,CAAWztB,MAAX,CAAkB+F,GAAlB,CAAsB,GAAtB;AACAvH,YAAKgvB,OAAL,CAAaztB,QAAb,CAAsBvB,KAAKivB,KAA3B;AACA,WAAInqB,SAAS,IAAI+jB,MAAMiF,KAAV,CAAgB,EAAC1I,OAAO,CAAR,EAAhB,EACV2I,EADU,CACP,EAAC3I,OAAOze,KAAK0B,EAAL,GAAU,CAAlB,EADO,EACc,KADd,EAEV2lB,QAFU,CAED,YAAY;AACpBhuB,cAAKivB,KAAL,CAAW7mB,QAAX,GAAsB,KAAKgd,KAA3B;AACD,QAJU,CAAb;AAKAtgB,cAAOhE,KAAP;;AAEE,YAAK,IAAIxC,IAAI,CAAb,EAAiBA,IAAG,CAApB,EAAwBA,GAAxB,EAA6B;AAC3B,aAAI0yB,OAAOxwB,KAAKa,MAAL,CAAYyV,SAAZ,CAAsB,oBAAU,2BAA2BxY,IAAI,CAA/B,CAAV,CAAtB,CAAX;AACA0B,cAAKygB,MAAL,CAAYlf,QAAZ,CAAqByvB,IAArB;AACAA,cAAKxvB,MAAL,CAAY+F,GAAZ,CAAgB,GAAhB;AACAypB,cAAKxpB,QAAL,GAAgBnH,KAAKmH,QAArB;AACAspB,qBAAYryB,IAAZ,CAAiBuyB,IAAjB;AACD;AACH;AACA;AACA;;AAGD,MA/BD,MA+BM;AACJ,YAAK,IAAI1yB,KAAI,CAAb,EAAiBA,KAAI,CAArB,EAAyBA,IAAzB,EAA8B;AAC5B,aAAIC,MAAMD,EAAV;AACA,aAAI0yB,QAAO,IAAIxwB,KAAKa,MAAL,CAAYyV,SAAhB,CAA0B,oBAAUzW,KAAKygB,KAAL,GAAa,GAAb,GAAmBviB,GAA7B,CAA1B,CAAX;AACAyB,cAAKygB,MAAL,CAAYlf,QAAZ,CAAqByvB,KAArB;AACAA,eAAKxvB,MAAL,CAAY+F,GAAZ,CAAgB,GAAhB;AACAypB,eAAKxpB,QAAL,GAAgBnH,KAAKmH,QAArB;AACAqpB,gBAAOpyB,IAAP,CAAYuyB,KAAZ;;AAEA,aAAI3wB,KAAK6E,KAAL,KAAe,CAAnB,EAAqB,CAEpB,CAFD,MAEM;AACJ,eAAI5G,KAAI,CAAR,EAAU,CACT,CADD,MACM;AACJ0yB,mBAAK5tB,OAAL,GAAe,KAAf;AACD;AAEF;AACJ;AAKA;AACF,IA1DD;AA2DA,wBAAOyjB,MAAP,CAAcxL,EAAd,CAAiB,UAAjB,EAA4B,UAAC3V,IAAD,EAAS;AACnC,SAAIrF,KAAKygB,KAAL,KAAe,aAAnB,EAAiC,CAEhC,CAFD,MAEM;AACJ;AACD;AACDtY;AACA,SAAIA,MAAM,CAAV,EAAa;AACXsoB,mBAAY,CAAZ,EAAetpB,QAAf,GAA0B,EAAC/F,GAAG+G,IAAE,GAAN,EAAW9G,GAAG8G,IAAE,GAAhB,EAA1B;AACAsoB,mBAAY,CAAZ,EAAetpB,QAAf,GAA0B,EAAC/F,GAAG,CAAC+G,CAAD,GAAG,GAAP,EAAY9G,GAAG,CAAf,EAA1B;AACAovB,mBAAY,CAAZ,EAAetpB,QAAf,GAA0B,EAAC/F,GAAG,CAAC+G,CAAD,GAAG,GAAP,EAAY9G,GAAG8G,IAAE,GAAjB,EAA1B;AACAsoB,mBAAY,CAAZ,EAAetpB,QAAf,GAA0B,EAAC/F,GAAG+G,IAAE,GAAN,EAAW9G,GAAG,CAAd,EAA1B;AACD,MALD,MAMK,IAAG8G,MAAM,EAAT,EAAY;AACfsoB,mBAAY,CAAZ,EAAetpB,QAAf,GAA0B,EAAC/F,GAAG+G,IAAE,GAAN,EAAW9G,GAAG8G,IAAE,GAAhB,EAA1B;AACAsoB,mBAAY,CAAZ,EAAetpB,QAAf,GAA0B,EAAC/F,GAAG,CAAC+G,CAAD,GAAG,GAAP,EAAY9G,GAAG,CAAf,EAA1B;AACAovB,mBAAY,CAAZ,EAAetpB,QAAf,GAA0B,EAAC/F,GAAG,CAAC+G,CAAD,GAAG,GAAP,EAAY9G,GAAG8G,IAAE,GAAjB,EAA1B;AACAsoB,mBAAY,CAAZ,EAAetpB,QAAf,GAA0B,EAAC/F,GAAG+G,IAAE,GAAN,EAAW9G,GAAG,CAAd,EAA1B;AACD,MALI,MAMA,IAAG8G,MAAM,EAAT,EAAY;AACfsoB,mBAAY,CAAZ,EAAetpB,QAAf,GAA0B,EAAC/F,GAAG+G,IAAE,IAAN,EAAY9G,GAAG8G,IAAE,IAAjB,EAA1B;AACAsoB,mBAAY,CAAZ,EAAetpB,QAAf,GAA0B,EAAC/F,GAAG,CAAC+G,CAAD,GAAG,IAAP,EAAa9G,GAAG,CAAhB,EAA1B;AACAovB,mBAAY,CAAZ,EAAetpB,QAAf,GAA0B,EAAC/F,GAAG,CAAC+G,CAAD,GAAG,IAAP,EAAa9G,GAAG8G,IAAE,IAAlB,EAA1B;AACAsoB,mBAAY,CAAZ,EAAetpB,QAAf,GAA0B,EAAC/F,GAAG+G,IAAE,IAAN,EAAY9G,GAAG,CAAf,EAA1B;AACD,MALI,MAKC;AACJ;AACD;AACF,IA3BD;;AA+BA,OAAMuvB,WAAW,SAAXA,QAAW,CAAC1wB,IAAD,EAAM4a,GAAN,EAAY;AAC3B,SAAIwV,UAAU,IAAI9H,MAAMiF,KAAV,CAAgB,EAACrsB,GAAE,CAAH,EAAKC,GAAE,CAAP,EAAhB,EACXqsB,EADW,CACR,EAACtsB,GAAG0Z,IAAI1Z,CAAR,EAAUC,GAAGyZ,IAAIzZ,CAAjB,EADQ,EACY,IADZ,EAEXssB,QAFW,CAEF,YAAU;AAClB;AACA;AACA;AACA;AACAztB,YAAKiH,QAAL,GAAgB;AACd/F,YAAG,KAAKA,CADM;AAEdC,YAAG,KAAKA;AAFM,QAAhB;AAID,MAXW,EAWTU,UAXS,CAWE,YAAI;AAChBpC,YAAKygB,MAAL,CAAY3e,WAAZ,CAAwBvB,IAAxB;AACD,MAbW,CAAd;AAcAowB,aAAQ7vB,KAAR;;AAEA,SAAIskB,QAAQze,KAAK2E,MAAL,KAAgB,IAAhB,GAAuB,IAAnC,CAAwC;AACxC,SAAI4lB,UAAU,IAAIrI,MAAMiF,KAAV,CAAgB,EAAC1I,OAAO,CAAR,EAAhB,EACX2I,EADW,CACR,EAAC3I,OAAMA,KAAP,EADQ,EACM,IADN,EAEX4I,QAFW,CAEF,YAAU;AAClB;AACA,WAAI3tB,KAAKygB,KAAL,KAAe,sBAAnB,EAA0C,CAEzC,CAFD,MAEM;AACJvgB,cAAK6H,QAAL,GAAgB,KAAKgd,KAAL,GAAaze,KAAK0B,EAAlB,GAAqB,GAArC;AAED;AACF,MAVW,CAAd;AAWA6oB,aAAQpwB,KAAR;AACD,IA9BD;AA+BAd,QAAK6uB,GAAL,GAAW,YAAI;;AAEb,SAAIsC,kBAAkB,mBAAKxqB,KAAK2E,MAAL,EAAL,EAAmB3E,KAAK2E,MAAL,EAAnB,CAAtB;AACA,SAAI8lB,QAAQ,EAAZ;AACA,SAAG/wB,KAAKygB,KAAL,KAAe,aAAlB,EAAgC;AAC9BtjB,eAAQC,GAAR,CAAY,WAAWqzB,YAAYzrB,MAAnC;AACA+rB,eAAQN,WAAR;AACD,MAHD,MAGM;AACJM,eAAQP,MAAR;AACA,YAAK,IAAIvyB,IAAI,CAAb,EAAiBA,IAAI,CAArB,EAAyBA,GAAzB,EAA8B;AAC5BuyB,gBAAOvyB,IAAI,CAAX,EAAc8E,OAAd,GAAwB,KAAxB;AACD;AACF;AACD5F,aAAQC,GAAR,CAAY,cAAc2zB,MAAM/rB,MAAhC;AACA,UAAK,IAAI/G,MAAI,CAAb,EAAiBA,MAAI8yB,MAAM/rB,MAA3B,EAAoC/G,KAApC,EAAyC;AACvC,WAAIyF,YAAYotB,gBAAgB1L,aAAhB,CAA8B,mBAAK,CAAL,EAAO,CAAP,CAA9B,EAAwC,MAAM2L,MAAM/rB,MAAZ,GAAqB/G,GAA7D,CAAhB;AACAd,eAAQC,GAAR,CAAY,eAAegX,KAAKS,SAAL,CAAenR,SAAf,CAA3B;AACA,WAAIoX,MAAMpX,UAAU0gB,SAAV,GAAsBK,SAAtB,CAAgCne,KAAK2E,MAAL,KAAgB,GAAhB,GAAsB,GAAtD,CAAV;AACA9N,eAAQC,GAAR,CAAY,UAAUgX,KAAKS,SAAL,CAAeiG,GAAf,CAAtB;AACA;AACA,WAAI9a,KAAKygB,KAAL,KAAe,aAAnB,EAAiC;AAC/BuQ,wBAAeD,MAAM9yB,GAAN,CAAf,EAAwB6c,GAAxB;AACD,QAFD,MAEM;AACJ8V,kBAASG,MAAM9yB,GAAN,CAAT,EAAkB6c,GAAlB;AACD;AACF;AACF,IA1BD;AA2BA,OAAMkW,iBAAiB,SAAjBA,cAAiB,CAAC9wB,IAAD,EAAO4a,GAAP,EAAa;AAClC;AACA;AACA,SAAIwV,UAAU,IAAI9H,MAAMiF,KAAV,CAAgB,EAACrsB,GAAG,CAAJ,EAAMC,GAAG,CAAT,EAAhB,EACXqsB,EADW,CACR,EAACtsB,GAAG0Z,IAAI1Z,CAAR,EAAUC,GAAGyZ,IAAIzZ,CAAjB,EADQ,EACY,GADZ,EAEXssB,QAFW,CAEF,YAAY;AACpBztB,YAAKiH,QAAL,GAAgB;AACd/F,YAAG,KAAKA,CADM;AAEdC,YAAG,KAAKA;AAFM,QAAhB;AAID,MAPW,EAQXU,UARW,CAQA,YAAY;AACtBpC,YAAKygB,MAAL,CAAY3e,WAAZ,CAAwBvB,IAAxB;AACD,MAVW,EAUT+wB,MAVS,CAUFzI,MAAM0I,MAAN,CAAaC,SAAb,CAAuBC,KAVrB,CAAd;;AAaAd,aAAQ7vB,KAAR;AAED,IAlBD;AAmBAd,QAAKusB,UAAL,GAAkB,YAAI;AACpB,UAAK,IAAIjuB,IAAI,CAAb,EAAiBA,IAAIuyB,OAAOxrB,MAA5B,EAAoC/G,GAApC,EAAyC;AACvC0B,YAAKygB,MAAL,CAAY3e,WAAZ,CAAwB+uB,OAAOvyB,CAAP,CAAxB;AACD;AACDkK,SAAI,CAAJ;AACD,IALD;AAMA,UAAOxI,IAAP;AACD,EAnLD,C,CANA;;;mBA0Le4wB,S;;;;;;;;;;;;ACvLf;;AACA;;;;AACA;;;;;;AACA;AACA;AACA;AACA;AACA,KAAMc,aAAa;AACjB7K,WAAQ,0BAAY,EAAZ,CADS;AAEjBjoB,eAAY,2BAFK;AAGjBqoB,iBAAc;AACd;AACA;AACA;AACA;AACA;AARiB,EAAnB,C,CAVA;;;mBAqBeyK,U;;;;;;;;;;;;AClBf;;AACA;;;;AACA;;;;;;AACA,KAAMC,aAAa,SAAbA,UAAa,GAAI;AACrB,OAAI3xB,OAAO,EAAX;AACAA,QAAKyX,GAAL,GAAW,CAAX;;AAEAzX,QAAK6sB,aAAL,GAAqB,CAArB,CAJqB,CAIG;AACxB7sB,QAAKwmB,UAAL,GAAkB,EAAlB,CALqB,CAKE;AACvBxmB,QAAKmrB,QAAL,GAAgB,CAAhB,CANqB,CAMD;AACpBnrB,QAAKqrB,SAAL,GAAiB,CAAjB,CAPqB,CAOD;AACpBrrB,QAAK4xB,IAAL,GAAY,MAAZ;AACA5xB,QAAKywB,WAAL,GAAmB,CAAnB;AACAzwB,QAAKowB,eAAL,GAAuB,CAAvB,CAVqB,CAUI;;;AAGzBpwB,QAAK6rB,YAAL,GAAoB,CAApB,CAbqB,CAaE;AACvB7rB,QAAK4rB,cAAL,GAAsB,CAAtB,CAdqB,CAcG;AACxB5rB,QAAKiwB,kBAAL,GAA0B,CAA1B,CAfqB,CAeO;AAC5BjwB,QAAK+rB,aAAL,GAAqB,CAArB,CAhBqB,CAgBE;AACvB/rB,QAAK8rB,YAAL,GAAoB,CAApB,CAjBqB,CAiBG;AACxB9rB,QAAKuwB,aAAL,GAAqB,CAArB,CAlBqB,CAkBE;AACvBvwB,QAAKotB,UAAL,GAAkB,CAAlB,CAnBqB,CAmBD;AACpBptB,QAAKgwB,eAAL,GAAuB,CAAvB,CApBqB,CAoBI;AACzBhwB,QAAKqwB,mBAAL,GAA2B,EAA3B,CArBqB,CAqBS;AAC9BrwB,QAAKkwB,gBAAL,GAAwB,CAAxB,CAtBqB,CAsBM;AAC3BlwB,QAAK6xB,WAAL,GAAmB,MAAnB,CAvBqB,CAuBM;;;AAI3B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA7xB,QAAK2mB,SAAL,GAAiB,EAAjB,CAxCqB,CAwCA;AACrB3mB,QAAKnB,QAAL,GAAgB,YAAI;AAChBmB,UAAKwmB,UAAL,GAAkB,EAAlB,CADgB,CACO;AACvBxmB,UAAKuwB,aAAL,GAAqB,CAArB;AACFvwB,UAAK6rB,YAAL,GAAoB,CAApB,CAHkB,CAGK;AACvB7rB,UAAK4rB,cAAL,GAAsB,CAAtB,CAJkB,CAIM;AACxB5rB,UAAKiwB,kBAAL,GAA0B,CAA1B,CALkB,CAKU;AAC5BjwB,UAAK+rB,aAAL,GAAqB,CAArB,CANkB,CAMK;AACvB/rB,UAAK8rB,YAAL,GAAoB,CAApB,CAPkB,CAOM;AACxB9rB,UAAKuwB,aAAL,GAAqB,CAArB,CARkB,CAQK;AACvBvwB,UAAKotB,UAAL,GAAkB,CAAlB,CATkB,CASE;AACpBptB,UAAKgwB,eAAL,GAAuB,CAAvB,CAVkB,CAUO;AACzBhwB,UAAKqwB,mBAAL,GAA2B,EAA3B,CAXkB,CAWY;AAC9BrwB,UAAKkwB,gBAAL,GAAwB,CAAxB,CAZkB,CAYQ;AAC3B,IAbD;;AAgBAlwB,QAAK8xB,WAAL,GAAmB,UAAC9R,MAAD,EAAQ9L,MAAR,EAAerS,EAAf,EAAoB;AACrC,uBAASiT,IAAT,CAAc,sBAAQjG,WAAtB,EAAkCmR,SAAS,OAAT,GAAmBhgB,KAAKyX,GAA1D,EAA8D,EAA9D,EAAiEvD,MAAjE,EAAwE,gBAAM;AAC5E1W,eAAQC,GAAR,CAAY,aAAZ,EAA0BuiB,MAA1B;AACA,WAAIta,KAAKqsB,MAAL,KAAgB,IAApB,EAAyB;AACvBv0B,iBAAQw0B,KAAR,CAAc,qBAAd,EAAoCvd,KAAKS,SAAL,CAAexP,IAAf,CAApC;AACD,QAFD,MAEM,CAEL;;AAED,WAAI7D,EAAJ,EAAO;AACLA,YAAG6D,IAAH;AACD;AAEF,MAZD;AAaD,IAdD;AAeA1F,QAAKiyB,WAAL,GAAmB,UAACpwB,EAAD,EAAM;;AAIvB,8BAASqwB,WAAT,CAAqB,sBAAQrjB,WAAR,GAAsB,sBAAQC,UAAR,CAAmBG,SAA9D,EAAwE;AACtEwI,YAAKzX,KAAKyX,GAD4D;AAEtE0a,aAAMnyB,KAAKmyB,IAF2D;AAGtEC,gBAAW,YAAI;AACb,aAAI,yBAASC,KAAT,KAAmB,CAAvB,EAAyB;AACvB,kBAAO,KAAP;AACD,UAFD,MAEM,IAAI,yBAASA,KAAT,KAAmB,CAAvB,EAAyB;AAC7B,kBAAO,SAAP;AACD,UAFK,MAEA;AACJ,kBAAO,MAAP;AACD;AACF,QARS,EAH4D;AAYtEC,mBAAYtyB,KAAK6xB;AAZqD,MAAxE,EAaE,UAACnsB,IAAD,EAAQ;AACR,WAAIA,KAAKqsB,MAAL,KAAgB,IAApB,EAAyB;;AAEvBlwB,YAAGQ,IAAH,CAAQ,IAAR,EAAc,KAAd,EAAqBqD,IAArB;AACD,QAHD,MAGM;;AAEJlI,iBAAQC,GAAR,CAAY,oBAAoBgX,KAAKS,SAAL,CAAexP,IAAf,CAAhC;;AAEA1F,cAAKwmB,UAAL,GAAkB9gB,KAAKkI,GAAL,CAAS2kB,SAA3B;AACAvyB,cAAKmrB,QAAL,GAAgBzlB,KAAKkI,GAAL,CAASud,QAAzB;AACAnrB,cAAKqrB,SAAL,GAAgB3lB,KAAKkI,GAAL,CAAS4kB,OAAzB;AACAxyB,cAAK4xB,IAAL,GAAYlsB,KAAKkI,GAAL,CAAS6kB,UAArB;AACAzyB,cAAK6sB,aAAL,GAAqBnnB,KAAKkI,GAAL,CAAS2kB,SAA9B;AACAvyB,cAAKywB,WAAL,GAAmB/qB,KAAKkI,GAAL,CAAS6iB,WAA5B;AACAzwB,cAAKowB,eAAL,GAAuB1qB,KAAKkI,GAAL,CAAS8kB,QAAhC,CAVI,CAUqC;;AAEzC;AACA;AACA;;AAEA,aAAI7wB,EAAJ,EAAO;AACLrE,mBAAQC,GAAR,CAAY,aAAauC,KAAKowB,eAA9B;AACAvuB,cAAGQ,IAAH,CAAQ,IAAR,EAAc,IAAd;AACD;AACF;AACF,MAtCD;;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,IAnFD;AAoFArC,QAAKgP,QAAL,GAAgB,UAACnN,EAAD,EAAM;AACpBrE,aAAQC,GAAR,CAAY,WAAWuC,KAAK+rB,aAA5B;AACAvuB,aAAQC,GAAR,CAAY,WAAWuC,KAAK8rB,YAA5B;AACAtuB,aAAQC,GAAR,CAAY,YAAYuC,KAAK4rB,cAA7B;AACApuB,aAAQC,GAAR,CAAY,aAAauC,KAAK6rB,YAAL,GAAoB7rB,KAAK4rB,cAAtC,CAAZ;AACApuB,aAAQC,GAAR,CAAY,SAASgX,KAAKS,SAAL,CAAelV,KAAK2mB,SAApB,CAArB;AACAnpB,aAAQC,GAAR,CAAY,cAAcuC,KAAKuwB,aAA/B;AACA/yB,aAAQC,GAAR,CAAY,YAAYuC,KAAKmrB,QAAjB,GAA4BnrB,KAAKiwB,kBAA7C;AACAzyB,aAAQC,GAAR,CAAY,cAAcgX,KAAKS,SAAL,CAAelV,KAAKqwB,mBAApB,CAA1B;AACA7yB,aAAQC,GAAR,CAAY,gBAAgBuC,KAAKkwB,gBAAjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8BAASgC,WAAT,CAAqB,sBAAQrjB,WAAR,GAAsB,sBAAQC,UAAR,CAAmBE,QAA9D,EAAwE;AACtEyI,YAAKzX,KAAKyX,GAD4D;AAEtE+a,gBAASxyB,KAAK8rB,YAFwD;AAGtEX,iBAAUnrB,KAAK4rB,cAHuD;AAItE2G,kBAAWvyB,KAAK+rB,aAJsD;AAKtE4G,qBAAe3yB,KAAK6rB,YAAL,GAAoB7rB,KAAK4rB,cAL8B;AAMtEgH,mBAAY5yB,KAAKuwB,aANqD;AAOtEsC,kBAAW7yB,KAAK2mB,SAPsD;AAQtEmM,qBAAc9yB,KAAKqwB,mBARmD;AAStEI,oBAAazwB,KAAKkwB,gBAToD;AAUtEoC,mBAAYtyB,KAAK6xB;AAVqD,MAAxE,EAWEhwB,EAXF;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAED,IA/CD;;AAkDA7B,QAAK+yB,eAAL,GAAuB,UAAClxB,EAAD,EAAImxB,IAAJ,EAASC,KAAT,EAAiB;AACtCjzB,UAAK8xB,WAAL,CAAiB,sBAAQhjB,UAAR,CAAmBI,YAApC,EAAiD;AAC/CuI,YAAKzX,KAAKyX,GADqC;AAE/Cub,aAAMA,IAFyC;AAG/CC,cAAOA;AAHwC,MAAjD,EAIE,UAACvtB,IAAD,EAAQ;AACR,WAAIA,KAAKqsB,MAAL,KAAgB,IAApB,EAAyB;AACvB,aAAIlwB,EAAJ,EAAO;AACL;AACAA,cAAG6D,KAAKkI,GAAR;AACD;AACF;AAEF,MAZD;AAaD,IAdD;;AAgBA,UAAO5N,IAAP;AACD,EA/ND,C,CANA;;;mBAsOe2xB,U;;;;;;;;;;;ACtOf;;;AAGA,KAAMuB,MAAM;AACVC,YAAS,cADC;AAEVC,cAAW,YAFD;AAGVC,WAAQ,WAHE;AAIVC,cAAW,gBAJD;AAKVC,gBAAa,cALH;AAMVC,mBAAgB,eANN;AAOVC,oBAAiB,mBAPP;AAQVC,kBAAe,gBARL;AASVC,mBAAgB,gBATN;AAUVzB,gBAAa;;AAVH,EAAZ;AAaA,KAAM0B,SAAS;AACbC,QAAK,CADQ;AAEbC,YAAS,CAFI;AAGbC,QAAK,CAHQ;AAIbC,YAAS;AAJI,EAAf;AAMA,KAAMC,sBAAsB,SAAtBA,mBAAsB,GAAI;AAC9B,OAAIC,YAAYC,UAAUD,SAAV,IAAuBC,UAAUC,MAAjC,IAA2C92B,OAAO+2B,KAAlE;AACA,OAAIH,UAAU/nB,KAAV,CAAgB,OAAhB,KAA4B+nB,UAAU/nB,KAAV,CAAgB,SAAhB,CAA5B,IAA0D+nB,UAAU/nB,KAAV,CAAgB,OAAhB,CAA9D,EAAuF;AACrF,YAAOynB,OAAOC,GAAd;AACD,IAFD,MAGK,IAAGK,UAAU/nB,KAAV,CAAgB,UAAhB,CAAH,EAA+B;AAClC,YAAOynB,OAAOE,OAAd;AACD,IAFI,MAGA;AACH,YAAOF,OAAOI,OAAd;AACD;AACF,EAXD;AAYA,KAAMM,iBAAiB,SAAjBA,cAAiB,GAAI;AACzB,OAAIt0B,OAAO;AACTu0B,gBAAW;AADF,IAAX;;AAKA,OAAMC,SAASP,qBAAf;AACAj0B,QAAKqyB,KAAL,GAAamC,MAAb;AACAh3B,WAAQC,GAAR,CAAY,YAAY+2B,MAAxB;AACA,OAAMC,WAAW,SAAXA,QAAW,CAACpjB,IAAD,EAAQ;AACvB,SAAM8L,UAAU1I,KAAKS,SAAL,CAAe7D,IAAf,CAAhB;AACA7T,aAAQC,GAAR,CAAY,aAAa0f,OAAzB;AACA,aAAQqX,MAAR;AACE,YAAKZ,OAAOC,GAAZ;AACEr2B,iBAAQC,GAAR,CAAY,yDAAyD0f,OAArE;AACA7f,gBAAOo3B,MAAP,CAAcC,eAAd,CAA8BC,UAA9B,CAAyCC,WAAzC,CAAqD1X,OAArD;AACA;AACF,YAAKyW,OAAOE,OAAZ;;AAEE;AACF;AACEx2B,gBAAOw3B,KAAP,CAAa,mBAAmB3X,OAAhC;AACA;AAVJ;AAYD,IAfD;;AAoBA;AACAnd,QAAKmzB,OAAL,GAAe,YAAM;AACnB,SAAG71B,OAAOw2B,OAAP,IAAkBx2B,OAAOw2B,OAAP,CAAexpB,cAAf,CAA8B,aAA9B,CAArB,EAAmE;AAChEhN,cAAOw2B,OAAP,CAAeiB,WAAf;AACF,MAFD,MAGK;AACHN,gBAAS;AACPO,cAAK9B,IAAIC;AADF,QAAT;AAGD;AAEF,IAVD;;AAYAnzB,QAAKi1B,SAAL,GAAiB,UAAC3oB,GAAD,EAAO,CAEvB,CAFD;AAGAtM,QAAKozB,SAAL,GAAiB,UAAC9mB,GAAD,EAAO;AACtB,SAAGhP,OAAOw2B,OAAP,IAAkBx2B,OAAOw2B,OAAP,CAAexpB,cAAf,CAA8B,WAA9B,CAArB,EAAiE;AAC/D,cAAOhN,OAAOw2B,OAAP,CAAeV,SAAf,CAAyB9mB,GAAzB,CAAP;AACD;AACDmoB,cAAS;AACPO,YAAK9B,IAAIE,SADF;AAEP1tB,aAAM;AACJ4G,cAAKA;AADD;AAFC,MAAT;AAMD,IAVD;;AAYAtM,QAAKk1B,SAAL,GAAiB,YAAI;AACnB,SAAIV,WAAWZ,OAAOC,GAAtB,EAA0B;AACxB,cAAO,KAAP;AACD,MAFD,MAEM,IAAIW,WAAWZ,OAAOE,OAAtB,EAA8B;AAClC,cAAO,SAAP;AACD;AACF,IAND;AAOA9zB,QAAKknB,MAAL,GAAc,UAAC5a,GAAD,EAAO;AACnB,SAAGhP,OAAOw2B,OAAP,IAAkBx2B,OAAOw2B,OAAP,CAAexpB,cAAf,CAA8B,QAA9B,CAArB,EAA8D;AAC5D,cAAOhN,OAAOw2B,OAAP,CAAe5M,MAAf,CAAsB5a,GAAtB,CAAP;AACD;AACDmoB,cACE;AACEO,YAAK9B,IAAIE,SADX;AAEE1tB,aAAM;AACJ4G,cAAKA;AADD;AAFR,MADF;AAQD,IAZD;;AAcAtM,QAAKqzB,MAAL,GAAc,YAAK;AACjB,SAAG/1B,OAAOw2B,OAAP,IAAkBx2B,OAAOw2B,OAAP,CAAexpB,cAAf,CAA8B,UAA9B,CAArB,EAAgE;AAC9D,cAAOhN,OAAOw2B,OAAP,CAAeqB,QAAf,EAAP;AACD;AACDV,cACE;AACEO,YAAK9B,IAAIG;AADX,MADF;AAKD,IATD;;AAWArzB,QAAKszB,SAAL,GAAiB,YAAK;AACpB,SAAGh2B,OAAOw2B,OAAP,IAAkBx2B,OAAOw2B,OAAP,CAAexpB,cAAf,CAA8B,cAA9B,CAArB,EAAoE;AAClE,cAAOhN,OAAOw2B,OAAP,CAAesB,YAAf,EAAP;AACD;AACDX,cACE;AACEO,YAAK9B,IAAII;AADX,MADF;AAKD,IATD;;AAWAtzB,QAAKuzB,WAAL,GAAmB,UAAC1xB,EAAD,EAAM;AAAC;AACxB,SAAI6D,OAAO,IAAX;AACA,SAAGpI,OAAOw2B,OAAP,IAAkBx2B,OAAOw2B,OAAP,CAAexpB,cAAf,CAA8B,YAA9B,CAArB,EAAkE;AAChE,WAAI+qB,OAAO/3B,OAAOw2B,OAAP,CAAewB,UAAf,EAAX;AACA93B,eAAQC,GAAR,CAAY,8CAA8C43B,IAA1D;AACA,WAAIhkB,OAAOoD,KAAKC,KAAL,CAAW2gB,IAAX,CAAX;AACA3vB,cAAO;AACL+R,cAAK3K,SAASuE,KAAKoG,GAAd,CADA;AAEL0a,eAAM9gB,KAAK8gB;AAFN,QAAP;AAIA,WAAItwB,EAAJ,EAAO;AACLA,YAAG6D,IAAH;AACD;AACF,MAXD,MAWM,IAAI8uB,WAAWZ,OAAOC,GAAtB,EAA0B;AAC9B0B;AACA,WAAI1zB,EAAJ,EAAO;AACL7B,cAAKu0B,SAAL,CAAegB,cAAf,IAAiC,UAAU7vB,IAAV,EAAgB;AAC/C7D,cAAG;AACD4V,kBAAK3K,SAASpH,KAAK+R,GAAd,CADJ;AAED0a,mBAAMzsB,KAAKysB;AAFV,YAAH;AAID,UALD;AAMD;AACDsC,gBAAS;AACPO,cAAK9B,IAAIK,WADF;AAEP7tB,eAAM;AACJ8vB,yBAAc,6BADV;AAEJC,uBAAYF,eAAe/L,QAAf;AAFR;AAFC,QAAT;AAOD,MAjBK,MAiBD;AACH6C,kBAAW,YAAY;AACrB,aAAIxqB,EAAJ,EAAO;AACLA,cAAG;AACD4V,kBAAK,UADJ;AAED0a,mBAAM;AAFL,YAAH;AAID;AACF,QAPD;AAQD;AACD,YAAOzsB,IAAP;AACD,IAzCD;;AA2CA,OAAI6vB,iBAAiB,CAArB;AACA,OAAMG,cAAc,SAAdA,WAAc,CAACC,UAAD,EAAc;AAChC;AACA;AACA,YAAOlhB,KAAKC,KAAL,CAAWihB,UAAX,CAAP;AAED,IALD;;AAOA31B,QAAKwzB,cAAL,GAAsB,UAAC/b,GAAD,EAAK5V,EAAL,EAAU;AAC9BrE,aAAQC,GAAR,CAAY,qBAAqBga,GAAjC;AACA8d;AACA,SAAI1zB,EAAJ,EAAO;AACL7B,YAAKu0B,SAAL,CAAegB,cAAf,IAAiC1zB,EAAjC;AACD;;AAED,SAAGvE,OAAOw2B,OAAP,IAAkBx2B,OAAOw2B,OAAP,CAAexpB,cAAf,CAA8B,aAA9B,CAArB,EAAmE;AACjEhN,cAAOw2B,OAAP,CAAeP,WAAf,CAA2B9b,IAAI+R,QAAJ,EAA3B,EAA0C,6BAA1C,EAAwE+L,eAAe/L,QAAf,EAAxE;AACD;AACDiL,cAAS;AACPO,YAAK9B,IAAIM,cADF;AAEP9tB,aAAM;AACJ+R,cAAKA,IAAI+R,QAAJ,EADD;AAEJgM,uBAAc,6BAFV;AAGJC,qBAAYF,eAAe/L,QAAf;AAHR;AAFC,MAAT;AASD,IAnBD;;AAqBAxpB,QAAK41B,WAAL,GAAmB,UAAUC,OAAV,EAAkBC,SAAlB,EAA6B;AAC9Ct4B,aAAQC,GAAR,CAAY,iBAAiBo4B,OAAjB,GAAyB,cAAzB,GAA0CC,SAAtD;AACA,SAAIT,OAAOK,YAAYI,SAAZ,CAAX;AACA;AACA;AACA;AACA;AACA,SAAIn1B,QAAQmM,SAAS+oB,OAAT,CAAZ;AACA,SAAI71B,KAAKu0B,SAAL,CAAe5zB,KAAf,CAAJ,EAA0B;AACxBnD,eAAQC,GAAR,CAAY,cAAckD,KAA1B;AACAX,YAAKu0B,SAAL,CAAe5zB,KAAf,EAAsB0B,IAAtB,CAA2B,IAA3B,EAAgCgzB,IAAhC;AACA,cAAQr1B,KAAKu0B,SAAL,CAAesB,OAAf,CAAR;AACD;AACF,IAbD;;AAeA71B,QAAK+1B,YAAL,GAAoB,YAAI;AACtB,SAAGz4B,OAAOw2B,OAAP,IAAkBx2B,OAAOw2B,OAAP,CAAexpB,cAAf,CAA8B,eAA9B,CAArB,EAAqE;AACnE,cAAOhN,OAAOw2B,OAAP,CAAekC,aAAf,EAAP;AACD;AACDvB,cAAS;AACPO,YAAK9B,IAAIQ;AADF,MAAT;AAID,IARD;;AAUA1zB,QAAKi2B,eAAL,GAAuB,UAAU3pB,GAAV,EAAe;AACpC,SAAIhP,OAAOw2B,OAAP,IAAkBx2B,OAAOw2B,OAAP,CAAexpB,cAAf,CAA8B,iBAA9B,CAAtB,EAAuE;AACrEhN,cAAOw2B,OAAP,CAAemC,eAAf,CAA+B3pB,GAA/B;AACD;AACDmoB,cAAS;AACPO,YAAK9B,IAAIO,eADF;AAEP/tB,aAAM;AACJ4G,cAAKA;AADD;AAFC,MAAT;AAMD,IAVD;AAWAtM,QAAK2zB,cAAL,GAAsB,UAAU9xB,EAAV,EAAc;AAClC,SAAIvE,OAAOw2B,OAAP,IAAkBx2B,OAAOw2B,OAAP,CAAexpB,cAAf,CAA8B,gBAA9B,CAAtB,EAAsE;AACpE,WAAI4rB,eAAe54B,OAAOw2B,OAAP,CAAeH,cAAf,EAAnB;AACA,WAAItiB,OAAOoD,KAAKC,KAAL,CAAWwhB,YAAX,CAAX;AACA,WAAIr0B,EAAJ,EAAO;AACLA,YAAGwP,IAAH;AACD;AACF,MAND,MAMM,IAAImjB,WAAWZ,OAAOC,GAAtB,EAA0B;AAC9B,WAAIhyB,EAAJ,EAAO;AACL0zB;AACAv1B,cAAKu0B,SAAL,CAAegB,cAAf,IAAiC1zB,EAAjC;AACD;AACD4yB,gBAAS;AACPO,cAAK9B,IAAIS,cADF;AAEPjuB,eAAM;AACJ8vB,yBAAc,6BADV;AAEJC,uBAAYF,eAAe/L,QAAf;AAFR;AAFC,QAAT;AAQD,MAbK,MAaA;AACJ,WAAI3nB,EAAJ,EAAO;AACLA,YAAG,MAAH;AACD;AACF;AACF,IAzBD;;AA4BA7B,QAAKkyB,WAAL,GAAmB,UAAU5lB,GAAV,EAAc+E,IAAd,EAAmBxP,EAAnB,EAAuB;AACxC,SAAIs0B,aAAa1hB,KAAKS,SAAL,CAAe7D,IAAf,CAAjB;AACAkkB;AACA,SAAI1zB,EAAJ,EAAO;AACL0zB;AACAv1B,YAAKu0B,SAAL,CAAegB,cAAf,IAAiC1zB,EAAjC;AACD;AACD,SAAI2yB,WAAWZ,OAAOE,OAAtB,EAA8B;AAC5B,WAAIx2B,OAAOw2B,OAAP,IAAkBx2B,OAAOw2B,OAAP,CAAexpB,cAAf,CAA8B,aAA9B,CAAtB,EAAmE;AAC/DhN,gBAAOw2B,OAAP,CAAe5B,WAAf,CAA2B5lB,GAA3B,EAA+B6pB,UAA/B,EAA0C,8BAA1C,EAAyEZ,eAAe/L,QAAf,EAAzE;AACH;AACF,MAJD,MAIM,IAAIgL,WAAWZ,OAAOC,GAAtB,EAA0B;AAC9BY,gBAAS;AACPO,cAAK9B,IAAIhB,WADF;AAEPxsB,eAAM;AACJ4G,gBAAKA,GADD;AAEJ+E,iBAAM8kB,UAFF;AAGJX,yBAAc,8BAHV;AAIJC,uBAAYF;AAJR;AAFC,QAAT;AASD;AACF,IAtBD;AAuBAv1B,QAAKo2B,YAAL,GAAoB,UAAUX,UAAV,EAAqBK,SAArB,EAAgC;AAClDt4B,aAAQC,GAAR,CAAY,eAAeg4B,UAA3B,EAAsC,eAAeK,SAArD;AACA,SAAIzkB,OAAOoD,KAAKC,KAAL,CAAWohB,SAAX,CAAX;AACA,SAAI91B,KAAKu0B,SAAL,CAAegB,cAAf,CAAJ,EAAmC;AACjCv1B,YAAKu0B,SAAL,CAAegB,cAAf,EAA+BlzB,IAA/B,CAAoC,IAApC,EAAyCgP,IAAzC;AACA,cAAOrR,KAAKu0B,SAAL,CAAegB,cAAf,CAAP;AACD;AACF,IAPD;;AASA,UAAOv1B,IAAP;AACD,EA7QD;;AA+QA,KAAMq2B,WAAW/B,gBAAjB;;AAEAh3B,QAAO+4B,QAAP,GAAkBA,QAAlB;;mBAEeA,Q;;;;;;;;;;;;AClTf;;;;AACA;;;;;;AAJA;;;AAKA,KAAMC,eAAe,SAAfA,YAAe,GAAI;AACvB,OAAIt2B,OAAO,EAAX;;AAEA,OAAIu2B,aAAa,EAAjB;AACA,OAAIC,YAAY,SAAZA,SAAY,CAAC5f,EAAD,EAAI/U,EAAJ,EAAS;AACvB,SAAI7B,KAAKsK,cAAL,CAAoBsM,EAApB,CAAJ,EAA4B;AAC1B5W,YAAK4W,EAAL,EAAS4V,IAAT;AACAxsB,YAAK4W,EAAL,EAASzY,gBAAT,CAA0B,OAA1B,EAAkC,YAAI;AACpC,aAAG0D,EAAH,EAAM;AACJA;AACD;AACF,QAJD;AAKD,MAPD,MAOM;AACJ,WAAI40B,QAAQrlB,SAASuR,cAAT,CAAwB/L,EAAxB,CAAZ;AACA5W,YAAK4W,EAAL,IAAW6f,KAAX;AACAA,aAAMjK,IAAN;AACAiK,aAAMt4B,gBAAN,CAAuB,OAAvB,EAA+B,YAAI;AACjC,aAAG0D,EAAH,EAAM;AACJA;AACD;AACF,QAJD;AAKD;AAEF,IAnBD;;AAuBA7B,QAAKwsB,IAAL,GAAY,UAACkK,GAAD,EAAK70B,EAAL,EAAU;AACpB,SAAI,yBAAawwB,KAAb,KAAuB,CAA3B,EAA6B;AAC3B,gCAAae,SAAb,CAAuB,sBAAQviB,cAAR,CAAuB6lB,GAAvB,CAAvB;AACD;AACD,SAAI,yBAAarE,KAAb,KAAuB,CAA3B,EAA6B;AAC3B,gCAAae,SAAb,CAAuB,sBAAQhkB,WAAR,CAAoBsnB,GAApB,CAAvB;AACD;AACF,IAPD;;AASA12B,QAAKknB,MAAL,GAAc,UAACwP,GAAD,EAAK70B,EAAL,EAAU;AACtB,SAAI,yBAAawwB,KAAb,KAAuB,CAA3B,EAA6B;AAC3B,gCAAanL,MAAb,CAAoB,sBAAQrW,cAAR,CAAuB6lB,GAAvB,CAApB;AACD;AACD,SAAI,yBAAarE,KAAb,KAAuB,CAA3B,EAA6B;AAC3B,gCAAanL,MAAb,CAAoB,sBAAQ9X,WAAR,CAAoBsnB,GAApB,CAApB;AACD;AAEF,IARD;AASA12B,QAAKgD,QAAL,GAAgB,UAAC4T,EAAD,EAAM;AACpB,SAAI+f,MAAM,SAANA,GAAM,GAAI;AACZH,iBAAU5f,EAAV,EAAa,YAAI;AACf,aAAI5W,KAAK4W,EAAL,EAAS1U,IAAT,KAAkB,KAAtB,EAA4B;AAC1B;AACD,UAFD,MAEM;AACJy0B;AACD;AACF,QAND;AAOD,MARD;AASAA;AACD,IAXD;AAYA32B,QAAKuC,IAAL,GAAY,UAACqU,EAAD,EAAM;AAChB5W,UAAK4W,EAAL,EAAS1U,IAAT,GAAgB,KAAhB;AACD,IAFD;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAOlC,IAAP;AACD,EAnGD;mBAoGes2B,Y;;;;;;;;;;;;ACtGf;;AACA;;;;;;AAJA;;;AAKA,KAAMM,WAAW,SAAXA,QAAW,CAACv2B,IAAD,EAAQ;AACvB,OAAIL,OAAO,IAAIQ,KAAKC,SAAT,EAAX;;AAEA;AACA;AACAT,QAAKwH,QAAL,GAAgB;AACd/F,QAAGpB,KAAKmH,QAAL,CAAc/F,CADH;AAEdC,QAAGrB,KAAKmH,QAAL,CAAc9F;AAFH,IAAhB;AAIA,4BAAgBhD,QAAhB,CAAyB,CAAC2B,KAAKsvB,OAAN,EAAc,oBAAUkH,SAAxB,CAAzB,EAA4D,YAAI;AAC9D,SAAIlH,UAAU,yBAAgB1vB,eAAhB,CAAgC;AAC5CE,aAAM,OADsC;AAE5CqB,eAAQ,EAACC,GAAE,GAAH,EAAOC,GAAE,GAAT,EAFoC;AAG5CpB,iBAAU;AACNw2B,eAAM;AACJ91B,gBAAK,MADD;AAEJF,kBAAO,CAFH;AAGJC,gBAAK,CAHD;AAIJE,kBAAO,KAAG,EAAH,GAAQ;AAJX;AADA;;AAHkC,MAAhC,CAAd;AAaAjB,UAAKuB,QAAL,CAAcouB,QAAQpvB,IAAtB;AACAovB,aAAQ3sB,QAAR,CAAiB,MAAjB;;AAEAhD,UAAK+2B,YAAL,GAAoB,yBAAgB92B,eAAhB,CAAgC;AAClDE,aAAK,OAD6C;AAElDqB,eAAQ,EAACC,GAAG,GAAJ,EAAQC,GAAG,GAAX,EAF0C;AAGlDpB,iBAAU;AACRw2B,eAAM;AACJ91B,gBAAK,OADD;AAEJF,kBAAO,CAFH;AAGJC,gBAAK,EAHD;AAIJE,kBAAO,KAAG,EAAH,GAAQ;AAJX;AADE;AAHwC,MAAhC,CAApB;AAYAjB,UAAKuB,QAAL,CAAcvB,KAAK+2B,YAAL,CAAkBx2B,IAAhC;AACAP,UAAK+2B,YAAL,CAAkB/zB,QAAlB,CAA2B,MAA3B;;AAKA;AACA;AACA;AACA;AACA;AACA;AACD,IAzCD;;AA+CAhD,QAAK8jB,SAAL,GAAiB,UAACrD,MAAD,EAAU;AACzBzgB,UAAKygB,MAAL,GAAcA,MAAd;AACAzgB,UAAKygB,MAAL,CAAYlf,QAAZ,CAAqBvB,IAArB;AACD,IAHD;;AAOAA,QAAKusB,UAAL,GAAkB,YAAI;AACpB;AACAvsB,UAAKygB,MAAL,CAAY3e,WAAZ,CAAwB9B,IAAxB;AACD,IAHD;;AAKAA,QAAK6uB,GAAL,GAAW,YAAI,CAEd,CAFD;AAGA7uB,QAAKmS,MAAL,GAAc,UAACJ,EAAD,EAAM;AAClB,SAAI/R,KAAKygB,MAAT,EAAgB;AACd,WAAIzgB,KAAK+2B,YAAT,EAAsB;AACpB/2B,cAAK+2B,YAAL,CAAkBx2B,IAAlB,CAAuB6H,QAAvB,GAAkCpI,KAAKygB,MAAL,CAAYrY,QAAZ,GAAuB,CAAC,CAA1D;AACD;AACF;AACA;AACA;AACF,IARD;;AAaA,UAAOpI,IAAP;AACD,EArFD;mBAsFgB42B,Q;;;;;;;;;;;;ACxFhB;;;;AACA;;;;AACA;;;;AACA,KAAMI,YAAY,SAAZA,SAAY,CAAC32B,IAAD,EAAQ;AACxB,OAAIL,OAAO,IAAIQ,KAAKC,SAAT,EAAX;AACAT,QAAK8jB,SAAL,GAAiB,UAACrD,MAAD,EAAU;AACzBA,YAAOlf,QAAP,CAAgBvB,IAAhB;AACD,IAFD;;AAIA,OAAIi3B,YAAY,SAAZA,SAAY,CAACvxB,IAAD,EAAQ;AACtB,SAAIob,QAAQpb,KAAKob,KAAjB;AACA,SAAI3F,MAAMzV,KAAK8B,QAAf;AACA,SAAIzD,YAAY2B,KAAK3B,SAArB;AACA,SAAImzB,SAAS,IAAI12B,KAAKa,MAAL,CAAYyV,SAAhB,CAA0B,oBAAW,YAAI;AACpD,WAAIqgB,OAAOrW,QAAQ,IAAnB;AACA,WAAIxiB,IAAIqI,KAAKwlB,KAAL,CAAWxlB,KAAK2E,MAAL,KAAgB,CAA3B,CAAR;AACA,WAAIhN,MAAM,CAAV,EAAY,CAEX,CAFD,MAEM;AACJ64B,iBAAQ,MAAK74B,CAAb;AACD;AACDd,eAAQC,GAAR,CAAY,qBAAqB05B,IAAjC;AACA,cAAOA,IAAP;AAED,MAXgD,EAAV,CAA1B,CAAb;AAYAD,YAAO11B,MAAP,GAAgB,EAACC,GAAG,GAAJ,EAAQC,GAAG,GAAX,EAAhB;AACA1B,UAAKuB,QAAL,CAAc21B,MAAd;AACAA,YAAO1vB,QAAP,GAAkB;AAChB/F,UAAG0Z,IAAI1Z,CAAJ,GAAQkF,KAAK2E,MAAL,KAAgB,GAAxB,GAA8B,EADjB;AAEhB5J,UAAGyZ,IAAIzZ,CAAJ,GAAQiF,KAAK2E,MAAL,KAAgB,GAAxB,GAA8B;AAFjB,MAAlB;;AAKA4rB,YAAO9uB,QAAP,GAAmBzB,KAAK2E,MAAL,KAAgB,GAAjB,GAAwB3E,KAAK0B,EAA7B,GAAkC,GAApD;AACA;;AAEA,SAAI+uB,SAAS,IAAIvO,MAAMiF,KAAV,CAAgB,EAACxM,OAAO,CAAR,EAAhB,EACVyM,EADU,CACP,EAACzM,OAAO,CAAR,EADO,EACI,IADJ,EAEV0M,QAFU,CAED,YAAU;AAClBkJ,cAAO5V,KAAP,GAAe,KAAKA,KAApB;AACD,MAJU,EAKVlf,UALU,CAKC,YAAI;AACdpC,YAAK8B,WAAL,CAAiBo1B,MAAjB;AACD,MAPU,CAAb;;AAUA,SAAIG,QAAQ,IAAIxO,MAAMiF,KAAV,CAAgB,EAACjpB,OAAO,GAAR,EAAhB,EACTkpB,EADS,CACN,EAAClpB,OAAO8B,KAAK2E,MAAL,KAAgB,GAAhB,GAAsB,CAA9B,EADM,EAC2B,GAD3B,EAET0iB,QAFS,CAEA,YAAU;AACpBkJ,cAAOryB,KAAP,CAAa0C,GAAb,CAAiB,KAAK1C,KAAtB;AACD,MAJW,EAKTzC,UALS,CAKE,YAAI;AACdg1B,cAAOt2B,KAAP;AACD,MAPS,CAAZ;AAQAu2B,WAAMv2B,KAAN;AACD,IA7CD;;AAgDA,wBAAO+lB,MAAP,CAAcxL,EAAd,CAAiB,WAAjB,EAA6B,UAAC3V,IAAD,EAAQ;AACnC,SAAIA,KAAKob,KAAL,KAAe,MAAnB,EAA0B;AACxB;AACD;AACD;AACAmW,eAAUvxB,IAAV;AACA;AAED,IARD;;AAWA,UAAO1F,IAAP;AACD,EAlED,C,CANA;;;mBAyEeg3B,S;;;;;;;;;;;ACzEf;;;AAGA,KAAMM,YAAY,SAAZA,SAAY,GAAK;AACrB,OAAIt3B,OAAO,EAAX;AACA;;AAEA,OAAIu3B,YAAY,KAAhB;AACA,OAAIzyB,SAAS,SAATA,MAAS,CAACvE,IAAD,EAAMI,KAAN,EAAc;AACzB,SAAIA,SAAQ,CAAZ,EAAe;AACb42B,mBAAY,KAAZ;AACA;AACD,MAHD,MAGM;AACJ,WAAIF,QAAQ,IAAIxO,MAAMiF,KAAV,CAAgBvtB,KAAKiH,QAArB,EACTumB,EADS,CACN,EAACtsB,GAAGd,QAAQ,CAAR,GAAY,CAAC,CAAb,GAAiB,IAAI,EAAzB,EAA6Be,GAAI,CAAjC,EADM,EAC8B,EAD9B,EAETssB,QAFS,CAEA,YAAY;AACpBztB,cAAKiH,QAAL,CAAc/F,CAAd,GAAkB,KAAKA,CAAvB;AACAlB,cAAKiH,QAAL,CAAc9F,CAAd,GAAkB,KAAKA,CAAvB;AACD,QALS,EAMTU,UANS,CAME,YAAI;AACdzB;AACAmE,gBAAOvE,IAAP,EAAYI,KAAZ;AACD,QATS,EASP2wB,MATO,CASAzI,MAAM0I,MAAN,CAAaiG,KAAb,CAAmBC,EATnB,CAAZ;AAUAJ,aAAMv2B,KAAN;AACD;AACF,IAjBD;;AAmBAd,QAAK0tB,SAAL,GAAiB,UAACntB,IAAD,EAAS;AACxB,SAAIg3B,SAAJ,EAAc;AACZ;AACD;AACDA,iBAAY,IAAZ;AACAzyB,YAAOvE,IAAP,EAAY,CAAZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGD,IArED;AAsEA,UAAOP,IAAP;AAED,EAhGD;AAiGA,KAAM0tB,YAAY4J,WAAlB;mBACe5J,S;;;;;;;;;;;ACrGf;;;AAGA,KAAMgK,iBAAiB,SAAjBA,cAAiB,GAAI;AACzB,OAAI13B,OAAO,EAAX;AACA,OAAI23B,WAAW,EAAf;AACA33B,QAAKqsB,UAAL,GAAkB,UAAClsB,IAAD,EAAM0B,EAAN,EAAS+1B,IAAT,EAAgB;AAChC;AACA;AACA;AACA;AACAD,cAASx3B,IAAT,IAAiBksB,WAAW,YAAI;AAC9B,cAAOsL,SAASx3B,IAAT,CAAP;AACA,WAAI0B,EAAJ,EAAO;AACLA;AACD;AACF,MALgB,EAKf+1B,IALe,CAAjB;AAMD,IAXD;AAYA53B,QAAKysB,YAAL,GAAoB,UAACtsB,IAAD,EAAQ;AAC1B,SAAIw3B,SAASrtB,cAAT,CAAwBnK,IAAxB,CAAJ,EAAkC;AAChC03B,oBAAaF,SAASx3B,IAAT,CAAb;AACA,cAAOw3B,SAASx3B,IAAT,CAAP;AACD;AACF,IALD;AAMAH,QAAKssB,aAAL,GAAqB,YAAY;AAC/B,UAAK,IAAIhuB,CAAT,IAAcq5B,QAAd,EAAuB;AACrBE,oBAAaF,SAASr5B,CAAT,CAAb;AACD;AACDq5B,gBAAW,EAAX;AACD,IALD;AAMA,UAAO33B,IAAP;AACD,EA5BD;AA6BA,KAAI83B,iBAAiBJ,gBAArB;mBACeI,c;;;;;;;;;;;;AC7Bf;;;;;;AACA,KAAMC,aAAa;AACjB9R,aAAU,CAAC,CADM;AAEjBkB,YAAS,CAFQ;AAGjBC,YAAS,CAHQ;AAIjBC,SAAM;AAJW,EAAnB,C,CALA;;;;AAWA,KAAM2Q,cAAc,SAAdA,WAAc,CAAC33B,IAAD,EAAQ;AAC1B,OAAIL,OAAO,EAAX;;AAEA,OAAMi4B,WAAW,SAAXA,QAAW,CAAC75B,KAAD,EAAU;AACzBiC,UAAK63B,UAAL;AACD,IAFD;AAGA,OAAIC,cAAc,EAAlB;AACA,OAAIxe,SAASoe,WAAW9R,QAAxB;;AAEA,OAAMmS,UAAU,SAAVA,OAAU,CAACh6B,KAAD,EAAU;AACxB,SAAIub,UAAUoe,WAAW3Q,OAAzB,EAAiC;AAC/B;AACD;;AAGD/mB,UAAKooB,SAAL,CAAerqB,MAAMsH,IAArB;;AAEA,SAAIyV,MAAO;AACT1Z,UAAGrD,MAAMsH,IAAN,CAAW6nB,gBAAX,CAA4BltB,KAAKE,IAAjC,EAAuCkB,CADjC;AAETC,UAAGtD,MAAMsH,IAAN,CAAW6nB,gBAAX,CAA4BltB,KAAKE,IAAjC,EAAuCmB;AAFjC,MAAX;;AAKA,SAAIy2B,YAAY7tB,cAAZ,CAA2BlM,MAAMsH,IAAN,CAAW2yB,UAAtC,CAAJ,EAAsD;AACpDF,mBAAY/5B,MAAMsH,IAAN,CAAW2yB,UAAvB,EAAmCC,aAAnC,CAAiDnd,GAAjD;AACD,MAFD,MAEM;AACJ,WAAIod,WAAW,wBAASl4B,IAAT,CAAf;AACAk4B,gBAASx5B,IAAT;AACAo5B,mBAAY/5B,MAAMsH,IAAN,CAAW2yB,UAAvB,IAAqCE,QAArC;AACD;AAEF,IArBD;;AAuBA,OAAMC,SAAS,SAATA,MAAS,CAACp6B,KAAD,EAAS;AACtBiC,UAAKsoB,QAAL;AACA,SAAIvqB,MAAMsH,IAAN,CAAW2yB,UAAX,KAA0B,CAA1B,IAA+Bj6B,MAAMsH,IAAN,CAAW2yB,UAAX,IAAyBn3B,SAA5D,EAAsE;AACpE;AACD;;AAED,SAAGi3B,YAAY/5B,MAAMsH,IAAN,CAAW2yB,UAAvB,CAAH,EAAuC;AACrCF,mBAAY/5B,MAAMsH,IAAN,CAAW2yB,UAAvB,EAAmC9L,UAAnC;AACD;AAEF,IAVD;AAWAvsB,QAAKjB,IAAL,GAAY,YAAI,CACf,CADD;;AAGAiB,QAAKmS,MAAL,GAAY,UAACJ,EAAD,EAAM;AAChB,UAAK,IAAIzT,CAAT,IAAe65B,WAAf,EAA2B;AACzBA,mBAAY75B,CAAZ,EAAe6T,MAAf,CAAsBJ,EAAtB;AACD;AACF,IAJD;;AAMA,IAAC,YAAI;AACH1R,UAAKE,IAAL,CAAU8a,EAAV,CAAa,YAAb,EAA2B4c,QAA3B,EACG5c,EADH,CACM,WADN,EACmB4c,QADnB;;AAIA53B,UAAKE,IAAL,CAAU8a,EAAV,CAAa,SAAb,EAAwBmd,MAAxB,EACGnd,EADH,CACM,UADN,EACkBmd,MADlB,EAEGnd,EAFH,CAEM,gBAFN,EAEwBmd,MAFxB,EAGGnd,EAHH,CAGM,iBAHN,EAGyBmd,MAHzB;;AAKAn4B,UAAKE,IAAL,CAAU8a,EAAV,CAAa,WAAb,EAA0B+c,OAA1B,EACG/c,EADH,CACM,WADN,EACmB+c,OADnB;AAED,IAZD;;AAcA,OAAIvd,YAAY,SAAZA,SAAY,CAAC3V,KAAD,EAAS;AACvB,SAAIA,UAAUyU,MAAd,EAAqB;AACnB;AACD;AACD,aAAQzU,KAAR;AACE,YAAK6yB,WAAW5Q,OAAhB;AACE;AACF,YAAK4Q,WAAW3Q,OAAhB;AACE;AACF,YAAK2Q,WAAW1Q,IAAhB;AACE;AACF;AACE;AARJ;AAUA1N,cAASzU,KAAT;AACD,IAfD;;AAiBA2V,aAAUkd,WAAW5Q,OAArB;AACAnnB,QAAK8oB,gBAAL,GAAwB,YAAI;AAC1BjO,eAAUkd,WAAW3Q,OAArB;AACD,IAFD;AAGApnB,QAAKgpB,cAAL,GAAsB,YAAI;AACxBnO,eAAUkd,WAAW1Q,IAArB;AACD,IAFD;AAGA,UAAOrnB,IAAP;AACD,EA3FD;mBA4Feg4B,W;;;;;;;;;;;ACvGf;;;;AAIA,KAAMS,gBAAgB,GAAtB;AACA,KAAMC,eAAe,GAArB;;AAEA,KAAMC,iBAAiB,SAAjBA,cAAiB,CAAUC,MAAV,EAAkB;AACvC,OAAIC,WAAYD,OAAOn3B,CAAP,GAAWm3B,OAAOn3B,CAAlB,GAAsBm3B,OAAOl3B,CAAP,GAAWk3B,OAAOl3B,CAAxD;AACA,UAAOm3B,QAAP;AACD,EAHD;;AAKA,KAAMC,kBAAkB,SAAlBA,eAAkB,CAAUF,MAAV,EAAkB;AACxC,OAAIvzB,SAASsB,KAAKwE,IAAL,CAAUwtB,eAAeC,MAAf,CAAV,CAAb;AACAA,UAAOn3B,CAAP,IAAY,IAAI4D,MAAhB;AACAuzB,UAAOl3B,CAAP,IAAY,IAAI2D,MAAhB;AACD,EAJD;;AAMA,KAAM0zB,WAAW,SAAXA,QAAW,CAAU14B,IAAV,EAAgB;AAC/B,OAAIL,OAAO,EAAX;AACA,OAAIg5B,YAAY,EAAhB;AACA,OAAIC,UAAU,EAAd;AACA,OAAIC,QAAQ,IAAZ;;AAEA,OAAMnB,aAAa;AACjBoB,kBAAc,CADG;AAEjBC,gBAAW;AAFM,IAAnB;;AAKA,OAAIzf,SAASoe,WAAWqB,SAAxB;AACA,OAAIC,UAAU,CAAd;;AAEA,OAAMxe,YAAY,SAAZA,SAAY,CAACye,SAAD,EAAc;AAC9B,SAAG3f,WAAW2f,SAAd,EAAyB;AACvB;AACD;;AAED,aAAQA,SAAR;AACA,YAAKvB,WAAWqB,SAAhB;AACEC,mBAAUZ,aAAV;AACF;AACE;AAJF;;AAOA9e,cAAS2f,SAAT;AACD,IAbD;;AAeAt5B,QAAKs4B,aAAL,GAAqB,UAACnd,GAAD,EAAO;;AAG1B,SAAG6d,UAAU3zB,MAAV,GAAmB,CAAtB,EAAyB;AACvB,WAAIk0B,UAAUP,UAAUA,UAAU3zB,MAAV,GAAiB,CAA3B,CAAd;AACA,WAAIm0B,OAAOR,UAAU3zB,MAAV,IAAoB4zB,QAAQ5zB,MAA5B,GAAqC,CAArC,GAAwC,CAAnD;AACA,WAAGsB,KAAK6U,GAAL,CAAS+d,QAAQ93B,CAAR,GAAY0Z,IAAI1Z,CAAzB,IAA8B+3B,IAA9B,IAAsC7yB,KAAK6U,GAAL,CAAS+d,QAAQ73B,CAAR,GAAYyZ,IAAIzZ,CAAzB,IAA8B83B,IAAvE,EAA8E;AAC5E;AACD;AACF;;AAED,SAAGR,UAAU3zB,MAAV,IAAoB,EAAvB,EAA2B;AACzB2zB,iBAAUplB,MAAV,CAAiB,CAAjB,EAAmB,CAAnB;AACD;;AAEDolB,eAAUv6B,IAAV,CAAe0c,GAAf;;AAEAN,eAAUkd,WAAWoB,WAArB;AACD,IAlBD;;AAoBAn5B,QAAKjB,IAAL,GAAY,YAAK;AACf,UAAI,IAAIT,IAAE,CAAV,EAAaA,IAAE,EAAf,EAAmB,EAAEA,CAArB,EAAwB;AACtB26B,eAAQx6B,IAAR,CAAa;AACXgD,YAAE,CADS;AAEXC,YAAE;AAFS,QAAb;AAID;;AAEDw3B,aAAQ,IAAI14B,KAAKi5B,IAAL,CAAUC,IAAd,CAAmBl5B,KAAKqW,OAAL,CAAaC,SAAb,CAAuB,2BAAvB,CAAnB,EAAwEmiB,OAAxE,CAAR;AACA;;AAEA54B,UAAKE,IAAL,CAAUgB,QAAV,CAAmB23B,KAAnB;AACD,IAZD;;AAcAl5B,QAAKusB,UAAL,GAAkB,YAAI;AACpBlsB,UAAKE,IAAL,CAAUuB,WAAV,CAAsBo3B,KAAtB;AACD,IAFD;;AAIAl5B,QAAKmS,MAAL,GAAc,UAACJ,EAAD,EAAO;;AAEnB,aAAQ4H,MAAR;AACA,YAAKoe,WAAWoB,WAAhB;AACEQ;AACA9e,mBAAUkd,WAAWqB,SAArB;AACA;AACF,YAAKrB,WAAWqB,SAAhB;AACE,aAAII,OAAOznB,KAAK,IAAhB;AACAsnB,oBAAWG,IAAX;AACA,aAAIH,WAAW,CAAf,EAAkB;AAChBL,uBAAY,EAAZ;AACAE,iBAAM91B,OAAN,GAAgB,KAAhB;AACA;AACD;AACD,cAAK,IAAI9E,IAAI26B,QAAQ5zB,MAAR,GAAiB,CAA9B,EAAiC/G,IAAI,CAArC,EAAwC,EAAEA,CAA1C,EAA6C;AAC3C,eAAIs7B,YAAYX,QAAQ36B,IAAI,CAAZ,CAAhB;AACA,eAAIqG,MAAM;AACRlD,gBAAGm4B,UAAUn4B,CAAV,GAAcw3B,QAAQ36B,CAAR,EAAWmD,CADpB;AAERC,gBAAGk4B,UAAUl4B,CAAV,GAAcu3B,QAAQ36B,CAAR,EAAWoD;AAFpB,YAAV;;AAKA,eAAIi3B,eAAeh0B,GAAf,KAAuB,CAA3B,EAA8B;AAC5Bu0B,mBAAM91B,OAAN,GAAgB,KAAhB;AACA;AACD;;AAGD01B,2BAAgBn0B,GAAhB;;AAEAs0B,mBAAQ36B,CAAR,EAAWmD,CAAX,IAAgBkD,IAAIlD,CAAJ,GAAQ+3B,IAAR,GAAed,YAA/B;AACAO,mBAAQ36B,CAAR,EAAWoD,CAAX,IAAgBiD,IAAIjD,CAAJ,GAAQ83B,IAAR,GAAed,YAA/B;AACD;AACD;AACF;AACE;AAjCF;AAoCD,IAtCD;;AAwCA,OAAMiB,eAAe,SAAfA,YAAe,GAAI;;AAEvB,SAAGX,UAAU3zB,MAAV,GAAmB4zB,QAAQ5zB,MAA9B,EAAsC;AACpC6zB,aAAM91B,OAAN,GAAgB,KAAhB;AACA;AACD;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA81B,WAAM91B,OAAN,GAAgB,IAAhB;AACA,SAAIy2B,QAAQb,UAAU,CAAV,CAAZ;AACA,UAAI,IAAI16B,IAAE,CAAV,EAAaA,IAAE26B,QAAQ5zB,MAAvB,EAA+B,EAAE/G,CAAjC,EAAoC;AAClC,WAAIA,KAAI06B,UAAU3zB,MAAlB,EAA0B;AACxB4zB,iBAAQ36B,CAAR,EAAWmD,CAAX,GAAeo4B,MAAMp4B,CAArB;AACAw3B,iBAAQ36B,CAAR,EAAWoD,CAAX,GAAem4B,MAAMn4B,CAArB;AACD,QAHD,MAIK;AACHm4B,iBAAQb,UAAU16B,CAAV,CAAR;AACA26B,iBAAQ36B,CAAR,EAAWmD,CAAX,GAAeo4B,MAAMp4B,CAArB;AACAw3B,iBAAQ36B,CAAR,EAAWoD,CAAX,GAAem4B,MAAMn4B,CAArB;AACD;AACF;AACF,IA9BD;;AAgCA,UAAO1B,IAAP;AACD,EA5ID;;mBA8Ie+4B,Q;;;;;;;;;;;;AC7Jf;;AACA;;;;AACA;;;;AACA;;;;;;AANA;;;AAOA,KAAMe,gBAAgB,SAAhBA,aAAgB,GAAI;AACxB,OAAI95B,OAAO,wBAAU,yBAAV,CAAX;AACAA,QAAK8X,SAAL,CAAe,MAAf,EAAsB,YAAI;;AAExB,YAAO,IAAP;AACD,IAHD;AAIA,OAAIiiB,YAAY,EAAhB;AACA,OAAIC,UAAU/M,KAAKtb,GAAL,EAAd;AACA3R,QAAK8X,SAAL,CAAe,QAAf,EAAwB,YAAI;;AAExB,SAAInG,MAAMsb,KAAKtb,GAAL,EAAV;AACA,UAAK,IAAIrT,CAAT,IAAcy7B,SAAd,EAAwB;AACtBA,iBAAUz7B,CAAV,EAAa6T,MAAb,CAAoB,CAACR,MAAMqoB,OAAP,IAAkB,KAAtC;AACD;AACDA,eAAUroB,GAAV;AACH,IAPD;;AAUA,wBAAOkV,MAAP,CAAcxL,EAAd,CAAiB,WAAjB,EAA6B,UAAC3V,IAAD,EAAQ;AACnC,SAAIA,KAAKob,KAAL,KAAe,MAAnB,EAA0B;AACxB;AACD;AACD,SAAIiZ,UAAUzvB,cAAV,CAAyB5E,KAAKob,KAA9B,CAAJ,EAAyC;AACvCiZ,iBAAUr0B,KAAKob,KAAf,EAAsBmZ,cAAtB,CAAqCv0B,KAAKyV,GAAL,CAAS1Z,CAA9C,EAAgDiE,KAAKyV,GAAL,CAASzZ,CAAzD;AACAq4B,iBAAUr0B,KAAKob,KAAf,EAAsBoZ,IAAtB,GAA6B,IAA7B;AACD,MAHD,MAGM;AACJH,iBAAUr0B,KAAKob,KAAf,IAAwB,IAAItgB,KAAK25B,SAAL,CAAeC,OAAnB,CACtBp6B,KAAKO,IADiB,EAEtB,CAACC,KAAKqW,OAAL,CAAaC,SAAb,CAAuB,oBAAUpR,KAAKob,KAAL,GAAa,KAAvB,CAAvB,CAAD,CAFsB,EAGtB,4BAAkB4L,KAHI,CAAxB;AAIAqN,iBAAUr0B,KAAKob,KAAf,EAAsBmZ,cAAtB,CAAqCv0B,KAAKyV,GAAL,CAAS1Z,CAA9C,EAAgDiE,KAAKyV,GAAL,CAASzZ,CAAzD;AACD;AACF,IAdD;AAeA,OAAI61B,YAAY,KAAhB;AACA,wBAAO1Q,MAAP,CAAcxL,EAAd,CAAiB,iBAAjB,EAAmC,UAAC3V,IAAD,EAAQ;AACzC,SAAI6xB,SAAJ,EAAc;AACZ;AACD;AACDA,iBAAY,IAAZ;AACA/5B,aAAQC,GAAR,CAAY,oBAAoBgX,KAAKS,SAAL,CAAexP,IAAf,CAAhC;AACA,SAAIq0B,UAAUzvB,cAAV,CAAyB5E,KAAKob,KAA9B,CAAJ,EAAyC,CACxC,CADD,MACM;AACJiZ,iBAAUr0B,KAAKob,KAAf,IAAwB,IAAItgB,KAAK25B,SAAL,CAAeC,OAAnB,CACtBp6B,KAAKO,IADiB,EAEtB,CAACC,KAAKqW,OAAL,CAAaC,SAAb,CAAuB,oBAAUujB,UAAjC,CAAD,EAA8C75B,KAAKqW,OAAL,CAAaC,SAAb,CAAuB,oBAAUwjB,IAAjC,CAA9C,CAFsB,EAGtB,4BAAkBvN,MAHI,CAAxB;AAKD;AACDgN,eAAUr0B,KAAKob,KAAf,EAAsBmZ,cAAtB,CACEv0B,KAAK8B,QAAL,CAAc/F,CADhB,EAEEiE,KAAK8B,QAAL,CAAc9F,CAFhB;AAIA,SAAIoD,SAAS,IAAI+jB,MACdiF,KADU,CACJ,EAACrsB,GAAGiE,KAAK8B,QAAL,CAAc/F,CAAlB,EAAoBC,GAAGgE,KAAK8B,QAAL,CAAc9F,CAArC,EADI,EAEVqsB,EAFU,CAEP,EAACtsB,GAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,EAA7C;AACFjG,UAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCG,GADlC,EAFO,EAGiC,IAHjC,EAIVomB,QAJU,CAID,YAAY;AACpB+L,iBAAUr0B,KAAKob,KAAf,EAAsBmZ,cAAtB,CAAqC,KAAKx4B,CAA1C,EAA4C,KAAKC,CAAjD;AAGD,MARU,EASVU,UATU,CASC,YAAI;AACdm1B,mBAAY,KAAZ;AACAwC,iBAAUr0B,KAAKob,KAAf,EAAsBmZ,cAAtB,CACE,kBAASj7B,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAD3C,EAEE,kBAAS3I,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAF5C;AAID,MAfU,CAAb;AAgBA/C,YAAOhE,KAAP;AACAi5B,eAAUr0B,KAAKob,KAAf,EAAuBoZ,IAAvB,GAA8B,IAA9B;;AAEA,0BAAOrT,MAAP,CAAcxL,EAAd,CAAiB,SAAjB,EAA2B,YAAI;AAC7B;AACAvW,cAAOvC,IAAP;AACAw3B,iBAAUr0B,KAAKob,KAAf,EAAsBoZ,IAAtB,GAA6B,KAA7B;AACA3C,mBAAY,KAAZ;AACAwC,iBAAUr0B,KAAKob,KAAf,EAAsBmZ,cAAtB,CACE,kBAASj7B,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAD3C,EAEE,kBAAS3I,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAF5C;AAID,MATD;AAUD,IA/CD;;AAkDA,wBAAOgf,MAAP,CAAcxL,EAAd,CAAiB,YAAjB,EAA8B,UAACnW,KAAD,EAAS;AACrC1H,aAAQC,GAAR,CAAY,SAASyH,KAArB;AACA,SAAI60B,UAAUzvB,cAAV,CAAyB,YAAzB,CAAJ,EAA2C,CAC1C,CADD,MACM;AACJyvB,iBAAU,YAAV,IAA0B,IAAIv5B,KAAK25B,SAAL,CAAeC,OAAnB,CACxBp6B,KAAKO,IADmB,EAExB,CAACC,KAAKqW,OAAL,CAAaC,SAAb,CAAuB,oBAAUyjB,KAAjC,CAAD,CAFwB,EAGxB,4BAAkBC,UAHM,CAA1B;AAID;AACDT,eAAU,YAAV,EAAwBE,cAAxB,CACE,kBAASj7B,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAD3C,EAEE,kBAAS3I,cAAT,GAA0ByI,MAA1B,CAAiCI,MAFnC;;AAKA,SAAI3C,UAAU,OAAd,EAAsB;AACpB60B,iBAAU,YAAV,EAAwBG,IAAxB,GAA+B,IAA/B;AAED;AACD,SAAIh1B,UAAU,QAAd,EAAuB;AACrB60B,iBAAU,YAAV,EAAwBG,IAAxB,GAA+B,KAA/B;AACD;AACF,IArBD;;AAuBA,wBAAOrT,MAAP,CAAcxL,EAAd,CAAiB,UAAjB,EAA4B,UAACiI,KAAD,EAAS;AACnC;AACA;AACEyW,eAAU,UAAV,IAAwB,IAAIv5B,KAAK25B,SAAL,CAAeC,OAAnB,CACtB9W,MAAM/iB,IADgB,EAEtB,CAACC,KAAKqW,OAAL,CAAaC,SAAb,CAAuB,oBAAU2jB,QAAjC,CAAD,EAA4Cj6B,KAAKqW,OAAL,CAAaC,SAAb,CAAuB,oBAAU4jB,SAAjC,CAA5C,EAAwFl6B,KAAKqW,OAAL,CAAaC,SAAb,CAAuB,oBAAU6jB,QAAjC,CAAxF,EAAmIn6B,KAAKqW,OAAL,CAAaC,SAAb,CAAuB,oBAAU8jB,QAAjC,CAAnI,EAA8Kp6B,KAAKqW,OAAL,CAAaC,SAAb,CAAuB,oBAAU+jB,QAAjC,CAA9K,CAFsB,EAGtB,4BAAkBC,QAHI,CAAxB;AAIF;AACAf,eAAU,UAAV,EAAsBE,cAAtB,CACE,kBAASj7B,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAAzC,GAA+C,EADjD,EAEE,kBAAS3I,cAAT,GAA0ByI,MAA1B,CAAiCG,GAAjC,GAAuC,EAFzC;AAIAmyB,eAAU,UAAV,EAAsBG,IAAtB,GAA6B,IAA7B;AACD,IAbD;;AAeA,OAAIa,WAAW,KAAf;AACA,wBAAOlU,MAAP,CAAcxL,EAAd,CAAiB,UAAjB,EAA4B,UAAC3V,IAAD,EAAQ;AAClC,SAAIq1B,QAAJ,EAAa;AACX;AACD;AACDA,gBAAW,IAAX;AACA,SAAIhB,UAAUzvB,cAAV,CAAyB,UAAzB,CAAJ,EAAyC,CACxC,CADD,MACM;AACJyvB,iBAAU,UAAV,IAAwB,IAAIv5B,KAAK25B,SAAL,CAAeC,OAAnB,CACtBp6B,KAAKO,IADiB,EAEtB,CAACC,KAAKqW,OAAL,CAAaC,SAAb,CAAuB,oBAAUkkB,KAAjC,CAAD,CAFsB,EAGtB,4BAAkBC,QAHI,CAAxB;AAID;AACDlB,eAAU,UAAV,EAAsBE,cAAtB,CACEv0B,KAAK8B,QAAL,CAAc/F,CADhB,EAEEiE,KAAK8B,QAAL,CAAc9F,CAFhB;AAIA,SAAIoD,SAAS,IAAI+jB,MACdiF,KADU,CACJ,EAACrsB,GAAGiE,KAAK8B,QAAL,CAAc/F,CAAlB,EAAoBC,GAAGgE,KAAK8B,QAAL,CAAc9F,CAArC,EADI,EAEVqsB,EAFU,CAEP,EAACtsB,GAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,EAA7C;AACFjG,UAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,EAD3C,EAFO,EAGyC,IAHzC,EAIVmmB,QAJU,CAID,YAAY;AACpB+L,iBAAU,UAAV,EAAsBE,cAAtB,CAAqC,KAAKx4B,CAA1C,EAA4C,KAAKC,CAAjD;AACD,MANU,EAOVU,UAPU,CAOC,YAAI;AACd24B,kBAAW,KAAX;AACAhB,iBAAU,UAAV,EAAsBG,IAAtB,GAA6B,KAA7B;AACD,MAVU,CAAb;AAWAp1B,YAAOhE,KAAP;AACAi5B,eAAU,UAAV,EAAsBG,IAAtB,GAA6B,IAA7B;AACD,IA7BD;AA8BA,wBAAOrT,MAAP,CAAcxL,EAAd,CAAiB,aAAjB,EAA+B,UAACiI,KAAD,EAAOzhB,EAAP,EAAY;;AAEvCk4B,eAAU,aAAV,IAA2B,IAAIv5B,KAAK25B,SAAL,CAAeC,OAAnB,CACvB9W,MAAM/iB,IADiB,EAEvB,CAACC,KAAKqW,OAAL,CAAaC,SAAb,CAAuB,oBAAUyjB,KAAjC,CAAD,CAFuB,EAGvB,4BAAkBW,WAHK,CAA3B;;AAKFnB,eAAU,aAAV,EAAyBE,cAAzB,CACK,IAAI,GAAJ,GAAU,CAAC,GAAX,GAAiB,kBAASj7B,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAD/D,EAEK,kBAAS3I,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD,GAFrD;AAIA,SAAI/C,SAAS,IAAI+jB,MAAMiF,KAAV,CAAgB;AACzBrsB,UAAG,IAAI,GAAJ,GAAU,CAAC,GAAX,GAAiB,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADpC;AAEzBjG,UAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD;AAF1B,MAAhB,EAINkmB,EAJM,CAIH;AACFtsB,UAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAD1C;AAEFjG,UAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD,GAFjD,EAJG,EAMoD,IANpD,EAORmmB,QAPQ,CAOC,YAAY;AACpB+L,iBAAU,aAAV,EAAyBE,cAAzB,CAAwC,KAAKx4B,CAA7C,EAA+C,KAAKC,CAApD;AACD,MATQ,EAURU,UAVQ,CAUG,YAAI;AACd,WAAGP,EAAH,EAAM;AACJA;AACD;AACDk4B,iBAAU,aAAV,EAAyBG,IAAzB,GAAgC,KAAhC;AACD,MAfQ,CAAb;AAgBAp1B,YAAOhE,KAAP;AACAi5B,eAAU,aAAV,EAAyBG,IAAzB,GAAgC,IAAhC;AACD,IA7BD;AA8BA,wBAAOrT,MAAP,CAAcxL,EAAd,CAAiB,cAAjB,EAAgC,UAACiI,KAAD,EAAOzhB,EAAP,EAAY;AAC1C;AACA;AACA;AACA;AACA;AACA;AACEk4B,eAAU,cAAV,IAA4B,IAAIv5B,KAAK25B,SAAL,CAAeC,OAAnB,CACxB9W,MAAM/iB,IADkB,EAExB,CAACC,KAAKqW,OAAL,CAAaC,SAAb,CAAuB,oBAAUyjB,KAAjC,CAAD,CAFwB,EAGxB,4BAAkBW,WAHM,CAA5B;AAIF;AACAnB,eAAU,cAAV,EAA0BE,cAA1B,CACK,IAAI,GAAJ,GAAU,CAAC,GAAX,GAAiB,GAAjB,GAAuB,kBAASj7B,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADrE,EAEK,kBAAS3I,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD,GAFrD;AAIA,SAAI/C,SAAS,IAAI+jB,MAAMiF,KAAV,CAAgB;AAC3BrsB,UAAG,IAAI,GAAJ,GAAU,CAAC,GAAX,GAAiB,GAAjB,GAAuB,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADxC;AAE3BjG,UAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD;AAFxB,MAAhB,EAIRkmB,EAJQ,CAIL;AACFtsB,UAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAD1C;AAEFjG,UAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD,GAFjD,EAJK,EAMkD,IANlD,EAORmmB,QAPQ,CAOC,YAAY;AACpB+L,iBAAU,cAAV,EAA0BE,cAA1B,CAAyC,KAAKx4B,CAA9C,EAAgD,KAAKC,CAArD;AACD,MATQ,EAURU,UAVQ,CAUG,YAAI;AACd,WAAGP,EAAH,EAAM;AACJA;AACD;AACDk4B,iBAAU,cAAV,EAA0BG,IAA1B,GAAiC,KAAjC;AACD,MAfQ,CAAb;AAgBAp1B,YAAOhE,KAAP;AACAi5B,eAAU,cAAV,EAA0BG,IAA1B,GAAiC,IAAjC;AACD,IAlCD;AAmCA,wBAAOrT,MAAP,CAAcxL,EAAd,CAAiB,cAAjB,EAAgC,UAACiI,KAAD,EAAS;AACvC;AACA;AACA;AACA;AACA;AACA;AACEyW,eAAU,cAAV,IAA4B,IAAIv5B,KAAK25B,SAAL,CAAeC,OAAnB,CACxB9W,MAAM/iB,IADkB,EAExB,CAACC,KAAKqW,OAAL,CAAaC,SAAb,CAAuB,oBAAUyjB,KAAjC,CAAD,CAFwB,EAGxB,4BAAkBW,WAHM,CAA5B;AAIF;AACAnB,eAAU,cAAV,EAA0BE,cAA1B,CACK,IAAI,GAAJ,GAAU,CAAC,GAAX,GAAiB,IAAI,GAArB,GAA2B,kBAASj7B,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADzE,EAEK,kBAAS3I,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD,GAFrD;AAIA,SAAI/C,SAAS,IAAI+jB,MAAMiF,KAAV,CAAgB;AAC3BrsB,UAAG,IAAI,GAAJ,GAAU,CAAC,GAAX,GAAiB,IAAI,GAArB,GAA2B,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAD5C;AAE3BjG,UAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD;AAFxB,MAAhB,EAIRkmB,EAJQ,CAIL;AACFtsB,UAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAD1C;AAEFjG,UAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD,GAFjD,EAJK,EAMkD,IANlD,EAORmmB,QAPQ,CAOC,YAAY;AACpB+L,iBAAU,cAAV,EAA0BE,cAA1B,CAAyC,KAAKx4B,CAA9C,EAAgD,KAAKC,CAArD;AACD,MATQ,EAURU,UAVQ,CAUG,YAAI;AACd;AACA23B,iBAAU,cAAV,EAA0BG,IAA1B,GAAiC,KAAjC;AACD,MAbQ,CAAb;AAcAp1B,YAAOhE,KAAP;AACAi5B,eAAU,cAAV,EAA0BG,IAA1B,GAAiC,IAAjC;AACD,IAhCD;AAiCA,UAAOl6B,IAAP;AACD,EA5PD;mBA6Pe85B,a;;;;;;;;;;;ACpQf;;;AAGA,KAAMqB,eAAc;AAClBzO,UAAO;AACL,cAAS;AACP,gBAAS,IADF;AAEP,cAAO;AAFA,MADJ;AAKL,cAAS;AACP,gBAAS,CADF;AAEP,cAAO,IAFA;AAGP,iCAA0B;AAHnB,MALJ;AAUL,cAAS;AACP,gBAAS,SADF;AAEP,cAAO;AAFA,MAVJ;AAcL,cAAS;AACP,gBAAS,GADF;AAEP,cAAO;AAFA,MAdJ;AAkBL,qBAAgB;AACd,YAAK,CADS;AAEd,YAAK;AAFS,MAlBX;AAsBL,sBAAiB;AACf,cAAO,CADQ;AAEf,cAAO;AAFQ,MAtBZ;AA0BL,mBAAc,KA1BT;AA2BL,sBAAiB;AACf,cAAO,GADQ;AAEf,cAAO;AAFQ,MA3BZ;AA+BL,iBAAY;AACV,cAAO,GADG;AAEV,cAAO;AAFG,MA/BP;AAmCL,kBAAa,QAnCR;AAoCL,kBAAa,KApCR;AAqCL,wBAAmB,GArCd;AAsCL,qBAAgB,EAtCX;AAuCL,YAAO;AACL,YAAK,CADA;AAEL,YAAK;AAFA,MAvCF;AA2CL,kBAAa,KA3CR;AA4CL,kBAAa,OA5CR;AA6CL,yBAAoB,CA7Cf;AA8CL,wBAAmB,CA9Cd;AA+CL,mBAAc;AA/CT,IADW;AAkDlBK,WAAQ;AACN,cAAS;AACP,gBAAS,CADF;AAEP,cAAO;AAFA,MADH;AAKN,cAAS;AACP,gBAAS,CADF;AAEP,cAAO,GAFA;AAGP,iCAA0B;AAHnB,MALH;AAUN,cAAS;AACP,gBAAS,SADF;AAEP,cAAO;AAFA,MAVH;AAcN,cAAS;AACP,gBAAS,GADF;AAEP,cAAO,EAFA;AAGP,iCAA0B;AAHnB,MAdH;AAmBN,qBAAgB;AACd,YAAK,CADS;AAEd,YAAK;AAFS,MAnBV;AAuBN,iBAAY,CAvBN;AAwBN,sBAAiB;AACf,cAAO,CADQ;AAEf,cAAO;AAFQ,MAxBX;AA4BN,mBAAc,KA5BR;AA6BN,sBAAiB;AACf,cAAO,CADQ;AAEf,cAAO;AAFQ,MA7BX;AAiCN,iBAAY;AACV,cAAO,GADG;AAEV,cAAO;AAFG,MAjCN;AAqCN,kBAAa,KArCP;AAsCN,kBAAa,IAtCP;AAuCN,wBAAmB,CAvCb;AAwCN,qBAAgB,EAxCV;AAyCN,YAAO;AACL,YAAK,CADA;AAEL,YAAK;AAFA,MAzCD;AA6CN,kBAAa,KA7CP;AA8CN,kBAAa,QA9CP;AA+CN,oBAAe;AACb,YAAK,CADQ;AAEb,YAAK,CAFQ;AAGb,YAAK;AAHQ;AA/CT,IAlDU;AAuGlByN,eAAY;AACV,cAAS;AACP,gBAAS,CADF;AAEP,cAAO;AAFA,MADC;AAKV,cAAS;AACP,gBAAS,CADF;AAEP,cAAO,GAFA;AAGP,iCAA0B;AAHnB,MALC;AAUV,cAAS;AACP,gBAAS,SADF;AAEP,cAAO;AAFA,MAVC;AAcV,cAAS;AACP,gBAAS,GADF;AAEP,cAAO,CAFA;AAGP,iCAA0B;AAHnB,MAdC;AAmBV,qBAAgB;AACd,YAAK,CADS;AAEd,YAAK;AAFS,MAnBN;AAuBV,iBAAY,CAvBF;AAwBV,sBAAiB;AACf,cAAO,GADQ;AAEf,cAAO;AAFQ,MAxBP;AA4BV,mBAAc,KA5BJ;AA6BV,sBAAiB;AACf,cAAO,CADQ;AAEf,cAAO;AAFQ,MA7BP;AAiCV,iBAAY;AACV,cAAO,GADG;AAEV,cAAO;AAFG,MAjCF;AAqCV,kBAAa,KArCH;AAsCV,kBAAa,KAtCH;AAuCV,wBAAmB,CAAC,CAvCV;AAwCV,qBAAgB,EAxCN;AAyCV,YAAO;AACL,YAAK,CADA;AAEL,YAAK;AAFA,MAzCG;AA6CV,kBAAa,KA7CH;AA8CV,kBAAa,QA9CH;AA+CV,oBAAe;AACb,YAAK,CADQ;AAEb,YAAK,CAFQ;AAGb,YAAK;AAHQ;AA/CL,IAvGM;AA4JlBM,aAAS;AACP,cAAS;AACP,gBAAS,CADF;AAEP,cAAO;AAFA,MADF;AAKP,cAAS;AACP,gBAAS,CADF;AAEP,cAAO,GAFA;AAGP,iCAA0B;AAHnB,MALF;AAUP,cAAS;AACP,gBAAS,SADF;AAEP,cAAO;AAFA,MAVF;AAcP,cAAS;AACP,gBAAS,GADF;AAEP,cAAO,GAFA;AAGP,iCAA0B;AAHnB,MAdF;AAmBP,qBAAgB;AACd,YAAK,CADS;AAEd,YAAK;AAFS,MAnBT;AAuBP,iBAAY,CAvBL;AAwBP,sBAAiB;AACf,cAAO,EADQ;AAEf,cAAO;AAFQ,MAxBV;AA4BP,mBAAc,KA5BP;AA6BP,sBAAiB;AACf,cAAO,CADQ;AAEf,cAAO;AAFQ,MA7BV;AAiCP,iBAAY;AACV,cAAO,GADG;AAEV,cAAO;AAFG,MAjCL;AAqCP,kBAAa,QArCN;AAsCP,kBAAa;AACX,eAAQ;AADG,MAtCN;AAyCP,kBAAa,GAzCN;AA0CP,wBAAmB,CA1CZ;AA2CP,qBAAgB,IA3CT;AA4CP,YAAO;AACL,YAAK,CADA;AAEL,YAAK;AAFA,MA5CA;AAgDP,kBAAa,KAhDN;AAiDP,kBAAa,MAjDN;AAkDP,kBAAa;AACX,YAAK,CADM;AAEX,YAAK,CAFM;AAGX,YAAK,GAHM;AAIX,YAAK;AAJM;AAlDN,IA5JS;AAqNlBG,aAAU;AACR,cAAS;AACP,gBAAS,CADF;AAEP,cAAO;AAFA,MADD;AAKR,cAAS;AACP,gBAAS,CADF;AAEP,cAAO,CAFA;AAGP,iCAA0B;AAHnB,MALD;AAUR,cAAS;AACP,gBAAS,SADF;AAEP,cAAO;AAFA,MAVD;AAcR,cAAS;AACP,gBAAS,CADF;AAEP,cAAO,CAFA;AAGP,iCAA0B;AAHnB,MAdD;AAmBR,qBAAgB;AACd,YAAK,CADS;AAEd,YAAK;AAFS,MAnBR;AAuBR,iBAAY,CAvBJ;AAwBR,sBAAiB;AACf,cAAO,CADQ;AAEf,cAAO;AAFQ,MAxBT;AA4BR,mBAAc,KA5BN;AA6BR,sBAAiB;AACf,cAAO,EADQ;AAEf,cAAO;AAFQ,MA7BT;AAiCR,iBAAY;AACV,cAAO,GADG;AAEV,cAAO;AAFG,MAjCJ;AAqCR,kBAAa,QArCL;AAsCR,kBAAa,IAtCL;AAuCR,wBAAmB,CAAC,CAvCZ;AAwCR,qBAAgB,EAxCR;AAyCR,YAAO;AACL,YAAK,CADA;AAEL,YAAK;AAFA,MAzCC;AA6CR,kBAAa,KA7CL;AA8CR,kBAAa,QA9CL;AA+CR,oBAAe;AACb,YAAK,CADQ;AAEb,YAAK,CAFQ;AAGb,YAAK;AAHQ;AA/CP,IArNQ;AA0QlBC,gBAAa;AACb,cAAS;AACT,gBAAS,CADA;AAEL,cAAO;AAFF,MADI;AAKb,cAAS;AACT,gBAAS,CADA;AAEL,cAAO,GAFF;AAGL,iCAA0B;AAHrB,MALI;AAUb,cAAS;AACT,gBAAS,SADA;AAEL,cAAO;AAFF,MAVI;AAcb,cAAS;AACT,gBAAS,GADA;AAEL,cAAO,EAFF;AAGL,iCAA0B;AAHrB,MAdI;AAmBb,qBAAgB;AAChB,YAAK,CADW;AAEZ,YAAK;AAFO,MAnBH;AAuBb,iBAAY,CAvBC;AAwBX,sBAAiB;AACnB,cAAO,CADY;AAEf,cAAO;AAFQ,MAxBN;AA4Bb,mBAAc,KA5BD;AA6BX,sBAAiB;AACnB,cAAO,CADY;AAEf,cAAO;AAFQ,MA7BN;AAiCb,iBAAY;AACZ,cAAO,GADK;AAER,cAAO;AAFC,MAjCC;AAqCb,kBAAa,KArCA;AAsCX,kBAAa,IAtCF;AAuCX,wBAAmB,CAAC,CAvCT;AAwCX,qBAAgB,EAxCL;AAyCX,YAAO;AACT,YAAK,CADI;AAEL,YAAK;AAFA,MAzCI;AA6Cb,kBAAa,KA7CA;AA8CX,kBAAa;AA9CF;AA1QK,EAApB;;mBA4TeC,Y;;;;;;;;;;;;AC5Tf;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AARA;;;AASA,KAAMC,UAAU,SAAVA,OAAU,GAAI;AAClB,OAAIp7B,OAAO,wBAAU,yBAAV,CAAX;AACAA,QAAK8X,SAAL,CAAe,MAAf,EAAsB,YAAI;AACxB,YAAO,IAAP;AACD,IAFD;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAIujB,eAAe,CAAnB;;AAGA,OAAIC,cAAc,mBAAU39B,MAAV,CAAiB;AACjCiZ,SAAI,WAD6B;AAEjCiK,gBAAW,QAFsB;AAGjChY,eAAU,CACR;AACE+N,WAAI,YADN;AAEEiK,kBAAW,QAFb;AAGEC,cAAO,oBAAUya,eAHnB;AAIE/zB,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADpC;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C;AAFrC;AAJZ,MADQ;AAHuB,IAAjB,CAAlB;AAeA7H,QAAKO,IAAL,CAAUgB,QAAV,CAAmB+5B,YAAY/6B,IAA/B;AACA+6B,eAAYE,UAAZ,CAAuBp4B,OAAvB,GAAiC,KAAjC;;AAGA,OAAIq4B,YAAY,mBAAU99B,MAAV,CAAiB;AAC/BiZ,SAAI,UAD2B;AAE/BiK,gBAAW,QAFoB;AAG/BhY,eAAU,CACR;AACE+N,WAAI,IADN;AAEEiK,kBAAW,QAFb;AAGEC,cAAO,oBAAU4a,GAHnB;AAIEl6B,eAAQ;AACNC,YAAG,GADG;AAENC,YAAG;AAFG,QAJV;AAQAmD,cAAO;AACLpD,YAAG,IADE;AAELC,YAAG;AAFE,QARP;AAYE8F,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADpC;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCG,GAAjC,GAAuC;AAFlC;AAZZ,MADQ,EAiBN;AACAgP,WAAI,YADJ;AAEAiK,kBAAW,SAFX;AAGApD,aAAM,CAHN;AAIAzW,cAAO;AACLoW,eAAM;AADD,QAJP;AAOA5V,iBAAU;AACR/F,YAAG,GADK;AAERC,YAAG;AAFK;AAPV,MAjBM,EA6BR;AACEkV,WAAI,WADN;AAEEiK,kBAAW,SAFb;AAGEpD,aAAM,QAHR;AAIEzW,cAAO;AACLoW,eAAM,kBADD;AAELue,wBAAe,EAFV,CAEY;AAFZ,QAJT;AAQEn0B,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAAzC,GAA+C,CAD1C;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCG,GAAjC,GAAuC;AAFlC;AARZ,MA7BQ,EA0CR;AACEgP,WAAI,cADN;AAEEiK,kBAAW,SAFb;AAGEpD,aAAM,CAHR;AAIEzW,cAAO;AACLoW,eAAM;AADD,QAJT;AAOE5V,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,IADpC;AAERjG,YAAG;AAFK;AAPZ,MA1CQ,EAsDR;AACEkV,WAAI,YADN;AAEEiK,kBAAW,QAFb;AAGEC,cAAO,oBAAU8a,cAHnB;AAIEp0B,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCC,IAAjC,GAAwC,EADnC;AAERhG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C;AAFrC;AAJZ,MAtDQ,EA+DR;AACE+O,WAAI,YADN;AAEEiK,kBAAW,SAFb;AAGE7Z,cAAO;AACLoW,eAAM;AADD,QAHT;AAME5b,eAAQ;AACNC,YAAG,CADG;AAENC,YAAG;AAFG,QANV;AAUE8F,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,EADpC;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCG,GAAjC,GAAuC;AAFlC,QAVZ;AAcE6V,aAAM;AAdR,MA/DQ,EA8EN;AACA7G,WAAI,OADJ;AAEAiK,kBAAW,SAFX;AAGA7Z,cAAO;AACLoW,eAAM;AADD,QAHP;AAMA5b,eAAQ;AACNC,YAAG,CADG;AAENC,YAAG;AAFG,QANR;AAUA8F,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,EADpC;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCG,GAAjC,GAAuC;AAFlC,QAVV;AAcA6V,aAAM;AAdN,MA9EM;AAHqB,IAAjB,EAkGd,UAACoe,MAAD,EAAU;AACV,SAAIA,OAAOjlB,EAAP,KAAc,YAAlB,EAA+B;AAC7B,gCAAeyc,MAAf;AACD;AACF,IAtGe,CAAhB;AAuGArzB,QAAKO,IAAL,CAAUgB,QAAV,CAAmBk6B,UAAUl7B,IAA7B;;AAEAk7B,aAAUK,UAAV,CAAqB14B,OAArB,GAA+B,KAA/B;;AAEA,OAAI24B,QAAQ,IAAZ;AACA,OAAIC,cAAc,CAAlB;AACA,OAAIC,aAAa,SAAbA,UAAa,GAAI;AACnB,SAAIF,UAAU,IAAd,EAAmB;AACjBA,eAAQ,KAAR;AACD,MAFD,MAEM,IAAGA,UAAU,KAAb,EAAoB;AACxBA,eAAQ,IAAR;AACAC,sBAAe,CAAC,CAAhB;AACD;;AAED3P,gBAAW,YAAI;AACb4P;AACD,MAFD,EAEEt1B,KAAKwlB,KAAL,CAAWxlB,KAAK2E,MAAL,KAAe,IAA1B,IAAkC,IAFpC;AAGD,IAXD;AAYA2wB;;AAKA,OAAIC,WAAW,CAAf;AACA,OAAIC,WAAW,SAAXA,QAAW,GAAK;AAClBD;AACA,SAAGA,YAAY,CAAf,EAAiB;AACfA,kBAAW,CAAX;AACA,WAAGb,eAAe,qBAAWz8B,UAAX,CAAsBwuB,UAAxC,EAAmD;AACjDiO;AACD;AACD,WAAIA,eAAe,qBAAWz8B,UAAX,CAAsBwuB,UAAzC,EAAoD;AAClDiO,wBAAe,qBAAWz8B,UAAX,CAAsBwuB,UAArC;AACD;AACDqO,iBAAUW,UAAV,CAAqB3e,IAArB,GAA4B4d,YAA5B;AACD;;AAED,SAAIU,UAAU,KAAd,EAAqB,CACpB,CADD,MACO,IAAIA,UAAU,IAAd,EAAoB;AACzB,4BAAWn9B,UAAX,CAAsBgzB,IAAtB,IAA8BoK,WAA9B;AACA,WAAI,qBAAWp9B,UAAX,CAAsBgzB,IAAtB,IAA8B,CAAlC,EAAqC;AACnC,8BAAWhzB,UAAX,CAAsBgzB,IAAtB,GAA6B,CAA7B;AACD;AACF;AACD,SAAIvsB,SAAS,IAAI,qBAAWzG,UAAX,CAAsBgzB,IAAtB,CAA2BpI,QAA3B,GAAsCnkB,MAAvD;AACA,SAAI9G,MAAM,EAAV;AACA,UAAK,IAAID,IAAI,CAAb,EAAgBA,IAAI+G,MAApB,EAA4B/G,GAA5B,EAAiC;AAC/BC,cAAO,GAAP;AACD;AACDA,YAAO,qBAAWK,UAAX,CAAsBgzB,IAA7B;AACA6J,eAAUY,SAAV,CAAoB5e,IAApB,GAA2Blf,GAA3B;;AAEA,SAAI,qBAAWK,UAAX,CAAsBgzB,IAAtB,IAA8B,MAAlC,EAA0C;AACxC,4BAAWhzB,UAAX,CAAsBgzB,IAAtB,GAA6B,MAA7B;AACAoK,qBAAc,CAAC,CAAf;AACD;AACD,SAAI,qBAAWp9B,UAAX,CAAsBgzB,IAAtB,IAA8B,CAAlC,EAAqC;AACnC,4BAAWhzB,UAAX,CAAsBgzB,IAAtB,GAA6B,CAA7B;AACAoK,qBAAc,CAAd;AACD;;AAGDP,eAAUa,UAAV,CAAqB7e,IAArB,GAA4B,qBAAW7e,UAAX,CAAsB4nB,UAAlD;AACA;AACA;AACAiV,eAAUc,YAAV,CAAuB9e,IAAvB,GAA8B,qBAAW7e,UAAX,CAAsBgtB,cAApD;AAGD,IA5CD;AA6CA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAI4Q,YAAY,2BAAhB;AACAx8B,QAAK8X,SAAL,CAAe,QAAf,EAAwB,UAAC2D,SAAD,EAAa;AACnC+gB,eAAUrqB,MAAV,CAAiBsJ,SAAjB;AACA0gB;AAED,IAJD;AAKAK,aAAU1Y,SAAV,CAAoB2X,UAAUl7B,IAA9B;;AAEA;AACA,OAAIk8B,eAAe,2BAAY;AAC7Bt8B,WAAM,QADuB;AAE7Bu8B,WAAM,oBAAUC,WAFa;AAG7BC,WAAM,oBAAUC,WAHa;AAI7BC,WAAM,oBAAUC,WAJa;AAK7BC,WAAM,oBAAUC,WALa;AAM7BC,WAAM,oBAAUC,WANa;AAO7Br/B,aAAQ;AAPqB,IAAZ,CAAnB;AASA2+B,gBAAaj1B,QAAb,GAAwB;AACtB/F,QAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,EADtB;AAEtBjG,QAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C;AAFvB,IAAxB;AAIA;AACA7H,QAAKO,IAAL,CAAUgB,QAAV,CAAmBk7B,YAAnB;;AAGA,wBAAW5V,MAAX,CAAkBxL,EAAlB,CAAqB,oBAArB,EAA0C,UAAC+hB,OAAD,EAAW;AACnDX,kBAAaY,UAAb,CAAwBD,OAAxB;AACD,IAFD;;AAOA;;AAEA,OAAI7F,YAAY,KAAhB;AACA,OAAI+F,YAAY,SAAZA,SAAY,GAAI;AAClB,SAAI/F,SAAJ,EAAc;AACZ;AACD;AACDA,iBAAY,IAAZ;AACA,SAAIgG,QAAQ,IAAI1U,MAAMiF,KAAV,CAAgB,EAACpsB,GAAG,CAAC,EAAL,EAAhB,EACTqsB,EADS,CACN,EAACrsB,GAAG,GAAJ,EADM,EACG,GADH,EAETssB,QAFS,CAEA,YAAY;AACpBsN,mBAAYE,UAAZ,CAAuB95B,CAAvB,GAA2B,KAAKA,CAAhC;AACD,MAJS,EAKT4vB,MALS,CAKFzI,MAAM0I,MAAN,CAAaiM,IAAb,CAAkB/F,EALhB,EAMTnG,MANS,CAMFzI,MAAM0I,MAAN,CAAakM,MAAb,CAAoBC,GANlB,EAOTt7B,UAPS,CAOE,YAAY;AACtB;AACAm1B,mBAAY,KAAZ;AACD,MAVS,CAAZ;AAWAgG,WAAMz8B,KAAN;AACD,IAjBD;AAkBA,OAAI68B,UAAU,SAAVA,OAAU,CAAC97B,EAAD,EAAM;AAClB,SAAI01B,SAAJ,EAAc;AACZ,WAAI11B,EAAJ,EAAO;AACLA;AACD;AACD;AACD;AACD01B,iBAAY,IAAZ;AACA,SAAIgG,QAAQ,IAAI1U,MAAMiF,KAAV,CAAgB,EAACpsB,GAAG,GAAJ,EAAhB,EACTqsB,EADS,CACN,EAACrsB,GAAG,CAAC,GAAL,EADM,EACI,GADJ,EAETssB,QAFS,CAEA,YAAY;AACpBsN,mBAAYE,UAAZ,CAAuB95B,CAAvB,GAA2B,KAAKA,CAAhC;AACD,MAJS,EAKT4vB,MALS,CAKFzI,MAAM0I,MAAN,CAAaiM,IAAb,CAAkB/F,EALhB,EAMTr1B,UANS,CAME,YAAY;AACtB;AACAm1B,mBAAY,KAAZ;AACA,WAAI11B,EAAJ,EAAO;AACNA;AACA;AACF,MAZS,CAAZ;AAaA07B,WAAMz8B,KAAN;AACD,IAtBD;;AAyBA;;AAEA,wBAAW+lB,MAAX,CAAkBxL,EAAlB,CAAqB,SAArB,EAA+B,UAACnW,KAAD,EAAS;AACtC1H,aAAQC,GAAR,CAAY,kBAAkByH,KAA9B;AACA,SAAIA,UAAU,OAAd,EAAsB;AACpBo2B,mBAAYE,UAAZ,CAAuBp4B,OAAvB,GAAiC,IAAjC;AACAk6B;AACA;AACA;AACA;AACD;AACD,SAAIp4B,UAAU,QAAd,EAAuB;AACrBy4B,eAAQ,YAAI;AACVrC,qBAAYE,UAAZ,CAAuBp4B,OAAvB,GAAiC,KAAjC;AACD,QAFD;AAGA;AACA;AACA;AACA;AACA;AACA;AACD;AACF,IApBD;;AAsBA,OAAMw6B,mBAAmB,SAAnBA,gBAAmB,CAACr9B,IAAD,EAAMs9B,IAAN,EAAWjG,IAAX,EAAkB;AACzC,SAAIl2B,IAAInB,KAAKiH,QAAL,CAAc9F,CAAtB;AACA,SAAIoD,SAAS,IAAI+jB,MAAMiF,KAAV,CAAgB,EAACpsB,GAAGA,CAAJ,EAAhB,EACVqsB,EADU,CACP,EAACrsB,GAAGA,IAAIm8B,IAAR,EADO,EACOjG,IADP,EAEV5J,QAFU,CAED,YAAY;AACpBztB,YAAKiH,QAAL,CAAc9F,CAAd,GAAkB,KAAKA,CAAvB;AACD,MAJU,CAAb;AAKAoD,YAAOhE,KAAP;AACD,IARD;AASA,wBAAW+lB,MAAX,CAAkBxL,EAAlB,CAAqB,WAArB,EAAiC,UAACnW,KAAD,EAAS;AACxC,aAAQA,KAAR;AACE,YAAK,OAAL;AACE;AACA;AACA44B,mBAAUrC,UAAUl7B,IAApB,EAAyB,CAAzB,EAA2BsoB,MAAM0I,MAAN,CAAaiG,KAAb,CAAmBC,EAA9C,EAAiD,YAAI;AACnDgE,qBAAUK,UAAV,CAAqBv7B,IAArB,CAA0B6C,OAA1B,GAAoC,IAApC;AACD,UAFD;AAGA;;;AAGA06B,mBAAUrB,YAAV,EACE,kBAASz9B,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,EAD5C,EAEEghB,MAAM0I,MAAN,CAAaiG,KAAb,CAAmBkG,GAFrB;;AAKA;AACF,YAAK,MAAL;AACE;AACAjC,mBAAUK,UAAV,CAAqBv7B,IAArB,CAA0B6C,OAA1B,GAAoC,KAApC;AACA06B,mBAAUrC,UAAUl7B,IAApB,EAAyB,CAAC,GAA1B,EAA8BsoB,MAAM0I,MAAN,CAAaiG,KAAb,CAAmBkG,GAAjD,EAAqD,YAAI;AACvD;AACD,UAFD;AAGAI,mBAAUrB,YAAV,EACA,kBAASz9B,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAD1C,EAEAghB,MAAM0I,MAAN,CAAaiG,KAAb,CAAmBkG,GAFnB;AAGA;AACF;AACE;AA3BJ;AA6BD,IA9BD;;AAiCA,OAAII,YAAY,SAAZA,SAAY,CAAUv9B,IAAV,EAAes9B,IAAf,EAAoB3G,MAApB,EAA2Br1B,EAA3B,EAA+B;AAC7C,SAAIk8B,OAAOx9B,KAAKiH,QAAL,CAAc9F,CAAzB;AACA,SAAIoD,SAAS,IAAI+jB,MAAMiF,KAAV,CAAgB,EAACpsB,GAAGq8B,IAAJ,EAAhB,EACVhQ,EADU,CACP,EAACrsB,GAAGm8B,IAAJ,EADO,EACG,GADH,EAEV7P,QAFU,CAED,YAAY;AACpBztB,YAAKiH,QAAL,CAAc9F,CAAd,GAAkB,KAAKA,CAAvB;AACD,MAJU,EAKVU,UALU,CAKC,YAAY;AACtB,WAAIP,EAAJ,EAAO;AACLA;AACD;AACF,MATU,EASRyvB,MATQ,CASD4F,MATC,CAAb;AAUApyB,YAAOhE,KAAP;AAED,IAdD;AAeA,wBAAW+lB,MAAX,CAAkBxL,EAAlB,CAAqB,gBAArB,EAAsC,YAAI;AACxCyiB,eAAUrC,UAAUl7B,IAApB,EAAyB,CAAzB,EAA2BsoB,MAAM0I,MAAN,CAAaiG,KAAb,CAAmBC,EAA9C,EAAiD,YAAI;AACnDgE,iBAAUK,UAAV,CAAqBv7B,IAArB,CAA0B6C,OAA1B,GAAoC,KAApC;AACD,MAFD;AAGD,IAJD;AAKA06B,aAAUrC,UAAUl7B,IAApB,EAAyB,CAAzB,EAA2BsoB,MAAM0I,MAAN,CAAaiG,KAAb,CAAmBC,EAA9C,EAAiD,YAAI;AACnDgE,eAAUK,UAAV,CAAqBv7B,IAArB,CAA0B6C,OAA1B,GAAoC,KAApC;AACD,IAFD;;AAKA,UAAOpD,IAAP;AACD,EAlYD;mBAmYeo7B,O;;;;;;;;;;;;ACzYf;;AACA;;;;AACA;;;;;;AACA,KAAM4C,WAAW,SAAXA,QAAW,GAAI;AACnB,OAAIh+B,OAAO,IAAIQ,KAAKC,SAAT,EAAX;AACAT,QAAK8jB,SAAL,GAAiB,UAACrD,MAAD,EAAU;AACzBzgB,UAAKygB,MAAL,GAAcA,MAAd;AACAzgB,UAAKygB,MAAL,CAAYlf,QAAZ,CAAqBvB,IAArB;AACD,IAHD;;AAKA,OAAIi+B,iBAAiB,IAArB;AACA,OAAIC,oBAAoBD,cAAxB;AACA,OAAIE,UAAU,EAAd;AACA,QAAK,IAAI7/B,IAAI,CAAb,EAAiBA,IAAI,CAArB,EAAyBA,GAAzB,EAA8B;;AAE5B,SAAIqvB,QAAQ,IAAIntB,KAAKa,MAAL,CAAYyV,SAAhB,CAA0B,oBAAU,cAAcxY,CAAxB,CAA1B,CAAZ;AACA0B,UAAKuB,QAAL,CAAcosB,KAAd;;AAEAA,WAAMnsB,MAAN,GAAe;AACbC,UAAG,GADU;AAEbC,UAAG;AAFU,MAAf;AAIAisB,WAAMnmB,QAAN,GAAiB;AACf/F,UAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAD7B;AAEfjG,UAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCG;AAFrB,MAAjB;AAIAu2B,aAAQ1/B,IAAR,CAAakvB,KAAb;AACD;;AAGD,OAAIyQ,gBAAgB,SAAhBA,aAAgB,CAACl5B,KAAD,EAAS;AAC3B,aAAQA,KAAR;AACE,YAAK,QAAL;AACG+4B,0BAAiB,IAAjB;;AAED;AACF,YAAK,OAAL;AACEA,0BAAiB,IAAjB;;AAEA;AACF;AACE;AAVJ;AAYD,IAbD;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAII,UAAU,SAAVA,OAAU,CAAC19B,KAAD,EAAS;AACrB,UAAK,IAAIrC,KAAI,CAAb,EAAiBA,KAAI6/B,QAAQ94B,MAA7B,EAAsC/G,IAAtC,EAA2C;AACzC6/B,eAAQ7/B,EAAR,EAAWgjB,KAAX,GAAmB,CAAnB;AACD;AACD6c,aAAQx9B,KAAR,EAAe2gB,KAAf,GAAuB,CAAvB;AAED,IAND;AAOA,OAAIqJ,aAAa,CAAjB;AACA,OAAI2T,eAAe,CAAnB;AACA;AACAt+B,QAAKmS,MAAL,GAAc,UAACsJ,SAAD,EAAa;;AAEzB,SAAI8iB,aAAa9iB,YAAU,IAA3B;AACAkP,mBAAc4T,UAAd;;AAEA,SAAIL,oBAAoBD,cAAxB,EAAuC;AACrCC,4BAAqB,EAArB;AACD,MAFD,MAEM;AACJA,4BAAqB,EAArB;AACD;;AAED,SAAIvT,aAAauT,oBAAoBK,UAArC,EAAgD;AAC9C5T,oBAAa,CAAb;AACA0T,eAAQC,YAAR;;AAEA,WAAIA,gBAAgBH,QAAQ94B,MAAR,GAAiB,CAArC,EAAuC;AACrCi5B,wBAAe,CAAf;AACD,QAFD,MAEM;AACJA;AACD;AACF;AACF,IArBD;;AAwBA,wBAAOzX,MAAP,CAAcxL,EAAd,CAAiB,UAAjB,EAA4B,UAACnW,KAAD,EAAS;AACnCk5B,mBAAcl5B,KAAd;AACD,IAFD;;AAIA,UAAOlF,IAAP;AACD,EAxFD,C,CANA;;;mBA+Feg+B,Q;;;;;;;;;;;AC/Ff;;;AAGA,KAAMnoB,cAAc,SAAdA,WAAc,CAAUxV,IAAV,EAAgB;AAClC,OAAIL,OAAO,IAAIQ,KAAKC,SAAT,EAAX;;AAGA,OAAIJ,KAAKF,IAAL,KAAc,QAAlB,EAA2B;AAAA;AACzBH,YAAKg9B,IAAL,GAAYx8B,KAAKa,MAAL,CAAYyV,SAAZ,CAAsBzW,KAAK28B,IAA3B,CAAZ;AACAh9B,YAAKuB,QAAL,CAAcvB,KAAKg9B,IAAnB;AACAh9B,YAAKg9B,IAAL,CAAUx7B,MAAV,CAAiB+F,GAAjB,CAAqB,GAArB;AACAvH,YAAKg9B,IAAL,CAAU1b,KAAV,GAAkB,CAAlB;AACA,WAAI/G,OAAO,IAAI/Z,KAAKC,SAAT,EAAX;AACAT,YAAKuB,QAAL,CAAcgZ,IAAd;AACA,WAAIikB,OAAO,IAAIh+B,KAAK0Z,QAAT,EAAX;AACAskB,YAAKhgB,SAAL,CAAe,QAAf,EAAwB,CAAxB;AACAggB,YAAKC,UAAL,CAAgB,CAAhB,EAAkB,CAAlB,EAAoBp+B,KAAKvC,MAAL,GAAc,GAAlC;AACA0gC,YAAK/f,OAAL;AACAlE,YAAKhZ,QAAL,CAAci9B,IAAd;AACAjkB,YAAKA,IAAL,GAAYikB,IAAZ;;AAKAx+B,YAAK08B,IAAL,GAAYl8B,KAAKa,MAAL,CAAYyV,SAAZ,CAAsBzW,KAAKq8B,IAA3B,CAAZ;AACA18B,YAAK08B,IAAL,CAAUl7B,MAAV,CAAiB+F,GAAjB,CAAqB,GAArB;AACAgT,YAAKhZ,QAAL,CAAcvB,KAAK08B,IAAnB;AACA,WAAIE,OAAQp8B,KAAKa,MAAL,CAAYyV,SAAZ,CAAsBzW,KAAKu8B,IAA3B,CAAZ;AACAA,YAAKp7B,MAAL,CAAY+F,GAAZ,CAAgB,GAAhB;AACAvH,YAAKuB,QAAL,CAAcq7B,IAAd;AACA58B,YAAKk9B,IAAL,GAAY18B,KAAKa,MAAL,CAAYyV,SAAZ,CAAsBzW,KAAK68B,IAA3B,CAAZ;AACAl9B,YAAKuB,QAAL,CAAcvB,KAAKk9B,IAAnB;AACAl9B,YAAKk9B,IAAL,CAAU17B,MAAV,CAAiB+F,GAAjB,CAAqB,GAArB;AACAvH,YAAKk9B,IAAL,CAAU5b,KAAV,GAAkB,CAAlB;;AAEA,WAAIwb,OAAQt8B,KAAKa,MAAL,CAAYyV,SAAZ,CAAsBzW,KAAKy8B,IAA3B,CAAZ;AACA98B,YAAKuB,QAAL,CAAcu7B,IAAd;AACAA,YAAKt7B,MAAL,CAAY+F,GAAZ,CAAgB,GAAhB;;AAGA,WAAMm3B,cAAc,SAAdA,WAAc,CAAUn+B,IAAV,EAAgB;AAClC,aAAIuE,SAAS,IAAI+jB,MAAMiF,KAAV,CAAgB,EAACjpB,OAAO,CAAR,EAAhB,EACVkpB,EADU,CACP,EAAClpB,OAAO,GAAR,EADO,EACM,GADN,EAEVmpB,QAFU,CAED,YAAY;AACpBztB,gBAAKsE,KAAL,GAAa;AACXpD,gBAAG,KAAKoD,KADG;AAEXnD,gBAAG,KAAKmD;AAFG,YAAb;AAID,UAPU,EAQVzC,UARU,CAQC,YAAY;AACtBuuB,mBAAQ7vB,KAAR;AACD,UAVU,CAAb;AAWAgE,gBAAOhE,KAAP;AACA,aAAI6vB,UAAU,IAAI9H,MAAMiF,KAAV,CAAgB,EAACjpB,OAAO,GAAR,EAAhB,EACXkpB,EADW,CACR,EAAClpB,OAAO,CAAR,EADQ,EACG,GADH,EAEXmpB,QAFW,CAEF,YAAY;AACpBztB,gBAAKsE,KAAL,GAAa;AACXpD,gBAAG,KAAKoD,KADG;AAEXnD,gBAAG,KAAKmD;AAFG,YAAb;AAID,UAPW,EAQXzC,UARW,CAQA,YAAY;AACtBs8B,uBAAYn+B,IAAZ;AACD,UAVW,CAAd;AAaD,QA1BD;AA2BAm+B,mBAAY1+B,KAAKg9B,IAAjB;;AAEA,WAAM2B,QAAQ,SAARA,KAAQ,GAAY;AACxB,aAAItR,OAAO,IAAIxE,MAAMiF,KAAV,CAAgB,EAACrsB,GAAG,EAAJ,EAAhB,EACRssB,EADQ,CACL,EAACtsB,GAAE,CAAC,EAAJ,EADK,EACG,IADH,EAERusB,QAFQ,CAEC,YAAY;AACpBhuB,gBAAK08B,IAAL,CAAUl1B,QAAV,CAAmB/F,CAAnB,GAAuB,KAAKA,CAA5B;AACD,UAJQ,EAKRW,UALQ,CAKG,YAAY;AACtBw8B,iBAAM99B,KAAN;AACD,UAPQ,CAAX;AAQAusB,cAAKvsB,KAAL;AACA,aAAI89B,QAAQ,IAAI/V,MAAMiF,KAAV,CAAgB,EAACrsB,GAAG,CAAC,EAAL,EAAhB,EACTssB,EADS,CACN,EAACtsB,GAAE,EAAH,EADM,EACC,IADD,EAETusB,QAFS,CAEA,YAAY;AACpBhuB,gBAAK08B,IAAL,CAAUl1B,QAAV,CAAmB/F,CAAnB,GAAuB,KAAKA,CAA5B;AACD,UAJS,EAKTW,UALS,CAKE,YAAY;AACtBu8B;AACD,UAPS,CAAZ;AAQD,QAlBD;AAmBAA;AAjFyB;AAwF1B,IAxFD,MAyFI;AACF,SAAIE,QAAQ39B,SAAZ;AACA,SAAI49B,WAAW59B,SAAf;AACA,SAAIb,KAAK0W,EAAT,EAAY;AACV8nB,eAAQx+B,KAAK0W,EAAb;AACD;AACD,SAAI1W,KAAKygB,KAAT,EAAe;AACbge,kBAAWz+B,KAAKygB,KAAhB;AACD;AACD,SAAIzgB,KAAK8uB,EAAT,EAAY;AACV2P,kBAAWz+B,KAAK8uB,EAAhB;AACD;AACD,SAAI5H,MAAM/mB,KAAKa,MAAL,CAAYyV,SAAZ,CAAsB+nB,KAAtB,CAAV;AACAtX,SAAI/lB,MAAJ,GAAa;AACXC,UAAG,GADQ;AAEXC,UAAG;AAFQ,MAAb;AAIA1B,UAAKuB,QAAL,CAAcgmB,GAAd;AACA,SAAIwX,MAAMv+B,KAAKa,MAAL,CAAYyV,SAAZ,CAAsBgoB,QAAtB,CAAV;AACAC,SAAIv9B,MAAJ,GAAa;AACXC,UAAG,GADQ;AAEXC,UAAG;AAFQ,MAAb;AAIA,SAAIsY,QAAQ,IAAIxZ,KAAKC,SAAT,EAAZ;AACA8mB,SAAIhmB,QAAJ,CAAayY,KAAb;AACAA,WAAMzY,QAAN,CAAew9B,GAAf;AACA,SAAIC,YAAY,IAAIx+B,KAAK0Z,QAAT,EAAhB;AACAF,WAAMzY,QAAN,CAAey9B,SAAf;AACAA,eAAUxgB,SAAV,CAAoB,QAApB,EAA6B,CAA7B;AACAwgB,eAAU5kB,QAAV,CAAoB/Z,KAAKxC,KAAL,GAAa,CAAC,GAAlC,EAAuCwC,KAAKvC,MAAL,GAAc,CAAC,GAAtD,EAA2DuC,KAAKxC,KAAhE,EAAuEwC,KAAKvC,MAA5E;AACAkc,WAAMO,IAAN,GAAaykB,SAAb;AAED;;AAEDh/B,QAAKq9B,UAAL,GAAkB,UAACD,OAAD,EAAY;AAC5B;AACA;AACA,SAAI/8B,KAAKF,IAAL,KAAc,QAAlB,EAA2B;AACzBH,YAAK08B,IAAL,CAAUl1B,QAAV,CAAmB9F,CAAnB,GAAuBrB,KAAKvC,MAAL,GAAcuC,KAAKvC,MAAL,GAAcs/B,OAAnD;AACA,WAAIp9B,KAAK08B,IAAL,CAAUl1B,QAAV,CAAmB9F,CAAnB,IAAwB,CAA5B,EAA8B;AAC5B1B,cAAK08B,IAAL,CAAUl1B,QAAV,CAAmB9F,CAAnB,GAAuB,CAAvB;AACA1B,cAAKg9B,IAAL,CAAU1b,KAAV,GAAkB,CAAlB;AACAthB,cAAKk9B,IAAL,CAAU5b,KAAV,GAAkB,CAAlB;AACD,QAJD,MAIM;AACJthB,cAAKg9B,IAAL,CAAU1b,KAAV,GAAkB,CAAlB;AACAthB,cAAKk9B,IAAL,CAAU5b,KAAV,GAAkB,CAAlB;AACD;AACF;AACF,IAdD;;AAmBA,UAAOthB,IAAP;AACD,EAnJD;mBAoJe6V,W;;;;;;;;;;;;ACpJf;;AACA;;;;AACA;;;;AACA;;;;;;AANA;;;AAOA,KAAMopB,eAAe,SAAfA,YAAe,CAAC5+B,IAAD,EAAQ;AACzB,OAAIL,OAAO,yBAAgBC,eAAhB,CAAgC;AACzCE,WAAM,OADmC;AAEzCqB,aAAQ,EAACC,GAAG,GAAJ,EAASC,GAAG,GAAZ,EAFiC;AAGzCpB,eAAU;AACRw2B,aAAM;AACJ91B,cAAK,cADD;AAEJF,gBAAO,CAFH;AAGJC,cAAK,EAHD;AAIJE,gBAAO,KAAK,EAAL,GAAU;AAJb;AADE;AAH+B,IAAhC,CAAX;AAYFjB,QAAKO,IAAL,CAAUiH,QAAV,GAAqB;AACnB/F,QAAEpB,KAAKmH,QAAL,CAAc/F,CADG;AAEnBC,QAAErB,KAAKmH,QAAL,CAAc9F;AAFG,IAArB;AAIA1B,QAAKO,IAAL,CAAUsE,KAAV,CAAgB0C,GAAhB,CAAoB,GAApB;AACAvH,QAAKO,IAAL,CAAU6H,QAAV,GAAqB/H,KAAK+H,QAA1B;AACA,UAAOpI,IAAP;AACD,EApBD;AAqBA,KAAMk/B,cAAc,SAAdA,WAAc,GAAI;AACtB,OAAIl/B,OAAO,wBAAU,yBAAV,CAAX;AACA,4BAAgBwN,IAAhB,CAAqB,oBAAU2xB,gBAA/B,EAAgD,YAAI,CAEnD,CAFD;;AAKA,OAAIC,cAAc,SAAdA,WAAc,CAAC15B,IAAD,EAAQ;AACxB,SAAI25B,QAAQJ,aAAa;AACvBtP,gBAAS,cADc;AAEvBnoB,iBAAU,EAAC/F,GAAGiE,KAAK8B,QAAL,CAAc/F,CAAlB,EAAoBC,GAAGgE,KAAK8B,QAAL,CAAc9F,CAArC,EAFa;AAGvB0G,iBAAU1C,KAAKnF,IAAL,CAAU6H,QAAV,GAAqB,CAArB,GAAyBzB,KAAK0B;AAHjB,MAAb,CAAZ;AAKA,SAAIi3B,QAAQ,IAAI9+B,KAAK0Z,QAAT,EAAZ;AACAolB,WAAM9gB,SAAN,CAAgB,QAAhB,EAAyB,CAAzB;AACA8gB,WAAM7kB,SAAN,CAAgB,CAAhB,EAAmB,QAAnB,EAA6B,CAA7B;AACA,SAAIlO,OAAO,EAAC1O,OAAO,kBAASmB,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAzC,EAA+C7J,QAAQ,kBAASkB,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAxF,EAAX;AACA,SAAIL,WAAW,EAAC/F,GAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAA7C,EAAiDjG,GAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA9F,EAAf;AACAy3B,WAAMllB,QAAN,CAAe5S,SAAS/F,CAAT,GAAW8K,KAAK1O,KAAL,GAAa,GAAvC,EAA4C2J,SAAS9F,CAAT,GAAW6K,KAAKzO,MAAL,GAAc,GAArE,EAA0EyO,KAAK1O,KAAL,GAAa,GAAvF,EAA4F0O,KAAKzO,MAAL,GAAc,GAA1G;AACAwhC,WAAMhe,KAAN,GAAc,CAAd;AACA,SAAI8V,SAAS,IAAIvO,MAAMiF,KAAV,CAAgB,EAACxM,OAAO,CAAR,EAAhB,EACVyM,EADU,CACP,EAACzM,OAAO,CAAR,EADO,EACI,GADJ,EAEV0M,QAFU,CAED,YAAU;AAClBsR,aAAMhe,KAAN,GAAc,KAAKA,KAAnB;AACD,MAJU,CAAb;AAKA,SAAI+V,QAAQ,IAAIxO,MAAMiF,KAAV,CAAgB,EAACxM,OAAO,CAAR,EAAhB,EACTyM,EADS,CACN,EAACzM,OAAO,CAAR,EADM,EACK,GADL,EAET0M,QAFS,CAEA,YAAU;AAClBsR,aAAMhe,KAAN,GAAc,KAAKA,KAAnB;AACD,MAJS,EAKTlf,UALS,CAKE,YAAU;AACpB,4BAAOykB,MAAP,CAAcpH,IAAd,CAAmB,WAAnB;AACA4M,kBAAW,YAAU;AACnB+K,gBAAOt2B,KAAP;AACD,QAFD,EAEE,GAFF;AAGD,MAVS,CAAZ;AAWA,SAAIy+B,YAAY,mBAAU5hC,MAAV,CAAiB;AAC/BiZ,WAAI,eAD2B;AAE/BiK,kBAAW,QAFoB;AAG/BhY,iBAAU,CAAC;AACT+N,aAAI,WADK;AAETiK,oBAAW,QAFF;AAGTrZ,mBAAU,EAAC/F,GAAGiE,KAAK8B,QAAL,CAAc/F,CAAlB,EAAqBC,GAAGgE,KAAK8B,QAAL,CAAc9F,CAAd,GAAkB,GAA1C,EAHD;AAITof,gBAAO,oBAAUye;AAJR,QAAD;AAHqB,MAAjB,CAAhB;AAUAlT,gBAAW,YAAU;AACnBgL,aAAMv2B,KAAN;AACD,MAFD,EAEE,GAFF;AAGA;AACAd,UAAKO,IAAL,CAAUgB,QAAV,CAAmB+9B,KAAnB;AACA,SAAG,qBAAO1gC,UAAP,CAAkBgtB,cAAlB,KAAqC,CAAxC,EAA0C,CACzC,CADD,MACM;AACJ5rB,YAAKO,IAAL,CAAUgB,QAAV,CAAmBg+B,UAAUh/B,IAA7B;AACAP,YAAKO,IAAL,CAAUgB,QAAV,CAAmB89B,MAAM9+B,IAAzB;AACA,4BAAO0mB,YAAP,CAAoBuF,IAApB,CAAyB,SAAzB;AACD;AACD6S,WAAM58B,QAAN,CAAe,MAAf,EAAsB,YAAI;AACxB,WAAG88B,UAAUh/B,IAAV,CAAekgB,MAAf,KAA0BzgB,KAAKO,IAAlC,EAAuC;AACrCP,cAAKO,IAAL,CAAUuB,WAAV,CAAsBy9B,UAAUh/B,IAAhC;AACAP,cAAKO,IAAL,CAAUuB,WAAV,CAAsBu9B,MAAM9+B,IAA5B;AACD;AACF,MALD;;AAOA,YAAO8+B,KAAP;AACD,IA1DD;;AA4DA,wBAAOxY,MAAP,CAAcxL,EAAd,CAAiB,aAAjB,EAA+B,UAAC3V,IAAD,EAAQ;AACnC05B,iBAAY15B,IAAZ;AACH,IAFD;AAGA,UAAO1F,IAAP;AACD,EAvED;mBAwEek/B,W;;;;;;;;;;;;ACjGf;;AACA;;;;AACA;;;;;;AAEA,KAAMM,MAAM,CAAC,GAAb,C,CAPA;;;;;AASA,KAAMC,UAAU,SAAVA,OAAU,CAACp/B,IAAD,EAAQ;AACtB,OAAIL,OAAO,EAAX;AACAA,QAAKO,IAAL,GAAY,IAAIC,KAAKC,SAAT,EAAZ;;AAGA,OAAIi/B,QAAQ,kBAAZ;;AAEA,OAAIr/B,KAAK+c,IAAT,EAAc;AACZsiB,aAAO,UAAUr/B,KAAK+c,IAAtB;AACD;;AAED,OAAIqe,YAAY,mBAAU99B,MAAV,CAAiB;AAC/BiZ,SAAI,UAD2B;AAE/BiK,gBAAW,QAFoB;AAG/BhY,eAAU,CACR;AACE+N,WAAI,YADN;AAEEiK,kBAAW,SAFb;AAGEpD,aAAMpd,KAAKod,IAHb;AAIEzW,cAAO;AACLoW,eAAMsiB;AADD,QAJT;AAOEl4B,iBAAUnH,KAAKmH;AAPjB,MADQ;AAHqB,IAAjB,CAAhB;AAeAxH,QAAKO,IAAL,CAAUgB,QAAV,CAAmBk6B,UAAUl7B,IAA7B;;AAID;;AAEC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGAP,QAAK2/B,QAAL,GAAgB,UAACt/B,IAAD,EAAMwB,EAAN,EAAW;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,SAAIytB,KAAK,IAAIzG,MAAMiF,KAAV,CAAgB,EAACjpB,OAAO,GAAR,EAAhB,EACNkpB,EADM,CACH,EAAClpB,OAAO,CAAR,EADG,EACQ,GADR,EAENmpB,QAFM,CAEG,YAAY;AACpByN,iBAAUmE,UAAV,CAAqBr/B,IAArB,CAA0BsE,KAA1B,GAAkC;AAChCpD,YAAG,KAAKoD,KADwB;AAEhCnD,YAAG,KAAKmD;AAFwB,QAAlC;AAID,MAPM,EAQNzC,UARM,CAQK,YAAY;AACtBiqB,kBAAW,YAAI;AACbkD,YAAGzuB,KAAH;AACA++B,YAAG/+B,KAAH;AACD,QAHD,EAGE,GAHF;AAID,MAbM,EAcNwwB,MAdM,CAcCzI,MAAM0I,MAAN,CAAaiG,KAAb,CAAmBC,EAdpB,CAAT;AAeAnI,QAAGxuB,KAAH;AACA,SAAIyuB,KAAK,IAAI1G,MAAMiF,KAAV,CAAgB,EAACpsB,GAAGrB,KAAKmH,QAAL,CAAc9F,CAAlB,EAAhB,EACNqsB,EADM,CACH,EAACrsB,GAAGrB,KAAKmH,QAAL,CAAc9F,CAAd,GAAkB,EAAtB,EADG,EACuB,GADvB,EAENssB,QAFM,CAEG,YAAY;AACpB3tB,YAAKmH,QAAL,CAAc9F,CAAd,GAAkB,KAAKA,CAAvB;AACD,MAJM,EAKNU,UALM,CAKK,YAAY;AACtB,WAAIP,EAAJ,EAAO;AACLA;AACD;AACF,MATM,EASJyvB,MATI,CASGzI,MAAM0I,MAAN,CAAaiG,KAAb,CAAmBC,EATtB,CAAT;;AAWA,SAAIoI,KAAK,IAAIhX,MAAMiF,KAAV,CAAgB,EAACxM,OAAO,CAAR,EAAhB,EACNyM,EADM,CACH,EAACzM,OAAO,CAAR,EADG,EACQ,GADR,EAEN0M,QAFM,CAEG,YAAY;AACpB3tB,YAAKihB,KAAL,GAAa,KAAKA,KAAlB;AACD,MAJM,EAKNlf,UALM,CAKK,YAAI;AACd,WAAIP,EAAJ,EAAO;AACLA;AACD;AACF,MATM,CAAT;AAWD,IAvDD;;AAyDA,UAAO7B,IAAP;AACD,EAxGD;AAyGA,KAAM8/B,YAAY,SAAZA,SAAY,GAAI;AACpB,OAAI9/B,OAAO,wBAAU,yBAAV,CAAX;AACAA,QAAK8X,SAAL,CAAe,MAAf,EAAsB,YAAI;AACxBta,aAAQC,GAAR,CAAY,oBAAZ;AACA,YAAO,IAAP;AACD,IAHD;;AAMA,OAAIsiC,YAAY,SAAZA,SAAY,CAACr6B,IAAD,EAAQ;AACtB,SAAIs6B,WAAWP,QAAQ/5B,IAAR,CAAf;AACA;AACAs6B,cAASL,QAAT,CAAkBj6B,IAAlB,EAAuB,YAAI;AACzB1F,YAAKO,IAAL,CAAUuB,WAAV,CAAsBk+B,SAASz/B,IAA/B;AACD,MAFD;AAGAP,UAAKO,IAAL,CAAUgB,QAAV,CAAmBy+B,SAASz/B,IAA5B;AACD,IAPD;;AAUA,OAAI0/B,cAAc,MAAlB;AACA,wBAAOpZ,MAAP,CAAcxL,EAAd,CAAiB,SAAjB,EAA2B,UAAC3V,IAAD,EAAQ;AACjC,SAAIu6B,gBAAgB,MAApB,EAA2B;AACzBA,qBAAc,OAAd;AACD,MAFD,MAEM;AACJA,qBAAc,MAAd;AACD;AACD,aAAQA,WAAR;AACE,YAAK,OAAL;;AAEEv6B,cAAK8B,QAAL,CAAc/F,CAAd,IAAmB,EAAnB;AACA;AACF,YAAK,MAAL;AACEiE,cAAK8B,QAAL,CAAc9F,CAAd,IAAmB,EAAnB;AACA;AACF;;AAEE;AAVJ;;AAcAlE,aAAQC,GAAR,CAAY,eAAegX,KAAKS,SAAL,CAAexP,IAAf,CAA3B;AACAq6B,eAAUr6B,IAAV;AAED,IAvBD;AAwBA,UAAO1F,IAAP;AACD,EA5CD;mBA6Ce8/B,S;;;;;;;;;;;;AC5Jf;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AARA;;;AASA,KAAI/E,WAAW,KAAf;AACA,KAAMmF,aAAc,SAAdA,UAAc,CAACC,MAAD,EAAQvI,IAAR,EAAar3B,IAAb,EAAkBsB,EAAlB,EAAuB;AACzC,OAAIk5B,QAAJ,EAAa;AACX;AACD;AACDA,cAAW,IAAX;AACAv9B,WAAQC,GAAR,CAAY,YAAZ;AACA,OAAIqH,SAAS,IAAI+jB,MAAMiF,KAAV,CAAgB,EAACrsB,GAAGlB,KAAKiH,QAAL,CAAc/F,CAAlB,EAAhB,EACVssB,EADU,CACP,EAACtsB,GAAG0+B,MAAJ,EADO,EACKvI,IADL,EAEV5J,QAFU,CAED,YAAY;AACpBztB,UAAKiH,QAAL,CAAc/F,CAAd,GAAkB,KAAKA,CAAvB;AACD,IAJU,EAKVW,UALU,CAKC,YAAY;AACtB24B,gBAAW,KAAX;AACA,SAAIl5B,EAAJ,EAAO;AACLA;AACD;AACF,IAVU,CAAb;AAWAiD,UAAOhE,KAAP;AACD,EAlBD;;AAoBA,KAAMs/B,WAAW,SAAXA,QAAW,GAAI;AACnB,OAAIpgC,OAAO,wBAAU,yBAAV,CAAX;AACAA,QAAK8X,SAAL,CAAe,MAAf,EAAsB,YAAI;;AAExB,YAAO,IAAP;AACD,IAHD;AAIA,OAAIuoB,aAAa,mBAAU1iC,MAAV,CAAiB;AAChCiZ,SAAI,QAD4B;AAEhCiK,gBAAW,QAFqB;AAGhCrf,aAAQ;AACNC,UAAG,CADG;AAENC,UAAG;AAFG,MAHwB;AAOhC8F,eAAU;AACR/F,UAAG,CAAC,GADI;AAERC,UAAG;AAFK,MAPsB;AAWhCmH,eAAU,CAAC;AACT+N,WAAI,IADK;AAETiK,kBAAW,QAFF;AAGTrZ,iBAAU;AACR/F,YAAG,CADK;AAERC,YAAG,CAAC;AAFI,QAHD;AAOTmH,iBAAW,YAAI;AACb,aAAIy3B,KAAK,EAAT;;AADa,oCAEJhiC,CAFI;AAGX,eAAI0yB,OAAO;AACTpa,iBAAI,eAAetY,CADV;AAETuiB,wBAAY,YAAI;AACd,mBAAGviB,IAAI,CAAP,EAAS;AACP,wBAAO,QAAP;AACD,gBAFD,MAEM;AACJ,wBAAO,OAAP;AACD;AACF,cANU,EAFF;AASTmf,mBAAMnf,IAAI,CAAJ,GAAQ,EATL;AAUTkJ,uBAAU;AACR/F,kBAAG,CADK;AAERC,kBAAGpD,IAAI,EAAJ,GAAS;AAFJ;AAVD,YAAX;AAeA,eAAGA,IAAE,CAAL,EAAO;AACL0yB,kBAAKlQ,KAAL,GAAa,oBAAU,cAAcxiB,IAAI,CAAlB,CAAV,CAAb;AACD,YAFD,MAEM;AACJ0yB,kBAAKvT,IAAL,GAAanf,IAAI,CAAL,GAAU,EAAtB;AACA0yB,kBAAKhqB,KAAL,GAAa;AACXoW,qBAAM,YADK;AAEXC,qBAAM;AAFK,cAAb;AAID;AACDijB,cAAG7hC,IAAH,CAAQuyB,IAAR;AA3BW;;AAEb,cAAK,IAAI1yB,IAAI,CAAb,EAAiBA,IAAI,CAArB,EAAyBA,GAAzB,EAA8B;AAAA,iBAArBA,CAAqB;AA0B7B;AACD,gBAAOgiC,EAAP;AACD,QA9BS,EAPD,EAAD,EAqCD,YAAI;AACX,WAAIA,KAAK;AACP1pB,aAAI,MADG;AAEPiK,oBAAW,QAFJ;AAGPhY,mBAAU;AAHH,QAAT;AAKA,YAAK,IAAKvK,IAAI,CAAd,EAAkBA,IAAI,CAAtB,EAA0BA,GAA1B,EAA+B;AAC7B,aAAI0yB,QAAO;AACTpa,eAAI,aAAatY,CADR;AAETuiB,sBAAW,QAFF;AAGThc,kBAAO;AACLpD,gBAAG,IADE;AAELC,gBAAG;AAFE,YAHE;AAOTof,kBAAO,oBAAUyf,SAPR;AAQT/4B,qBAAU;AACR/F,gBAAG,EADK;AAERC,gBAAGpD,IAAI,EAAJ,GAAS,IAAI,EAAJ,GAAS;AAFb,YARD;AAYTuK,qBAAU,CACR;AACE+N,iBAAI,MADN;AAEEiK,wBAAW,QAFb;AAGEC,oBAAO,oBAAU0f;AAHnB,YADQ;AAZD,UAAX;AAoBAF,YAAGz3B,QAAH,CAAYpK,IAAZ,CAAiBuyB,KAAjB;AACD;AACD,cAAOsP,EAAP;AACD,MA9BO,EArCE,EAoER;AACE1pB,WAAI,QADN;AAEEiK,kBAAW,QAFb;AAGES,cAAO,CAHT;AAIEzc,cAAO;AACLpD,YAAG,CADE;AAELC,YAAG;AAFE,QAJT;AAQEof,cAAO,oBAAU2f;AARnB,MApEQ;AAXsB,IAAjB,EAyFf,UAAC5E,MAAD,EAAU;AACV,SAAIA,OAAOjlB,EAAP,KAAc,QAAlB,EAA2B;AACzBpZ,eAAQC,GAAR,CAAY,KAAZ;AACAyiC,kBAAW,CAAC,GAAZ,EAAgB,GAAhB,EAAoBG,WAAW9/B,IAA/B,EAAoC,YAAI;AACtC2/B,oBAAW,EAAX,EAAc,GAAd,EAAkBQ,WAAWngC,IAA7B,EAAkC,YAAI,CAErC,CAFD;AAGD,QAJD;AAKD;AACF,IAlGgB,CAAjB;;AAsGA,OAAImgC,aAAa,mBAAU/iC,MAAV,CAAiB;AAChCiZ,SAAI,QAD4B;AAEhCiK,gBAAW,QAFqB;AAGhCrZ,eAAU;AACR/F,UAAG,CAAC,EADI;AAERC,UAAG;AAFK,MAHsB;AAOhCmH,eAAU,CACR;AACE+N,WAAI,IADN;AAEEiK,kBAAW,QAFb;AAGES,cAAO,CAHT;AAIER,cAAO,oBAAU2f;AAJnB,MADQ,EAOR;AACE7pB,WAAI,OADN;AAEEiK,kBAAW,OAFb;AAGEpD,aAAM,OAHR;AAIEjW,iBAAU;AACR/F,YAAG,CADK;AAERC,YAAG,CAAC;AAFI,QAJZ;AAQEsF,cAAO;AACLoW,eAAM,YADD;AAELC,eAAM;AAFD;AART,MAPQ,EAoBR;AACEzG,WAAI,WADN;AAEEiK,kBAAW,QAFb;AAGErZ,iBAAU;AACR/F,YAAG,CAAE,EADG;AAERC,YAAG;AAFK,QAHZ;AAOEmH,iBAAW,YAAI;AACb,aAAI83B,SAAS,EAAb;;AADa,sCAEJriC,CAFI;AAGX,eAAIgiC,KAAK;AACP1pB,iBAAI,UAAUtY,CADP;AAEPuiB,wBAAW,QAFJ;AAGPhY,uBAAU;AAHH,YAAT;AAKA,eAAImoB,OAAO;AACTpa,iBAAI,eAAetY,CADV;AAETuiB,wBAAY,YAAI;AACd,mBAAGviB,IAAI,CAAP,EAAS;AACP,wBAAO,QAAP;AACD,gBAFD,MAEM;AACJ,wBAAO,OAAP;AACD;AACF,cANU,EAFF;AASTkJ,uBAAU;AACR/F,kBAAG,CADK;AAERC,kBAAG,CAAE,CAAF,GAAM,EAAN,GAAW,GAAX,GAAiB,CAAE,EAAnB,GAAwB,KAAKpD;AAFxB;AATD,YAAX;AAcA,eAAIA,IAAI,CAAR,EAAU;AACR0yB,kBAAKlQ,KAAL,GAAa,oBAAU,cAAcxiB,IAAI,CAAlB,CAAV,CAAb;AACD,YAFD,MAEM;AACJ0yB,kBAAKhqB,KAAL,GAAa;AACXoW,qBAAM,YADK;AAEXC,qBAAM;AAFK,cAAb;AAIA2T,kBAAKvT,IAAL,GAAanf,IAAI,CAAjB;AACD;AACDgiC,cAAGz3B,QAAH,CAAYpK,IAAZ,CAAiBuyB,IAAjB;;AAGA,eAAI4P,YAAY;AACdhqB,iBAAI,cAActY,CADJ;AAEduiB,wBAAW,OAFG;AAGdpD,mBAAM,MAHQ;AAIdjc,qBAAQ;AACNC,kBAAG,GADG;AAENC,kBAAG;AAFG,cAJM;AAQdsF,oBAAO;AACLoW,qBAAM,YADD;AAELC,qBAAM;AAFD,cARO;AAYd7V,uBAAU;AACR/F,kBAAG,EADK;AAERC,kBAAG,CAAC,CAAD,GAAK,EAAL,GAAU,GAAV,GAAgB,EAAhB,GAAqB,KAAKpD;AAFrB;AAZI,YAAhB;AAiBAgiC,cAAGz3B,QAAH,CAAYpK,IAAZ,CAAiBmiC,SAAjB;AACA,eAAIxE,aAAa;AACfxlB,iBAAI,eAAetY,CADJ;AAEfuiB,wBAAW,OAFI;AAGfpD,mBAAM,GAHS;AAIfjc,qBAAQ;AACNC,kBAAG,CADG;AAENC,kBAAG;AAFG,cAJO;AAQfsF,oBAAO;AACLoW,qBAAM,YADD;AAELC,qBAAM;AAFD,cARQ;AAYf7V,uBAAU;AACR/F,kBAAG,GADK;AAERC,kBAAG,CAAC,CAAD,GAAK,EAAL,GAAU,GAAV,GAAgB,EAAhB,GAAqB,KAAKpD;AAFrB;AAZK,YAAjB;;AAkBAgiC,cAAGz3B,QAAH,CAAYpK,IAAZ,CAAiB29B,UAAjB;;AAEAuE,kBAAOliC,IAAP,CAAY6hC,EAAZ;AAxEW;;AAEb,cAAK,IAAIhiC,IAAI,CAAb,EAAiBA,IAAI,CAArB,EAAyBA,GAAzB,EAA8B;AAAA,kBAArBA,CAAqB;AAuE7B;AACD,gBAAOqiC,MAAP;AACD,QA3ES;AAPZ,MApBQ,EAwGR;AACE/pB,WAAI,QADN;AAEEiK,kBAAW,QAFb;AAGES,cAAO,CAHT;AAIER,cAAO,oBAAU2f;AAJnB,MAxGQ;AAPsB,IAAjB,EAsHf,UAAC5E,MAAD,EAAU;AACV,SAAIA,OAAOjlB,EAAP,KAAc,QAAlB,EAA2B;AACzBpZ,eAAQC,GAAR,CAAY,KAAZ;AACAyiC,kBAAW,CAAC,EAAZ,EAAe,GAAf,EAAmBQ,WAAWngC,IAA9B,EAAmC,YAAI;AACrC2/B,oBAAW,EAAX,EAAc,GAAd,EAAkBG,WAAW9/B,IAA7B,EAAkC,YAAI,CAErC,CAFD;AAGD,QAJD;AAKD;AACF,IA/HgB,CAAjB;;AAqIAP,QAAKO,IAAL,CAAUgB,QAAV,CAAmBm/B,WAAWngC,IAA9B;;AAGAP,QAAKO,IAAL,CAAUgB,QAAV,CAAmB8+B,WAAW9/B,IAA9B;;AASA,OAAMsgC,cAAc,SAAdA,WAAc,CAACC,MAAD,EAAQC,OAAR,EAAkB;AACpCvjC,aAAQC,GAAR,CAAY,UAAUgX,KAAKS,SAAL,CAAe4rB,MAAf,CAAtB;AACA;AACA,8BAAStN,cAAT,CAAwBsN,OAAOrpB,GAA/B,EAAmC,UAAC/R,IAAD,EAAQ;AACzC,WAAIq7B,QAAQC,QAAZ,EAAqB;AACnBD,iBAAQC,QAAR,CAAiBzgC,IAAjB,CAAsBgB,QAAtB,CAA+B,wBAAS,EAACuf,OAAOpb,KAAKu7B,MAAb,EAAT,CAA/B;AACD;AACD,WAAIF,QAAQH,SAAZ,EAAsB;AACpBG,iBAAQH,SAAR,CAAkBnjB,IAAlB,GAAyB/X,KAAKw7B,QAA9B;AACAH,iBAAQH,SAAR,CAAkB55B,KAAlB,GAA0B;AACxBoW,iBAAM,YADkB;AAExBC,iBAAMyjB,OAAOrpB,GAAP,KAAe,qBAAO7Y,UAAP,CAAkB6Y,GAAjC,GAAuC,SAAvC,GAAiD;AAF/B,UAA1B;AAID;AACF,MAXD;AAYA,SAAIspB,QAAQ3E,UAAZ,EAAuB;AACrB2E,eAAQ3E,UAAR,CAAmB3e,IAAnB,GAA0BqjB,OAAO9Z,KAAP,GAAe,EAAzC;AACA+Z,eAAQ3E,UAAR,CAAmBp1B,KAAnB,GAA2B;AACzBoW,eAAM,YADmB;AAEzBC,eAAMyjB,OAAOrpB,GAAP,KAAe,qBAAO7Y,UAAP,CAAkB6Y,GAAjC,GAAuC,SAAvC,GAAiD;AAF9B,QAA3B;AAID;AACD,SAAIspB,QAAQI,UAAZ,EAAuB;AACtB;AACC;AACA;AACA;AACA;AACA,WAAIL,OAAOM,OAAX,EAAmB;AACjBL,iBAAQI,UAAR,CAAmB1jB,IAAnB,GAA0BqjB,OAAOM,OAAjC;AACD;AACDL,eAAQI,UAAR,CAAmBn6B,KAAnB,GAA2B;AACzBoW,eAAM,YADmB;AAEzBC,eAAMyjB,OAAOrpB,GAAP,KAAe,qBAAO7Y,UAAP,CAAkB6Y,GAAjC,GAAuC,SAAvC,GAAmD;AAFhC,QAA3B;AAID;;AAGD,SAAIspB,QAAQM,WAAZ,EAAwB;AACtB,WAAIP,OAAOM,OAAX,EAAmB;AACjBL,iBAAQM,WAAR,CAAoB5jB,IAApB,GAA2BqjB,OAAOM,OAAlC;AACD;AACDL,eAAQM,WAAR,CAAoBr6B,KAApB,GAA4B;AAC1BoW,eAAM,YADoB;AAE1BC,eAAMyjB,OAAOrpB,GAAP,KAAe,qBAAO7Y,UAAP,CAAkB6Y,GAAjC,GAAuC,SAAvC,GAAmD;AAF/B,QAA5B;AAID;AAGF,IAjDD;;AAmDA,wBAAO7Y,UAAP,CAAkBm0B,eAAlB,CAAkC,UAACrtB,IAAD,EAAQ;AACxClI,aAAQC,GAAR,CAAY,gBAAgBgX,KAAKS,SAAL,CAAexP,IAAf,CAA5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,UAAK,IAAIpH,IAAI,CAAb,EAAiBA,IAAI,CAArB,EAAyBA,GAAzB,EAA8B;AAC5B,WAAIA,IAAIoH,KAAK47B,IAAL,CAAUC,OAAV,CAAkBl8B,MAA1B,EAAiC;AAC/B,aAAIoS,MAAM/R,KAAK47B,IAAL,CAAUC,OAAV,CAAkBjjC,CAAlB,CAAV;AACA,aAAI0oB,QAAQthB,KAAK47B,IAAL,CAAUE,MAAV,CAAiBljC,CAAjB,CAAZ;AACAuiC,qBAAY;AACVppB,gBAAKA,GADK;AAEVuP,kBAAOA;AAFG,UAAZ,EAGE;AACAga,qBAAUX,WAAW,aAAa/hC,CAAxB,CADV;AAEAsiC,sBAAWF,WAAW,cAAcpiC,CAAzB,CAFX;AAGA89B,uBAAYsE,WAAW,eAAepiC,CAA1B,CAHZ;AAIA6iC,uBAAYT,WAAW,eAAepiC,CAA1B,CAJZ;AAKA+iC,wBAAahB,WAAW,eAAe/hC,CAA1B;AALb,UAHF;AAUD,QAbD,MAaM;AACJ+hC,oBAAW,aAAa/hC,CAAxB,EAA2BiC,IAA3B,CAAgC6C,OAAhC,GAA0C,KAA1C;AACAs9B,oBAAW,UAAUpiC,CAArB,EAAwBiC,IAAxB,CAA6B6C,OAA7B,GAAuC,KAAvC;AACD;AACF;AACD,SAAIq+B,OAAO,qBAAO7iC,UAAP,CAAkB6Y,GAAzB,EAA6B/R,KAAK47B,IAAL,CAAUC,OAAvC,CAAJ,EAAoD,CAGnD,CAHD,MAGM;AACJ/jC,eAAQC,GAAR,CAAY,OAAZ;AACAojC,mBAAY;AACVppB,cAAK,qBAAO7Y,UAAP,CAAkB6Y,GADb;AAEVuP,gBAAOthB,KAAKg8B,UAFF;AAGVN,kBAAS17B,KAAKi8B,SAAL,KAAiB,CAAC,CAAlB,GAAoB,GAApB,GAAwBj8B,KAAKi8B;AAH5B,QAAZ,EAIE;AACAX,mBAAUX,WAAW,WAAX,CADV;AAEAO,oBAAWF,WAAW,YAAX,CAFX;AAGAtE,qBAAYsE,WAAW,aAAX,CAHZ;AAIAS,qBAAYT,WAAW,aAAX,CAJZ;AAKAW,sBAAahB,WAAW,aAAX;AALb,QAJF;AAWD;;AAGD7iC,aAAQC,GAAR,CAAY,eAAeiI,KAAKi8B,SAAhC;AAGD,IApDD,EAoDE,CApDF,EAoDI,CApDJ;;AAwDA,OAAMF,SAAS,SAATA,MAAS,CAAC1c,KAAD,EAAOvf,IAAP,EAAc;AAC3B,SAAIo8B,OAAO,KAAX;AACA,UAAK,IAAItjC,IAAI,CAAb,EAAiBA,IAAIkH,KAAKH,MAA1B,EAAkC/G,GAAlC,EAAuC;AACrC,WAAIkH,KAAKlH,CAAL,MAAYymB,KAAhB,EAAsB;AACpB6c,gBAAO,IAAP;AACD;AACF;AACD,YAAOA,IAAP;AACD,IARD;;AAUA5hC,QAAK6hC,KAAL,GAAa,YAAI;AACf3B,gBAAW,EAAX,EAAc,GAAd,EAAkBG,WAAW9/B,IAA7B,EAAkC,YAAI,CAErC,CAFD;AAGD,IAJD;AAKAP,QAAKusB,UAAL,GAAkB,YAAI;;AAEpBvsB,UAAKygB,MAAL,CAAY3e,WAAZ,CAAwB9B,KAAKO,IAA7B;AACD,IAHD;;AAKA,UAAOP,IAAP;AACD,EA7XD;AA8XA,KAAM8hC,YAAY;AAChB7b,aAAW,CAAC,CADI;AAEhB8b,UAAO,CAFS;AAGhBrE,QAAI,CAHY;AAIhBrW,SAAM;AAJU,EAAlB;AAMA,KAAM2a,YAAY,SAAZA,SAAY,GAAI;AACpB,OAAIhiC,OAAO,wBAAU,yBAAV,CAAX;AACAA,QAAK8X,SAAL,CAAe,MAAf,EAAsB,YAAI,CAEzB,CAFD;AAGA,OAAI6B,SAASmoB,UAAU7b,QAAvB;AACA,OAAIgc,YAAY,IAAhB;AACA,OAAIpnB,YAAY,SAAZA,SAAY,CAAC3V,KAAD,EAAS;AACvB,SAAIyU,WAAWzU,KAAf,EAAqB;AACnB;AACD;AACDyU,cAASzU,KAAT;AACA,aAAQyU,MAAR;AACE,YAAKmoB,UAAUC,KAAf;AACEvkC,iBAAQC,GAAR,CAAY,OAAZ;AACAwkC,qBAAY7B,UAAZ;AACA6B,mBAAUljC,IAAV;AACAkjC,mBAAUne,SAAV,CAAoB9jB,IAApB;AACAiiC,mBAAUJ,KAAV;;AAGA;AACF,YAAKC,UAAUza,IAAf;AACE7pB,iBAAQC,GAAR,CAAY,OAAZ;AACA;AACA,aAAIwkC,SAAJ,EAAc;AACZjiC,gBAAKO,IAAL,CAAUuB,WAAV,CAAsBmgC,UAAU1hC,IAAhC;AACD;;AAED;AACF;;AAEA;AApBF;AAsBD,IA3BD;;AA6BAsa,aAAUinB,UAAUC,KAApB;;AAEA,wBAAOlb,MAAP,CAAcxL,EAAd,CAAiB,eAAjB,EAAiC,YAAI;AACnCR,eAAUinB,UAAUza,IAApB;AACAxM,eAAUinB,UAAUC,KAApB;AACD,IAHD;;AAMA,UAAO/hC,IAAP;AACD,EA7CD;mBA8CegiC,S;;;;;;;;;;;;AC7cf;;AACA;;;;;;AAJA;;;AAKA,KAAME,WAAW,SAAXA,QAAW,CAACx8B,IAAD,EAAQ;AACvB,OAAI1F,OAAO,IAAIQ,KAAKC,SAAT,EAAX;AACA,OAAIqgB,QAAQ,0EAAZ;AACA,OAAIpb,KAAKob,KAAT,EAAe;AACbA,aAAQpb,KAAKob,KAAb;AACD;AACD;AACA;AACA;AACA;AACA;;AAEA,OAAIkgB,WAAW,IAAIxgC,KAAKa,MAAL,CAAYyV,SAAhB,CAA0B,oBAAUwjB,IAApC,CAAf;AACA0G,YAASx/B,MAAT,GAAkB;AAChBC,QAAG,GADa;AAEhBC,QAAG;AAFa,IAAlB;AAIA,OAAIo9B,WAAW,gBAAOzyB,iBAAP,CAAyByU,KAAzB,EAA+B,EAA/B,CAAf;AACAtjB,WAAQC,GAAR,CAAY,iBAAiBqhC,QAA7B;AACA,OAAIvkB,OAAO,IAAI/Z,KAAKa,MAAL,CAAYyV,SAAhB,CAA0B,oBAAUqrB,UAApC,CAAX;AACA5nB,QAAK/Y,MAAL,GAAc;AACZC,QAAG,GADS;AAEZC,QAAG;AAFS,IAAd;AAIA1B,QAAKuB,QAAL,CAAcgZ,IAAd;AACAva,QAAKua,IAAL,GAAYA,IAAZ;AACA,OAAI6nB,OAAO,IAAI5hC,KAAKqW,OAAL,CAAaC,SAAjB,CAA2BgoB,QAA3B,CAAX;AACAkC,YAAS/jB,OAAT,GAAmBmlB,IAAnB;AACApiC,QAAKuB,QAAL,CAAcy/B,QAAd;AACA,UAAOhhC,IAAP;AACD,EA9BD;mBA+BekiC,Q;;;;;;;;;;;;ACjCf;;AACA;;;;AACA;;;;AACA;;;;;;AANA;;;AAOA,KAAMG,aAAa,SAAbA,UAAa,GAAI;AACrB,OAAIriC,OAAO,wBAAU,yBAAV,CAAX;AACAA,QAAK8X,SAAL,CAAe,MAAf,EAAsB,YAAI;AACxB,YAAO,IAAP;AACD,IAFD;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAIwqB,cAAc,IAAI9hC,KAAKa,MAAL,CAAYyV,SAAhB,CAA0B,oBAASyrB,OAAnC,CAAlB;AACA;AACAD,eAAYhhB,KAAZ,GAAoB,CAApB;AACAghB,eAAYz9B,KAAZ,GAAoB;AAClBpD,QAAG,GADe;AAElBC,QAAG;AAFe,IAApB;AAIA1B,QAAKO,IAAL,CAAUgB,QAAV,CAAmB+gC,WAAnB;;AAEA,OAAIE,UAAU,SAAVA,OAAU,GAAI;AAChB,SAAIC,UAAU,IAAI5Z,MAAMiF,KAAV,CAAgB,EAACxM,OAAO,CAAR,EAAhB,EACXyM,EADW,CACR,EAACzM,OAAO,CAAR,EADQ,EACG,GADH,EAEX0M,QAFW,CAEF,YAAY;AACpBsU,mBAAYhhB,KAAZ,GAAoB,KAAKA,KAAzB;AACD,MAJW,CAAd;AAKAmhB,aAAQ3hC,KAAR;AACD,IAPD;;AASA,OAAI4hC,WAAW,SAAXA,QAAW,CAAC7gC,EAAD,EAAM;AACnB,SAAI8gC,WAAW,IAAI9Z,MAAMiF,KAAV,CAAgB,EAACxM,OAAOghB,YAAYhhB,KAApB,EAAhB,EACZyM,EADY,CACT,EAACzM,OAAO,CAAR,EADS,EACE,GADF,EAEZ0M,QAFY,CAEH,YAAY;AACpBsU,mBAAYhhB,KAAZ,GAAoB,KAAKA,KAAzB;AACD,MAJY,EAKZlf,UALY,CAKD,YAAY;AACtB,WAAIP,EAAJ,EAAO;AACLA;AACD;AACF,MATY,CAAf;AAUA8gC,cAAS7hC,KAAT;AACD,IAZD;;AAcA,wBAAO+lB,MAAP,CAAcxL,EAAd,CAAiB,YAAjB,EAA8B,UAACnW,KAAD,EAAS;AACrC,SAAIA,UAAU,OAAd,EAAsB;AACpB;AACAs9B;AACD,MAHD,MAGM;AACJE,gBAAS,YAAI;AACX;AACD,QAFD;AAGD;AACF,IATD;;AAYA,UAAO1iC,IAAP;AACD,EAnED;mBAoEeqiC,U;;;;;;;;;;;;ACxEf;;AACA,KAAMO,SAAS,SAATA,MAAS,CAACviC,IAAD,EAAQ;AACrB,OAAIL,OAAO,wBAAU,yBAAV,CAAX;AACA,OAAI6iC,aAAaxiC,KAAKsnB,SAAtB;AACA,OAAImb,cAAcziC,KAAKunB,UAAvB;AACA,OAAImb,SAAS1iC,KAAKgiB,QAAlB;AACA,OAAI2gB,UAAU3iC,KAAKwnB,SAAnB;;AAGA,OAAIob,aAAa,IAAIziC,KAAKC,SAAT,EAAjB;AACAT,QAAKO,IAAL,CAAUgB,QAAV,CAAmB0hC,UAAnB;;AAEA,OAAIC,aAAa,IAAI1iC,KAAKC,SAAT,EAAjB;AACAT,QAAKO,IAAL,CAAUgB,QAAV,CAAmB2hC,UAAnB;;AAGA,OAAIC,cAAc,IAAI3iC,KAAKC,SAAT,EAAlB;AACAT,QAAKO,IAAL,CAAUgB,QAAV,CAAmB4hC,WAAnB;;AAEA,OAAIC,YAAY,EAAhB;;AAEApjC,QAAK8X,SAAL,CAAe,MAAf,EAAsB,YAAI;;AAExBta,aAAQC,GAAR,CAAY,aAAZ;AACA,YAAO,IAAP;AACD,IAJD;;AASAuC,QAAKua,IAAL,GAAY,UAACuG,KAAD,EAAS;AACnBoiB,gBAAW3hC,QAAX,CAAoB,IAAIf,KAAKa,MAAL,CAAYyV,SAAhB,CAA0BgK,KAA1B,CAApB;AACD,IAFD;;AAKA,OAAIzgB,KAAKgjC,SAAT,EAAmB;AACjBrjC,UAAKua,IAAL,CAAUla,KAAKgjC,SAAf;AACD;;AAEDrjC,QAAKsjC,MAAL,GAAc,UAACt6B,MAAD,EAAU;;AAGtB,SAAIA,OAAOu6B,SAAX,EAAqB;AACnBvjC,YAAKwjC,UAAL,GAAkBx6B,MAAlB;AACA;AACA;AACD,MAJD,MAIM;AACJxL,eAAQC,GAAR,CAAY,mBAAZ;AACD;AAEF,IAXD;AAYA,OAAIihC,cAAc,SAAdA,WAAc,CAAC11B,MAAD,EAAQ+b,KAAR,EAAcljB,EAAd,EAAiBuE,QAAjB,EAA4B;AAC5C,SAAItB,SAAS,IAAI+jB,MAAMiF,KAAV,CAAgB,EAACjpB,OAAOmE,OAAOnE,KAAP,CAAapD,CAArB,EAAhB,EACVssB,EADU,CACP,EAAClpB,OAAOkgB,KAAR,EADO,EACQ,GADR,EAEViJ,QAFU,CAED,YAAY;;AAEpBhlB,cAAOxB,QAAP,GAAkB;AAChB/F,YAAI,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAAzC,IAAgD,KAAK9C,KAAL,GAAa,CAA7D,IAAkEuB,QADtD;AAEhB1E,YAAI,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,IAAiD,KAAKhD,KAAL,GAAY,CAA7D,IAAkEuB;AAFtD,QAAlB;AAIA4C,cAAOnE,KAAP,GAAe;AACbpD,YAAG,KAAKoD,KADK;AAEbnD,YAAG,KAAKmD;AAFK,QAAf;AAID,MAZU,EAaXzC,UAbW,CAaA,YAAI;AACb,WAAIP,EAAJ,EAAO;AACLA;AACD;AACF,MAjBU,EAiBRyvB,MAjBQ,CAiBDzI,MAAM0I,MAAN,CAAaiG,KAAb,CAAmBC,EAjBlB,CAAb;AAkBA3yB,YAAOhE,KAAP;AACD,IApBD;AAqBAd,QAAKmoB,MAAL,GAAc,UAACpD,KAAD,EAAS;AACrB;AACA;AACA;AACA;;AAEA,SAAIpkB,QAAQ,CAAZ;AACA,SAAIkB,KAAK,SAALA,EAAK,GAAI;AACXlB;AACA,WAAIA,UAAUyiC,UAAU/9B,MAAxB,EAA+B;AAC7B7H,iBAAQC,GAAR,CAAY,QAAZ;AACD;AACF,MALD;AAMA,UAAK,IAAIa,IAAI,CAAb,EAAiBA,IAAI8kC,UAAU/9B,MAA/B,EAAwC/G,GAAxC,EAA6C;AAC3C8kC,iBAAU9kC,CAAV,EAAamlC,QAAb,GAAwBL,UAAU9kC,CAAV,EAAauG,KAArC;AACA65B,mBAAY0E,UAAU9kC,CAAV,CAAZ,EAAyBymB,KAAzB,EAA+BljB,EAA/B,EAAkC,CAAC,CAAnC;AACD;AACF,IAjBD;;AAqBA7B,QAAKooB,OAAL,GAAe,UAACrD,KAAD,EAAS;AACtB,SAAIpkB,QAAQ,CAAZ;AACA,UAAK,IAAIrC,IAAI,CAAb,EAAiBA,IAAI8kC,UAAU/9B,MAA/B,EAAwC/G,GAAxC,EAA6C;AAC3C8kC,iBAAU9kC,CAAV,EAAauG,KAAb,GAAqBu+B,UAAU9kC,CAAV,EAAamlC,QAAlC;AACAL,iBAAU9kC,CAAV,EAAakJ,QAAb,GAAwB;AACtB/F,YAAG,CADmB;AAEtBC,YAAG;AAFmB,QAAxB;AAID;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,IAlBD;;AAqBA,OAAMgiC,cAAc,SAAdA,WAAc,CAACnjC,IAAD,EAAMwkB,KAAN,EAAc;AAChC,SAAIxkB,KAAKw6B,QAAL,KAAkB,KAAtB,EAA4B;AAC1Bx6B,YAAKw6B,QAAL,GAAgB,IAAhB;AACD,MAFD,MAEM;AACJ;AACD;AACD,SAAI4I,aAAapjC,KAAKiH,QAAL,CAAc/F,CAAd,GAAkBsjB,KAAnC;AACA,SAAI6e,cAAcrjC,KAAKiH,QAAL,CAAc/F,CAAd,GAAkBsjB,KAApC;AACA,SAAIjgB,SAAS,IAAI+jB,MAAMiF,KAAV,CAAgB,EAAC/I,OAAOxkB,KAAKiH,QAAL,CAAc/F,CAAtB,EAAhB,EACVssB,EADU,CACP,EAAChJ,OAAO4e,UAAR,EADO,EACa,EADb,EAEV3V,QAFU,CAED,YAAY;AACpBztB,YAAKiH,QAAL,CAAc/F,CAAd,GAAkB,KAAKsjB,KAAvB;AACD,MAJU,EAKV3iB,UALU,CAKC,YAAI;AACduuB,eAAQ7vB,KAAR;AACD,MAPU,CAAb;AAQAgE,YAAOhE,KAAP;AACA,SAAI6vB,UAAU,IAAI9H,MAAMiF,KAAV,CAAgB,EAAC/I,OAAOxkB,KAAKiH,QAAL,CAAc/F,CAAtB,EAAhB,EACXssB,EADW,CACR,EAAChJ,OAAO6e,WAAR,EADQ,EACa,EADb,EAEX5V,QAFW,CAEF,YAAY;AACpBztB,YAAKiH,QAAL,CAAc/F,CAAd,GAAkB,KAAKsjB,KAAvB;AACD,MAJW,EAKX3iB,UALW,CAKA,YAAY;AACtB7B,YAAKw6B,QAAL,GAAgB,KAAhB;AACD,MAPW,CAAd;AASD,IA1BD;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA/6B,QAAKqoB,WAAL,GAAmB,YAAK;AACtB7qB,aAAQC,GAAR,CAAY,cAAZ;AACA;AACA;AACA;AACA;AACA;AACA;AACD,IARD;;AAUAuC,QAAK6jC,eAAL,GAAuB,UAAC76B,MAAD,EAAU;AAC/B;AACAi6B,gBAAW1hC,QAAX,CAAoByH,MAApB;AACD,IAHD;;AAKAhJ,QAAKkoB,WAAL,GAAmB,UAAClf,MAAD,EAAU;AAC3B;AACA;AACAo6B,eAAU3kC,IAAV,CAAeuK,MAAf;AACD,IAJD;AAKAhJ,QAAK8jC,YAAL,GAAoB,YAAI;;AAEtB,SAAI9jC,KAAKwjC,UAAT,EAAoB;AAClB,WAAIroB,MAAM,mBAAK0nB,aAAW,CAAhB,EAAkBC,cAAY,CAA9B,EAAiCje,GAAjC,CAAqC7kB,KAAKwjC,UAAL,CAAgBD,SAArD,CAAV;AACApoB,WAAI1Z,CAAJ,GAAQkF,KAAKC,GAAL,CAAS,CAAT,EAAWuU,IAAI1Z,CAAf,CAAR;AACA0Z,WAAI1Z,CAAJ,GAAQkF,KAAK+C,GAAL,CAASm5B,aAAaE,MAAtB,EAA6B5nB,IAAI1Z,CAAjC,CAAR;AACA0Z,WAAIzZ,CAAJ,GAAQiF,KAAKC,GAAL,CAAS,CAAT,EAAWuU,IAAIzZ,CAAf,CAAR;AACAyZ,WAAIzZ,CAAJ,GAAQiF,KAAK+C,GAAL,CAASo5B,cAAcE,OAAvB,EAA+B7nB,IAAIzZ,CAAnC,CAAR;AACAuhC,kBAAWz7B,QAAX,GAAsB;AACpB/F,YAAG0Z,IAAI1Z,CADa;AAEpBC,YAAGyZ,IAAIzZ;AAFa,QAAtB;AAIAyhC,mBAAY37B,QAAZ,GAAuB;AACrB/F,YAAG0Z,IAAI1Z,CADc;AAErBC,YAAGyZ,IAAIzZ;AAFc,QAAvB;AAMD,MAhBD,MAgBM,CAEL;AACF,IArBD;;AAyBA1B,QAAK+jC,YAAL,GAAoB,YAAI;AACtB,YAAOvjC,KAAKyW,SAAL,CAAegsB,WAAWz7B,QAAX,CAAoB/F,CAAnC,EAAqCwhC,WAAWz7B,QAAX,CAAoB9F,CAAzD,EAA2DmhC,UAA3D,EAAsEC,WAAtE,CAAP;AACD,IAFD;;AAMA;AACA;AACA;;AAEA,UAAO9iC,IAAP;AAED,EAjND,C,CAJA;;;mBAsNe4iC,M;;;;;;;;;;;;ACnNf;;;;AACA;;;;;;AAJA;;;AAKA,KAAMoB,aAAa,SAAbA,UAAa,GAAI;AACtB,OAAIhkC,OAAO,IAAIQ,KAAKC,SAAT,EAAX;AACC,wBAAOomB,MAAP,CAAcxL,EAAd,CAAiB,OAAjB,EAAyB,UAAC3V,IAAD,EAAQ;AAC/B;AACAu+B,YAAOv+B,IAAP;AAGD,IALD;;AAQA;AACA;AACA;AACA;AACA,OAAIw+B,eAAe,IAAI1jC,KAAK+c,IAAT,CAAc,sBAAQ3O,WAAR,GAAsB,GAAtB,GAA4B,qBAAOhQ,UAAP,CAAkB6Y,GAA5D,EAAgE;AAC/E2F,WAAM,MADyE;AAE/EC,WAAM;AAFyE,IAAhE,CAAnB;AAIA6mB,gBAAa18B,QAAb,GAAwB;AACtB/F,QAAG,EADmB;AAEtBC,QAAG;AAFmB,IAAxB;AAIA;;;AAKA,OAAIyiC,SAAS,EAAb;AACA,OAAIC,YAAY,SAAZA,SAAY,GAAI;AAClB,SAAID,OAAO9+B,MAAP,GAAgB,EAApB,EAAuB;AACrBrF,YAAK8B,WAAL,CAAiBqiC,OAAO,CAAP,CAAjB;AACAA,cAAOvwB,MAAP,CAAc,CAAd,EAAgB,CAAhB;AACA,YAAK,IAAItV,IAAI,CAAb,EAAgBA,IAAI6lC,OAAO9+B,MAA3B,EAAoC/G,GAApC,EAAyC;AACvC6lC,gBAAO7lC,CAAP,EAAUkJ,QAAV,CAAmB9F,CAAnB,GAAuB,KAAKpD,IAAI,EAAhC;AACD;AACD8lC;AACD,MAPD,MAOM,CAEL;AACF,IAXD;AAYA,OAAIH,SAAS,SAATA,MAAS,CAAC1lC,GAAD,EAAO;AAClB,SAAIkf,OAAO,IAAIjd,KAAK+c,IAAT,CAAchf,GAAd,EAAkB;AAC3B8e,aAAM;AADqB,MAAlB,CAAX;AAGArd,UAAKuB,QAAL,CAAckc,IAAd;AACAA,UAAKjW,QAAL,CAAc/F,CAAd,GAAkB,CAAlB;AACA,SAAI0iC,OAAO9+B,MAAP,KAAkB,CAAtB,EAAyB;AACvBoY,YAAKjW,QAAL,CAAc9F,CAAd,GAAkB,EAAlB;AACD,MAFD,MAEM;AACJ+b,YAAKjW,QAAL,CAAc9F,CAAd,GAAkByiC,OAAOA,OAAO9+B,MAAP,GAAgB,CAAvB,EAA0BmC,QAA1B,CAAmC9F,CAAnC,GAAuC,EAAzD;AACD;AACDyiC,YAAO1lC,IAAP,CAAYgf,IAAZ;AACA2mB;AAGD,IAfD;;AAsBA,UAAOpkC,IAAP;AACD,EA/DD;mBAgEegkC,U;;;;;;;;;;;;AClEf;;AACA;;;;AACA;;;;AACA;;;;;;AANA;;;AAOA,KAAMK,UAAU,SAAVA,OAAU,GAAI;AAClB,OAAIrkC,OAAO,wBAAU,yBAAW,IAAX,CAAV,CAAX;AACAA,QAAK8X,SAAL,CAAe,MAAf,EAAsB,YAAI;AACxB;AACA9X,UAAKO,IAAL,CAAU8Z,WAAV,GAAwB,IAAxB;AACA,YAAO,IAAP;AACD,IAJD;;AAMA,OAAIiqB,SAAS,EAAb;AACA,OAAIC,eAAe,IAAnB;AACA,OAAIC,UAAU,IAAd;AACA,OAAIC,cAAc,CAAlB;;AAEA,OAAIld,MAAM,IAAI/mB,KAAKa,MAAL,CAAYyV,SAAhB,CAA0B,oBAAU0Q,EAApC,CAAV;AACAD,OAAI/lB,MAAJ,GAAa;AACXC,QAAG,GADQ;AAEXC,QAAG;AAFQ,IAAb;AAIA6lB,OAAI/f,QAAJ,GAAe;AACb/F,QAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAD/B;AAEbjG,QAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C;AAFhC,IAAf;AAIA0f,OAAIjG,KAAJ,GAAY,CAAZ;AACAthB,QAAKO,IAAL,CAAUgB,QAAV,CAAmBgmB,GAAnB;;AAEA;;AAEA,OAAImd,aAAa,mBAAU/mC,MAAV,CAAiB;AAChCiZ,SAAI,WAD4B;AAEhCiK,gBAAW,QAFqB;AAGhChY,eAAU,CACR;AACE+N,WAAI,OADN;AAEEiK,kBAAW,QAFb;AAGEC,cAAO,oBAAU6jB,eAHnB;AAIEn9B,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADpC;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C;AAFrC;AAJZ,MADQ,EASN;AACA+O,WAAI,WADJ;AAEAiK,kBAAW,SAFX;AAGApD,aAAM,CAHN;AAIAzW,cAAO;AACLoW,eAAM;AADD,QAJP;AAOA5V,iBAAS;AACP/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADrC;AAEPjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,IAA1C,GAAiD;AAF7C;AAPT,MATM;AAHsB,IAAjB,CAAjB;AA0BA7H,QAAKO,IAAL,CAAUgB,QAAV,CAAmBmjC,WAAWnkC,IAA9B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAIqkC,YAAY,mBAAUjnC,MAAV,CAAiB;AAC/BiZ,SAAI,UAD2B;AAE/BiK,gBAAW,QAFoB;AAG/BhY,eAAU,CACR;AACE+N,WAAI,MADN;AAEEiK,kBAAW,QAFb;AAGEC,cAAO,oBAAU+jB,cAHnB;AAIEr9B,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADpC;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCG,GAAjC,GAAuC;AAFlC;AAJZ,MADQ;AAHqB,IAAjB,CAAhB;AAeA5H,QAAKO,IAAL,CAAUgB,QAAV,CAAmBqjC,UAAUrkC,IAA7B;;AAIA,OAAIukC,aAAa,mBAAUnnC,MAAV,CAAiB;AAChCiZ,SAAI,WAD4B;AAEhCiK,gBAAW,QAFqB;AAGhChY,eAAU,CACR;AACE+N,WAAI,QADN;AAEEiK,kBAAW,QAFb;AAGEC,cAAO,oBAAUikB,MAHnB;AAIEv9B,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADpC;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C;AAFrC;AAJZ,MADQ,EASN;AACA+O,WAAI,QADJ;AAEAiK,kBAAW,QAFX;AAGAC,cAAO,oBAAUkkB,MAHjB;AAIAx9B,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADpC;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C;AAFrC;AAJV,MATM,EAiBN;AACA+O,WAAI,QADJ;AAEAiK,kBAAW,QAFX;AAGAC,cAAO,oBAAUmkB,MAHjB;AAIAz9B,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADpC;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C;AAFrC;AAJV,MAjBM;AAHsB,IAAjB,CAAjB;AA+BA7H,QAAKO,IAAL,CAAUgB,QAAV,CAAmBujC,WAAWvkC,IAA9B;AACAukC,cAAWC,MAAX,CAAkB3hC,OAAlB,GAA4B,KAA5B;AACA0hC,cAAWE,MAAX,CAAkB5hC,OAAlB,GAA4B,KAA5B;AACA0hC,cAAWG,MAAX,CAAkB7hC,OAAlB,GAA4B,KAA5B;;AAEA,OAAI8hC,WAAW,mBAAUvnC,MAAV,CAAiB;AAC9BiZ,SAAI,SAD0B;AAE9BiK,gBAAW,QAFmB;AAG9BhY,eAAU,CACR;AACE+N,WAAI,OADN;AAEEiK,kBAAW,QAFb;AAGEC,cAAO,oBAAUqkB,KAHnB;AAIE39B,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADpC;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C;AAFrC;AAJZ,MADQ,EASN;AACA+O,WAAI,IADJ;AAEAiK,kBAAW,QAFX;AAGAC,cAAO,oBAAUskB,EAHjB;AAIA59B,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADpC;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C;AAFrC;AAJV,MATM;AAHoB,IAAjB,CAAf;AAuBA7H,QAAKO,IAAL,CAAUgB,QAAV,CAAmB2jC,SAAS3kC,IAA5B;AACA2kC,YAASC,KAAT,CAAe/hC,OAAf,GAAyB,KAAzB;AACA8hC,YAASE,EAAT,CAAYhiC,OAAZ,GAAsB,KAAtB;AACA8hC,YAASC,KAAT,CAAetgC,KAAf,CAAqB0C,GAArB,CAAyB,CAAzB;AACA29B,YAASE,EAAT,CAAYvgC,KAAZ,CAAkB0C,GAAlB,CAAsB,CAAtB;;AAEA;;AAEA,OAAI89B,aAAa,CAACP,WAAWG,MAAZ,EAAmBH,WAAWE,MAA9B,EAAqCF,WAAWC,MAAhD,CAAjB;AACA,OAAIO,eAAe,SAAfA,YAAe,GAAI;AACrBjZ,gBAAW,YAAI;AACbgZ,kBAAW,CAAX,EAAcjiC,OAAd,GAAwB,IAAxB;AACAmiC,gBAASzkC,KAAT;AACD,MAHD,EAGE,GAHF;AAIA,SAAIykC,WAAW,IAAI1c,MAAMiF,KAAV,CAAgB,EAACxM,OAAO,CAAR,EAAhB,EACZyM,EADY,CACT,EAACzM,OAAO,CAAR,EADS,EACE,IADF,EAEZ0M,QAFY,CAEH,YAAY;AACpB8W,kBAAWG,MAAX,CAAkB3jB,KAAlB,GAA0B,KAAKA,KAA/B;AACD,MAJY,EAKZlf,UALY,CAKD,YAAY;AACtBijC,kBAAW,CAAX,EAAcjiC,OAAd,GAAwB,IAAxB;AACAoiC,gBAAS1kC,KAAT;AACD,MARY,CAAf;;AAUA,SAAI0kC,WAAW,IAAI3c,MAAMiF,KAAV,CAAgB,EAACxM,OAAO,CAAR,EAAhB,EACZyM,EADY,CACT,EAACzM,OAAO,CAAR,EADS,EACE,IADF,EAEZ0M,QAFY,CAEH,YAAY;AACpB8W,kBAAWE,MAAX,CAAkB1jB,KAAlB,GAA0B,KAAKA,KAA/B;AACD,MAJY,EAKZlf,UALY,CAKD,YAAY;AACtBijC,kBAAW,CAAX,EAAcjiC,OAAd,GAAwB,IAAxB;AACAqiC,gBAAS3kC,KAAT;AACD,MARY,CAAf;;AAUA,SAAI2kC,WAAW,IAAI5c,MAAMiF,KAAV,CAAgB,EAACxM,OAAO,CAAR,EAAhB,EACZyM,EADY,CACT,EAACzM,OAAO,CAAR,EADS,EACE,IADF,EAEZ0M,QAFY,CAEH,YAAY;AACpB8W,kBAAWC,MAAX,CAAkBzjB,KAAlB,GAA0B,KAAKA,KAA/B;AACD,MAJY,EAKZlf,UALY,CAKD,YAAY;AACtBoiC,iBAAU,KAAV;AACAxkC,YAAK0lC,OAAL,CAAad,UAAUrkC,IAAvB,EAA4BukC,WAAWvkC,IAAvC,EAA4CmkC,WAAWnkC,IAAvD;AACD,MARY,CAAf;AASD,IAlCD;;AAoCA;;AAEAP,QAAK2lC,MAAL,GAAc,UAACC,OAAD,EAASC,OAAT,EAAmB;AAC/B,SAAIC,SAAS,IAAIjd,MAAMiF,KAAV,CAAgB,EAACpsB,GAAGkkC,QAAQp+B,QAAR,CAAiB9F,CAAjB,GAAqB,GAAzB,EAAhB,EACVqsB,EADU,CACP,EAACrsB,GAAGkkC,QAAQp+B,QAAR,CAAiB9F,CAArB,EADO,EACiB,GADjB,EAEVssB,QAFU,CAED,YAAY;AACpB4X,eAAQp+B,QAAR,CAAiB9F,CAAjB,GAAqB,KAAKA,CAA1B;AACD,MAJU,CAAb;AAKE;AACF,SAAIqkC,SAAS,IAAIld,MAAMiF,KAAV,CAAgB,EAACpsB,GAAGmkC,QAAQr+B,QAAR,CAAiB9F,CAAjB,GAAqB,GAAzB,EAAhB,EACVqsB,EADU,CACP,EAACrsB,GAAGmkC,QAAQr+B,QAAR,CAAiB9F,CAArB,EADO,EACiB,GADjB,EAEVssB,QAFU,CAED,YAAY;AACpB6X,eAAQr+B,QAAR,CAAiB9F,CAAjB,GAAqB,KAAKA,CAA1B;AACD,MAJU;AAKX;AALW,MAMVU,UANU,CAMC,YAAY;AACtBkjC;AACAtlC,YAAKO,IAAL,CAAU8a,EAAV,CAAa,UAAb,EAAyB2qB,MAAzB;AACAhmC,YAAKO,IAAL,CAAU8a,EAAV,CAAa,SAAb,EAAwB2qB,MAAxB;AACD,MAVU,CAAb;AAWAF,YAAOhlC,KAAP;AACAilC,YAAOjlC,KAAP;AACD,IApBD;AAqBAd,QAAK2lC,MAAL,CAAYf,UAAUrkC,IAAtB,EAA2BmkC,WAAWnkC,IAAtC;;AAEAP,QAAK0lC,OAAL,GAAe,UAACE,OAAD,EAASK,OAAT,EAAiBJ,OAAjB,EAA2B;AACxC,SAAIC,SAAS,IAAIjd,MAAMiF,KAAV,CAAgB,EAACpsB,GAAGkkC,QAAQp+B,QAAR,CAAiB9F,CAArB,EAAhB,EACVqsB,EADU,CACP,EAACrsB,GAAGkkC,QAAQp+B,QAAR,CAAiB9F,CAAjB,GAAqB,GAAzB,EADO,EACuB,GADvB,EAEVssB,QAFU,CAED,YAAY;AACpB4X,eAAQp+B,QAAR,CAAiB9F,CAAjB,GAAqB,KAAKA,CAA1B;AACD,MAJU,CAAb;AAKA,SAAIwkC,SAAS,IAAIrd,MAAMiF,KAAV,CAAgB,EAACpsB,GAAGukC,QAAQz+B,QAAR,CAAiB9F,CAArB,EAAhB,EACVqsB,EADU,CACP,EAACrsB,GAAGukC,QAAQz+B,QAAR,CAAiB9F,CAAjB,GAAqB,GAAzB,EADO,EACuB,GADvB,EAEVssB,QAFU,CAED,YAAY;AACpBiY,eAAQz+B,QAAR,CAAiB9F,CAAjB,GAAqB,KAAKA,CAA1B;AACD,MAJU,CAAb;AAKA,SAAIqkC,SAAS,IAAIld,MAAMiF,KAAV,CAAgB,EAACpsB,GAAGmkC,QAAQr+B,QAAR,CAAiB9F,CAArB,EAAhB,EACVqsB,EADU,CACP,EAACrsB,GAAGmkC,QAAQr+B,QAAR,CAAiB9F,CAAjB,GAAqB,GAAzB,EADO,EACuB,GADvB,EAEVssB,QAFU,CAED,YAAY;AACpB6X,eAAQr+B,QAAR,CAAiB9F,CAAjB,GAAqB,KAAKA,CAA1B;AACD,MAJU,EAKVU,UALU,CAKC,YAAY;AACtBpC,YAAKO,IAAL,CAAUuB,WAAV,CAAsB8iC,UAAUrkC,IAAhC,EAAqCukC,WAAWvkC,IAAhD,EAAqDmkC,WAAWnkC,IAAhE;AACA,WAAGgkC,YAAH,EAAiB;AACf,8BAAWtd,YAAX,CAAwBuF,IAAxB,CAA6B,SAA7B;AACA2Z;AACD;AACD5B,sBAAe,KAAf;AACD,MAZU,CAAb;AAaAuB,YAAOhlC,KAAP;AACAolC,YAAOplC,KAAP;AACAilC,YAAOjlC,KAAP;AAED,IA5BD;;AA8BA;;AAEA4jC,cAAW0B,SAAX,CAAqB3oB,IAArB,GAA4B,qBAAW7e,UAAX,CAAsB4nB,UAAtB,CAAiCgD,QAAjC,EAA5B;;AAEA;AACA,OAAIwc,SAAS,SAATA,MAAS,CAAU5nC,KAAV,EAAiB;AAC5B,SAAGomC,OAAH,EAAW;AACTxkC,YAAK0lC,OAAL,CAAad,UAAUrkC,IAAvB,EAA4BukC,WAAWvkC,IAAvC,EAA4CmkC,WAAWnkC,IAAvD;AACAikC,iBAAW,KAAX;AACD;;AAED,SAAIF,OAAOh6B,cAAP,CAAsBlM,MAAMsH,IAAN,CAAW2yB,UAAjC,CAAJ,EAAkD,CACjD,CADD,MACM;AACJ;AACD;AACF,IAVD;;AAaA;;AAEAr4B,QAAKqmC,WAAL,GAAmB,UAACr9B,MAAD,EAAU;AAC3B,SAAIs9B,QAAQ,IAAIzd,MAAMiF,KAAV,CAAgB,EAACrsB,GAAGuH,OAAOnE,KAAP,CAAapD,CAAjB,EAAoBC,GAAGsH,OAAOnE,KAAP,CAAanD,CAApC,EAAhB,EACTqsB,EADS,CAER,EAACtsB,GAAG,CAAJ,EAAOC,GAAG,CAAV,EAFQ,EAEK,GAFL,EAGTssB,QAHS,CAGA,YAAU;AAClBhlB,cAAOnE,KAAP,CAAapD,CAAb,GAAiB,KAAKA,CAAtB;AACAuH,cAAOnE,KAAP,CAAanD,CAAb,GAAiB,KAAKA,CAAtB;AAED,MAPS,EAQTU,UARS,CAQE,YAAU;AACpB4G,cAAOsY,KAAP,GAAe,CAAf;AACD,MAVS,EAUPgQ,MAVO,CAUAzI,MAAM0I,MAAN,CAAakM,MAAb,CAAoBC,GAVpB,CAAZ;AAWA4I,WAAMxlC,KAAN;AACD,IAbD;;AAeA,OAAIqlC,aAAa,SAAbA,UAAa,GAAI;AACnB,SAAI1B,gBAAgB,CAApB,EAAsB;AACpB,4BAAWxd,YAAX,CAAwBuF,IAAxB,CAA6B,WAA7B;AACA,4BAAW3F,MAAX,CAAkBpH,IAAlB,CAAuB,WAAvB;AACAzf,YAAK2jB,eAAL;AACA;AACD;AACD,SAAI8gB,gBAAgB,CAApB,EAAsB;AACpBS,gBAASC,KAAT,CAAe/hC,OAAf,GAAyB,KAAzB;AACA8hC,gBAASE,EAAT,CAAYhiC,OAAZ,GAAsB,IAAtB;AACApD,YAAKqmC,WAAL,CAAiBnB,SAASE,EAA1B;AACAX;AACD;AACD,SAAIA,gBAAgB,CAApB,EAAsB;AACpBS,gBAASC,KAAT,CAAe/hC,OAAf,GAAyB,IAAzB;AACApD,YAAKqmC,WAAL,CAAiBnB,SAASC,KAA1B;AACAV;AACD;;AAEDpY,gBAAW8Z,UAAX,EAAsB,IAAtB;AAED,IArBD;;AAuBA,UAAOnmC,IAAP;AACD,EAhUD;mBAiUeqkC,O;;;;;;;;;;;;ACrUf;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAVA;;;AAWA,KAAI9M,YAAY,KAAhB;AACA,KAAIvd,cAAJ;AACA,KAAMusB,aAAa,SAAbA,UAAa,CAAClmC,IAAD,EAAS;AAC1B;AACA,OAAMmmC,eAAgB,SAAhBA,YAAgB,CAACC,QAAD,EAAUtG,MAAV,EAAiBvI,IAAjB,EAAsBr3B,IAAtB,EAA2BsB,EAA3B,EAAgC;AACpD,SAAI01B,SAAJ,EAAc;AACZ;AACD;AACDA,iBAAY,IAAZ;AACA,SAAIzyB,SAAS,IAAI+jB,MAAMiF,KAAV,CAAgB,EAACpsB,GAAG+kC,QAAJ,EAAhB,EACV1Y,EADU,CACP,EAACrsB,GAAGy+B,MAAJ,EADO,EACKvI,IADL,EAEV5J,QAFU,CAED,YAAY;AACpBztB,YAAKiH,QAAL,CAAc9F,CAAd,GAAkB,KAAKA,CAAvB;AACD,MAJU,EAKVU,UALU,CAKC,YAAY;AACtBm1B,mBAAY,KAAZ;AACA,WAAI11B,EAAJ,EAAO;AACLA;AACD;AACF,MAVU,EAWVyvB,MAXU,CAWHzI,MAAM0I,MAAN,CAAaiM,IAAb,CAAkBE,GAXf,CAAb;AAYA54B,YAAOhE,KAAP;AACD,IAlBD;AAmBA,OAAM4lC,eAAgB,SAAhBA,YAAgB,CAACD,QAAD,EAAUtG,MAAV,EAAiBvI,IAAjB,EAAsBr3B,IAAtB,EAA2BsB,EAA3B,EAAgC;AACpD,SAAI01B,SAAJ,EAAc;AACZ;AACD;AACD;AACA,SAAIzyB,SAAS,IAAI+jB,MAAMiF,KAAV,CAAgB,EAACrsB,GAAGglC,QAAJ,EAAhB,EACR1Y,EADQ,CACL,EAACtsB,GAAG0+B,MAAJ,EADK,EACOvI,IADP,EAER5J,QAFQ,CAEC,YAAY;AACpBztB,YAAKiH,QAAL,CAAc/F,CAAd,GAAkB,KAAKA,CAAvB;AACD,MAJQ,EAKRW,UALQ,CAKG,YAAY;AACtB;AACA,WAAIP,EAAJ,EAAO;AACLA;AACD;AACF,MAVQ,EAWRyvB,MAXQ,CAWDzI,MAAM0I,MAAN,CAAaiM,IAAb,CAAkBE,GAXjB,CAAb;AAYA54B,YAAOhE,KAAP;AACD,IAlBD;AAmBA,OAAI6lC,UAAU,CAAd;AACA,OAAI3mC,OAAO,wBAAU,yBAAW,KAAX,CAAV,CAAX;AACAA,QAAK8X,SAAL,CAAe,MAAf,EAAuB,YAAK;AAC1B9X,UAAKO,IAAL,CAAU8Z,WAAV,GAAwB,IAAxB;AACA,YAAO,IAAP;AACD,IAHD;AAIAra,QAAKqmC,WAAL,GAAmB,UAACr9B,MAAD,EAAU;AAC3B,SAAIs9B,QAAQ,IAAIzd,MAAMiF,KAAV,CAAgB,EAACrsB,GAAGuH,OAAOnE,KAAP,CAAapD,CAAjB,EAAoBC,GAAGsH,OAAOnE,KAAP,CAAanD,CAApC,EAAhB,EACPqsB,EADO,CACJ,EAACtsB,GAAG,CAAJ,EAAOC,GAAG,CAAV,EADI,EACS,GADT,EAEPssB,QAFO,CAEE,YAAU;AAClBhlB,cAAOnE,KAAP,CAAapD,CAAb,GAAiB,KAAKA,CAAtB;AACAuH,cAAOnE,KAAP,CAAanD,CAAb,GAAiB,KAAKA,CAAtB;AACD,MALO,EAMPU,UANO,CAMI,YAAU,CACrB,CAPO,EAQPkvB,MARO,CAQAzI,MAAM0I,MAAN,CAAaiM,IAAb,CAAkBE,GARlB,CAAZ;AASA4I,WAAMxlC,KAAN;AACD,IAXD;AAYAd,QAAK4mC,WAAL,GAAmB,UAAC59B,MAAD,EAAU;AAC3B,SAAIs9B,QAAQ,IAAIzd,MAAMiF,KAAV,CAAgB,EAACxM,OAAOtY,OAAOsY,KAAf,EAAhB,EACPyM,EADO,CACJ,EAACzM,OAAO,CAAR,EADI,EACO,GADP,EAEP0M,QAFO,CAEE,YAAU;AAClBhlB,cAAOsY,KAAP,GAAe,KAAKA,KAApB;AACD,MAJO,EAKPlf,UALO,CAKI,YAAU,CACrB,CANO,EAOPkvB,MAPO,CAOAzI,MAAM0I,MAAN,CAAasV,UAAb,CAAwBpP,EAPxB,CAAZ;AAQA6O,WAAMxlC,KAAN;AACD,IAVD;AAWA;AACA;AACA;AACA;;;AAKA,OAAIgmC,WAAW,mBAAUnpC,MAAV,CAAiB;AAC9BiZ,SAAI,UAD0B;AAE9BiK,gBAAW,QAFmB;AAG9BhY,eAAU,CACR;AACE+N,WAAI,OADN;AAEEiK,kBAAW,QAFb;AAGEC,cAAO,oBAAUimB,SAHnB;AAIEv/B,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADpC;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD;AAF3C;AAJZ,MADQ,EAUR;AACE+O,WAAI,SADN;AAEEiK,kBAAW,QAFb;AAGEC,cAAO,oBAAUkmB,WAHnB;AAIEx/B,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAAzC,GAA+C,GAD1C;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD;AAF3C;AAJZ,MAVQ,EAmBR;AACE+O,WAAI,UADN;AAEEiK,kBAAW,QAFb;AAGEC,cAAO,oBAAUmmB,YAHnB;AAIEz/B,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAAzC,GAA+C,GAD1C;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD;AAF3C;AAJZ,MAnBQ,EA4BR;AACE+O,WAAI,KADN;AAEEiK,kBAAW,QAFb;AAGEC,cAAO,oBAAUomB,OAHnB;AAIE1/B,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADpC;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD;AAF3C;AAJZ,MA5BQ,EAqCR;AACE+O,WAAI,eADN;AAEEiK,kBAAW,QAFb;AAGEC,cAAO,oBAAUqmB,UAHnB;AAIE3/B,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADpC;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD;AAF3C,QAJZ;AAQEyZ,cAAO;AART,MArCQ,EA+CR;AACE1K,WAAI,cADN;AAEEiK,kBAAW,SAFb;AAGEpD,aAAM,CAHR;AAIEzW,cAAO;AACLoW,eAAM;AADD,QAJT;AAOE5V,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADpC;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD;AAF3C,QAPZ;AAWEyZ,cAAO;AAXT,MA/CQ,EA4DR;AACE1K,WAAI,QADN;AAEEiK,kBAAW,QAFb;AAGErZ,iBAAS;AACP/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADrC;AAEPjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD;AAF5C,QAHX;AAOEgB,iBAAU,CACR;AACE+N,aAAI,aADN;AAEEiK,oBAAW,QAFb;AAGEC,gBAAO,oBAAUsmB,MAHnB;AAIE5/B,mBAAU;AACR/F,cAAG,CADK;AAERC,cAAG;AAFK;AAJZ,QADQ,EAUR;AACEkV,aAAI,SADN;AAEEiK,oBAAW,QAFb;AAGErZ,mBAAU;AACR/F,cAAG,CADK;AAERC,cAAG;AAFK,UAHZ;AAOEmH,mBAAU,CACR;AACE+N,eAAI,OADN;AAEEiK,sBAAW,QAFb;AAGEC,kBAAO,oBAAUumB,aAHnB;AAIE7/B,qBAAU;AACR/F,gBAAG,CADK;AAERC,gBAAG;AAFK;AAJZ,UADQ;AAPZ,QAVQ;AAPZ,MA5DQ,EAkGR;AACEkV,WAAI,GADN;AAEEiK,kBAAW,QAFb;AAGEC,cAAO,oBAAUwmB,eAHnB;AAIE9/B,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADpC;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD;AAF3C;AAJZ,MAlGQ,EA4GR;AACE+O,WAAI,SADN;AAEEiK,kBAAW,SAFb;AAGEpD,aAAM,CAHR;AAIEzW,cAAO;AACLoW,eAAM;AADD,QAJT;AAOE5V,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADpC;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD;AAF3C;AAPZ,MA5GQ,EAwHR;AACE+O,WAAI,UADN;AAEEiK,kBAAW,QAFb;AAGEC,cAAO,oBAAUymB,SAHnB;AAIE//B,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADpC;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD;AAF3C;AAJZ,MAxHQ;AAHoB,IAAjB,CAAf;AAsIA7H,QAAKO,IAAL,CAAUgB,QAAV,CAAmBulC,SAASvmC,IAA5B;;AAIA,OAAIinC,aAAa,mBAAU7pC,MAAV,CAAiB;AAChCiZ,SAAI,YAD4B;AAEhCiK,gBAAW,QAFqB;AAGhChY,eAAU,CACR;AACE+N,WAAI,SADN;AAEEiK,kBAAW,QAFb;AAGEC,cAAO,oBAAU2mB,gBAHnB;AAIEjgC,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAAzC,GAA+C,GAD1C;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD;AAF3C;AAJZ,MADQ,EAUR;AACE+O,WAAI,OADN;AAEEiK,kBAAW,QAFb;AAGEC,cAAO,oBAAU4mB,cAHnB;AAIElgC,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAAzC,GAA+C,GAD1C;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD;AAF3C;AAJZ,MAVQ,EAmBR;AACE+O,WAAI,WADN;AAEEiK,kBAAW,QAFb;AAGEC,cAAO,oBAAU6mB,cAHnB;AAIEngC,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAAzC,GAA+C,EAD1C;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD;AAF3C;AAJZ,MAnBQ;AAHsB,IAAjB,EAgCf,UAACg0B,MAAD,EAAU;AACV,SAAGA,OAAOjlB,EAAP,KAAc,SAAjB,EAA4B;AAC1BgxB;AACD;AACD,SAAI/L,OAAOjlB,EAAP,KAAc,OAAlB,EAA0B;AACxB,gCAAeyc,MAAf;AACD;AACD,SAAGwI,OAAOjlB,EAAP,KAAc,WAAjB,EAA6B;AAC3B,gCAAemf,YAAf;AACD;AACF,IA1CgB,CAAjB;AA2CA/1B,QAAKO,IAAL,CAAUgB,QAAV,CAAmBimC,WAAWjnC,IAA9B;;AAEA,OAAIsnC,iBAAiB,SAAjBA,cAAiB,CAAC/mB,KAAD,EAAOgnB,GAAP,EAAWrqB,IAAX,EAAkB;AACrC,SAAIsqB,WAAW,mBAAUpqC,MAAV,CAAiB;AAC9BiZ,WAAI,UAD0B;AAE9BiK,kBAAW,QAFmB;AAG9BrZ,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0BnB,KAA1B,GAAmC,GAD9B;AAER6D,YAAG,kBAAS1C,cAAT,GAA0BlB,MAA1B,GAAmC,GAAnC,GAAyC;AAFpC,QAHoB;AAO9B+K,iBAAU,CACR;AACE+N,aAAI,OADN;AAEEiK,oBAAW,QAFb;AAGEC,gBAAOA,KAHT;AAIEtZ,mBAAU;AACR/F,cAAG,CADK;AAERC,cAAG;AAFK;AAJZ,QADQ,EAUR;AACEkV,aAAI,KADN;AAEEiK,oBAAW,SAFb;AAGE7Z,gBAAO;AACLoW,iBAAM;AADD,UAHT;AAME5V,mBAAU;AACR/F,cAAG,EADK;AAERC,cAAG,CAAC;AAFI,UANZ;AAUE+b,eAAMqqB;AAVR,QAVQ,EAsBR;AACElxB,aAAI,MADN;AAEEiK,oBAAW,OAFb;AAGEpD,eAAMA,IAHR;AAIEjW,mBAAU;AACR/F,cAAG,EADK;AAERC,cAAG;AAFK,UAJZ;AAQEsF,gBAAO;AACLoW,iBAAM,YADD;AAELC,iBAAM;AAFD;AART,QAtBQ;AAPoB,MAAjB,CAAf;AA4CFrd,UAAKO,IAAL,CAAUgB,QAAV,CAAmBwmC,SAASxnC,IAA5B;AACE,YAAOwnC,QAAP;AACD,IA/CD;;AAkDA,OAAIC,aAAa,SAAbA,UAAa,GAAI;AACnBhoC,UAAK2jB,eAAL;AACE,0BAAOkD,MAAP,CAAcpH,IAAd,CAAmB,aAAnB;AACH,IAHD;AAIA,OAAImoB,aAAa,SAAbA,UAAa,GAAK;AACpB,SAAIK,eAAe,IAAIpf,MAAMiF,KAAV,CAAgB,EAACpsB,GAAGolC,SAASvmC,IAAT,CAAciH,QAAd,CAAuB9F,CAA3B,EAAhB,EAChBqsB,EADgB,CACb,EAACrsB,GAAGolC,SAASvmC,IAAT,CAAciH,QAAd,CAAuB9F,CAAvB,GAA2B,GAA/B,EADa,EACuB,GADvB,EAEhBssB,QAFgB,CAEP,YAAU;AAClB8Y,gBAASvmC,IAAT,CAAciH,QAAd,CAAuB9F,CAAvB,GAA2B,KAAKA,CAAhC;AACD,MAJgB,CAAnB;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAIwmC,iBAAiB,IAAIrf,MAAMiF,KAAV,CAAgB,EAACpsB,GAAG8lC,WAAWjnC,IAAX,CAAgBiH,QAAhB,CAAyB9F,CAA7B,EAAhB,EAClBqsB,EADkB,CACf,EAACrsB,GAAG8lC,WAAWjnC,IAAX,CAAgBiH,QAAhB,CAAyB9F,CAAzB,GAA6B,GAAjC,EADe,EACwB,GADxB,EAElBssB,QAFkB,CAET,YAAY;AACpBwZ,kBAAWjnC,IAAX,CAAgBiH,QAAhB,CAAyB9F,CAAzB,GAA6B,KAAKA,CAAlC;AACD,MAJkB,EAKlBU,UALkB,CAKP,YAAU;AACpB4lC;AACA,4BAAOnhB,MAAP,CAAcpH,IAAd,CAAmB,gBAAnB;AACD,MARkB,CAArB;AASAwoB,kBAAannC,KAAb;AACA;AACA;AACAonC,oBAAepnC,KAAf;AACD,IA7BD;;AA+BA;AACA;AACE;AACA,OAAIqnC,UAAU,qBAAOvpC,UAAP,CAAkBmtB,aAAlB,GAAkC,qBAAOntB,UAAP,CAAkBiuB,aAAlE;;AAEA;AACA,OAAIub,iBAAiB,CAArB;AACA,OAAI9pC,IAAI,qBAAOM,UAAP,CAAkB2xB,aAA1B;AACA,OAAKjyB,KAAK,EAAL,IAAWA,KAAI,CAApB,EAAsB;AACpB8pC,sBAAiB,GAAjB;AACD,IAFD,MAEM,IAAI9pC,KAAK,EAAL,IAAWA,KAAK,EAApB,EAAuB;AAC3B8pC,sBAAiB,GAAjB;AACD,IAFK,MAEA,IAAI9pC,KAAK,EAAL,IAAWA,KAAK,EAApB,EAAuB;AAC3B8pC,sBAAiB,GAAjB;AACD,IAFK,MAEA,IAAI9pC,KAAK,EAAL,IAAWA,IAAI,EAAnB,EAAsB;AAC1B8pC,sBAAiB,GAAjB;AACD,IAFK,MAEA,IAAK9pC,KAAK,EAAV,EAAa;AACjB8pC,sBAAiB,GAAjB;AACD;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACF;AACA,OAAIC,WAAW,qBAAOzpC,UAAP,CAAkB+nB,SAAjC;AACA,OAAI2hB,WAAW,CAAf;AACA,QAAK,IAAIC,IAAI,CAAb,EAAeA,IAAIF,SAAShjC,MAA5B,EAAoCkjC,GAApC,EAAyC;AACvCD,iBAAYD,SAASE,CAAT,CAAZ;AACD;AACD7B,gBAAa,GAAb,EAAiB,kBAAS1nC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAAzC,GAA+C,GAAhE,EAAoE,GAApE,EAAwEm/B,SAAS0B,OAAjF,EAAyF,YAAI;AAC3F,SAAG,qBAAO5pC,UAAP,CAAkBwuB,UAAlB,KAAiC,CAApC,EAAsC,CACrC,CADD,MACM;AACJ,4BAAOvG,MAAP,CAAcpH,IAAd,CAAmB,WAAnB;AACA,4BAAOoH,MAAP,CAAcpH,IAAd,CAAmB,aAAnB,EAAkCzf,IAAlC,EAAwC,YAAK;AAC3C;AACD,QAFD;AAGA,WAAIsoC,aAAa,CAAjB,EAAoB,CACnB,CADD,MACO;AACL,8BAAOzhB,MAAP,CAAcpH,IAAd,CAAmB,cAAnB,EAAmCzf,IAAnC;AACD;AACD,WAAIooC,mBAAmB,CAAvB,EAA0B,CACzB,CADD,MACO;AACL,8BAAOvhB,MAAP,CAAcpH,IAAd,CAAmB,cAAnB,EAAmCzf,IAAnC;AACD;AACF;AAEF,IAjBD;AAkBA0mC,gBAAa,GAAb,EAAiB,kBAAS1nC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAAzC,GAA+C,GAAhE,EAAoE,GAApE,EAAwEm/B,SAAS2B,QAAjF,EAA0F,YAAI,CAE7F,CAFD;;AAIA,OAAItM,WAAW,SAAXA,QAAW,GAAY,CAC1B,CADD;;AAGA;;AAEA,OAAIuM,OAAO,SAAPA,IAAO,CAAC1hB,KAAD,EAAS;AACpB,SAAI2hB,aAAa,SAAbA,UAAa,CAACvjB,KAAD,EAAU;AACzB0hB,gBAASvE,OAAT,CAAiBhiC,IAAjB,CAAsBga,IAAtB,GAA6B,IAA7B;AACAusB,gBAASvE,OAAT,CAAiBhiC,IAAjB,CAAsBuB,WAAtB,CAAkCkY,KAAlC;AACAA,eAAQ,IAAR;AACAA,eAAQ,IAAIxZ,KAAK0Z,QAAT,EAAR;AACAF,aAAMwE,SAAN,CAAgB,QAAhB,EAA0B,CAA1B;AACAxE,aAAM4uB,GAAN,CAAU,CAAV,EAAa,CAAb,EAAgB,GAAhB,EAAqB,CAAC,EAAD,IAAO,MAAMjiC,KAAK0B,EAAlB,CAArB,EAA4C,CAAC+c,QAAQ,EAAT,KAAgB,MAAMze,KAAK0B,EAA3B,CAA5C,EAA4E,KAA5E;AACA2R,aAAM6uB,MAAN,CAAa,CAAb,EAAgB,CAAhB;AACA7uB,aAAMyE,OAAN;AACAqoB,gBAASvE,OAAT,CAAiBhiC,IAAjB,CAAsBgB,QAAtB,CAA+ByY,KAA/B;AACA8sB,gBAASvE,OAAT,CAAiBhiC,IAAjB,CAAsBga,IAAtB,GAA6BP,KAA7B;AACD,MAXD;;AAaA,SAAIlV,SAAS,IAAI+jB,MAAMiF,KAAV,CAAgB,EAAC1I,OAAO,CAAR,EAAhB,EACR2I,EADQ,CACL,EAAC3I,OAAO,GAAR,EADK,EACS,GADT,EAER4I,QAFQ,CAEC,YAAY;AACpB2a,kBAAW,KAAKvjB,KAAhB;AACD,MAJQ,EAKRhjB,UALQ,CAKG,YAAY;AACtBpC,YAAK4mC,WAAL,CAAiBE,SAASgC,YAA1B;AACD,MAPQ,CAAb;AAQAhkC,YAAOhE,KAAP;;AAEA;AACA,SAAIioC,UAAU,IAAIlgB,MAAMiF,KAAV,CAAgB,EAACkb,OAAOlC,SAASmC,OAAT,CAAiBxrB,IAAzB,EAAhB,EACTsQ,EADS,CACN,EAACib,OAAOhiB,KAAR,EADM,EACS,GADT,EAETgH,QAFS,CAEA,YAAU;AAClB8Y,gBAASmC,OAAT,CAAiBxrB,IAAjB,GAAwB9W,KAAKwlB,KAAL,CAAW,KAAK6c,KAAhB,CAAxB;AACD,MAJS,CAAd;AAKAD,aAAQjoC,KAAR;AACD,IA/BC;;AAiCA;AACA,OAAI6sB,QAAQ,IAAI9E,MAAMiF,KAAV,CAAgB,EAACxM,OAAOwlB,SAASoC,aAAT,CAAuB5nB,KAA/B,EAAhB,EACTyM,EADS,CACN,EAACzM,OAAO,GAAR,EADM,EACO,GADP,EAET0M,QAFS,CAEA,YAAU;AAClB8Y,cAASoC,aAAT,CAAuB5nB,KAAvB,GAA+B,KAAKA,KAApC;AACD,IAJS,CAAZ;AAKAqM,SAAM7sB,KAAN;;AAEAd,QAAKmS,MAAL,GAAc,YAAI;AAChBgqB;AACD,IAFD;;AAIA;AACA;;AAEA,OAAG,qBAAOv9B,UAAP,CAAkBwuB,UAAlB,KAAiC,CAApC,EAAuC,CACtC,CADD,MACM;AACJ,0BAAOvG,MAAP,CAAcpH,IAAd,CAAmB,UAAnB,EAA8Bzf,IAA9B;AACD;;AAED,UAAOA,IAAP;AACD,EA/cD;mBAgdeumC,U;;;;;;;;;;;;AC1df;;AACA;;;;;;AAJA;;;AAKA,KAAM4C,gBAAgB,SAAhBA,aAAgB,CAAU9oC,IAAV,EAAgB;AACpC,OAAIL,OAAO,wBAAU,yBAAV,CAAX;AACAA,QAAK8X,SAAL,CAAe,MAAf,EAAsB,YAAI;AACxB,YAAO,IAAP;AACD,IAFD;AAGA,OAAI2jB,YAAY,mBAAU99B,MAAV,CAAiB;AAC/BiZ,SAAI,UAD2B;AAE/BiK,gBAAW,QAFoB;AAG/BhY,eAAU,CACR;AACE+N,WAAI,IADN;AAEEiK,kBAAW,SAFb;AAGEpD,aAAM,mBAHR;AAIEzW,cAAO;AACLoW,eAAM;AADD,QAJT;AAOE5b,eAAQ;AACNC,YAAG,CADG;AAENC,YAAG;AAFG,QAPV;AAWE8F,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAAzC,GAA+C,GAD1C;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD;AAF3C,QAXZ;AAeEgB,iBAAU,CACR;AACE+N,aAAI,SADN;AAEEiK,oBAAW,SAFb;AAGE7Z,gBAAO;AACLoW,iBAAM;AADD,UAHT;AAME5b,iBAAQ;AACNC,cAAG,GADG;AAENC,cAAG;AAFG,UANV;AAUE+b,eAAM,KAAKpd,KAAK+oC,QAVlB;AAWE5hC,mBAAU;AACR/F,cAAG,GADK;AAERC,cAAG,CAAC;AAFI;;AAXZ,QADQ;AAfZ,MADQ,EAoCR;AACEkV,WAAI,IADN;AAEEiK,kBAAW,SAFb;AAGEpD,aAAM,mBAHR;AAIEzW,cAAO;AACLoW,eAAM;AADD,QAJT;AAOE5b,eAAQ;AACNC,YAAG,CADG;AAENC,YAAG;AAFG,QAPV;AAWE8F,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAAzC,GAA+C,GAD1C;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD;AAF3C,QAXZ;AAeEgB,iBAAU,CACR;AACE+N,aAAI,KADN;AAEEiK,oBAAW,SAFb;AAGEpD,eAAMpd,KAAK0mB,QAAL,CAAcyC,QAAd,EAHR;AAIExiB,gBAAO;AACLoW,iBAAM;AADD,UAJT;AAOE5b,iBAAQ;AACNC,cAAG,GADG;AAENC,cAAG;AAFG,UAPV;AAWE8F,mBAAU;AACR/F,cAAG,GADK;AAERC,cAAG,CAAC;AAFI;AAXZ,QADQ;AAfZ,MApCQ;AAHqB,IAAjB,CAAhB;AA2EA1B,QAAKO,IAAL,CAAUgB,QAAV,CAAmBk6B,UAAUl7B,IAA7B;AACA,OAAGF,KAAK+oC,QAAL,CAAc5f,QAAd,OAA6B,IAAhC,EAAqC;AACnCiS,eAAU4N,OAAV,CAAkB5rB,IAAlB,GAAyB,OAAzB;AACD;AACD,UAAOzd,IAAP;AACD,EArFD;mBAsFempC,a;;;;;;;;;;;;ACxFf;;AACA;;;;AACA;;;;AACA;;;;;;AANA;;;AAOA,KAAMG,SAAS,SAATA,MAAS,CAAUjpC,IAAV,EAAgB;AAC7B,OAAIL,OAAO;AACT4W,SAAI,QADK;AAETiK,gBAAW,QAFF;AAGTrZ,eAAUnH,KAAKmH,QAHN;AAITqB,eAAU,CACR;AACE+N,WAAI,IADN;AAEEiK,kBAAW,QAFb;AAGEC,cAAOzgB,KAAKkpC;AAHd,MADQ,EAMR;AACE3yB,WAAI,MADN;AAEEiK,kBAAW,QAFb;AAGEC,cAAO,oBAAU0oB;AAHnB,MANQ,EAWR;AACE5yB,WAAI,OADN;AAEEiK,kBAAW,OAFb;AAGE7Z,cAAO;AACLoW,eAAM,YADD;AAELC,eAAM;AAFD,QAHT;AAOEI,aAAMpd,KAAKynC,GAPb;AAQEtgC,iBAAU;AACR/F,YAAG,CADK;AAERC,YAAG;AAFK;AARZ,MAXQ,EAwBR;AACEkV,WAAI,OADN;AAEEiK,kBAAW,SAFb;AAGE7Z,cAAM;AACJoW,eAAM/c,KAAK+c;AADP,QAHR;AAMEvY,cAAQ,YAAI;AACV,aAAIxE,KAAK+c,IAAL,KAAc,eAAlB,EAAkC;AAChC,kBAAO;AACL3b,gBAAG,GADE;AAELC,gBAAG;AAFE,YAAP;AAID,UALD,MAKM;AACJ,kBAAO;AACLD,gBAAG,CADE;AAELC,gBAAG;AAFE,YAAP;AAID;AACF,QAZM,EANT;AAmBE8F,iBAAU;AACR/F,YAAG,CADK;AAERC,YAAG;AAFK,QAnBZ;AAuBE+b,aAAMpd,KAAKopC;AAvBb,MAxBQ;AAJD,IAAX;AAuDA,UAAOzpC,IAAP;AACD,EAzDD;AA0DA,KAAM0pC,UAAU,SAAVA,OAAU,CAAUrpC,IAAV,EAAgB;AAC9B,OAAIL,OAAO;AACT4W,SAAI,SADK;AAETiK,gBAAW,QAFF;AAGTrZ,eAAUnH,KAAKmH,QAHN;AAIT;AACAqB,eAAU,CACR;AACE+N,WAAI,SAASvW,KAAK/B,CADpB;AAEEuiB,kBAAW,QAFb;AAGEC,cAAOzgB,KAAKspC,IAHd;AAIEniC,iBAAU;AACR/F,YAAG,CAAC,EADI;AAERC,YAAG,CAAC;AAFI;AAJZ,MADQ,EAUR;AACEkV,WAAI,UAAUvW,KAAK/B,CADrB;AAEEuiB,kBAAW,SAFb;AAGE7Z,cAAO;AACLoW,eAAM;AADD,QAHT;AAMEK,aAAMpd,KAAKuhB,KANb;AAOEpgB,eAAQ;AACNC,YAAG,CADG;AAENC,YAAG;AAFG,QAPV;AAWE8F,iBAAU;AACR/F,YAAG,CAAC,EADI;AAERC,YAAG,CAAC;AAFI;AAXZ,MAVQ,EA0BR;AACEkV,WAAI,MADN;AAEEiK,kBAAW,OAFb;AAGE7Z,cAAO;AACLoW,eAAM,YADD;AAELC,eAAM;AAFD,QAHT;AAOEI,aAAM,QAAQpd,KAAKupC,IAPrB;AAQEpoC,eAAQ;AACNC,YAAG,CADG;AAENC,YAAG;AAFG,QARV;AAYE8F,iBAAU;AACR/F,YAAG,CAAC,EADI;AAERC,YAAG;AAFK;AAZZ,MA1BQ,EA2CR;AACEkV,WAAI,KADN;AAEEiK,kBAAW,OAFb;AAGE7Z,cAAO;AACLoW,eAAM,YADD;AAELC,eAAO,YAAI;AACT,eAAIhd,KAAKsR,GAAL,KAAa,IAAjB,EAAsB;AACpB,oBAAO,SAAP;AACD,YAFD,MAEM;AACJ,oBAAO,SAAP;AACD;AACF,UANK;AAFD,QAHT;AAaE8L,aAAM,QAAQpd,KAAKsR,GAbrB;AAcEnQ,eAAQ;AACNC,YAAG,CADG;AAENC,YAAG;AAFG,QAdV;AAkBE8F,iBAAU;AACR/F,YAAG,CAAC,EADI;AAERC,YAAG;AAFK;AAlBZ,MA3CQ;AALD,IAAX;AAyEA,UAAO1B,IAAP;AACD,EA3ED;AA4EA,KAAM6pC,wBAAwB,SAAxBA,qBAAwB,CAAUxpC,IAAV,EAAgB;AAC5C,OAAIL,OAAO,wBAAU,yBAAV,CAAX;AACAA,QAAK8X,SAAL,CAAe,MAAf,EAAsB,YAAI;;AAExB,YAAO,IAAP;AACD,IAHD;AAIA,OAAIiiB,YAAY,EAAhB;AACA,OAAIC,UAAU/M,KAAKtb,GAAL,EAAd;AACA3R,QAAK8X,SAAL,CAAe,QAAf,EAAwB,YAAI;;AAE1B,SAAInG,MAAMsb,KAAKtb,GAAL,EAAV;AACEooB,eAAU,CAAV,EAAa5nB,MAAb,CAAoB,CAACR,MAAMqoB,OAAP,IAAkB,KAAtC;AACFA,eAAUroB,GAAV;AACD,IALD;AAMA3R,QAAKqmC,WAAL,GAAmB,UAACr9B,MAAD,EAAU;AAC3B,SAAI8gC,SAAS,IAAIjhB,MAAMiF,KAAV,CAAgB,EAACrsB,GAAGuH,OAAOnE,KAAP,CAAapD,CAAjB,EAAoBC,GAAGsH,OAAOnE,KAAP,CAAanD,CAApC,EAAhB,EACRqsB,EADQ,CACL,EAACtsB,GAAG,CAAJ,EAAOC,GAAG,CAAV,EADK,EACQ,GADR,EAERssB,QAFQ,CAEC,YAAU;AAClBhlB,cAAOnE,KAAP,CAAapD,CAAb,GAAiB,KAAKA,CAAtB;AACAuH,cAAOnE,KAAP,CAAanD,CAAb,GAAiB,KAAKA,CAAtB;AACD,MALQ,EAMRU,UANQ,CAMG,YAAU,CACrB,CAPQ,EAQRkvB,MARQ,CAQDzI,MAAM0I,MAAN,CAAaiM,IAAb,CAAkBE,GARjB,CAAb;AASA;AACA,SAAI4I,QAAQ,IAAIzd,MAAMiF,KAAV,CAAgB,EAACrsB,GAAGuH,OAAOnE,KAAP,CAAapD,CAAjB,EAAoBC,GAAGsH,OAAOnE,KAAP,CAAanD,CAApC,EAAhB,EACPqsB,EADO,CACJ,EAACtsB,GAAG,GAAJ,EAASC,GAAG,GAAZ,EADI,EACa,GADb,EAEPssB,QAFO,CAEE,YAAU;AAClBhlB,cAAOnE,KAAP,CAAapD,CAAb,GAAiB,KAAKA,CAAtB;AACAuH,cAAOnE,KAAP,CAAanD,CAAb,GAAiB,KAAKA,CAAtB;AACD,MALO,EAMPU,UANO,CAMI,YAAU;AACpB0nC,cAAOhpC,KAAP;AACD,MARO,EASPwwB,MATO,CASAzI,MAAM0I,MAAN,CAAaiM,IAAb,CAAkBE,GATlB,CAAZ;AAUA4I,WAAMxlC,KAAN;AACD,IAtBD;AAuBA,OAAI26B,YAAY,mBAAU99B,MAAV,CAAiB;AAC/BiZ,SAAI,UAD2B;AAE/BiK,gBAAW,QAFoB;AAG/BhY,eAAW,YAAI;AACb,WAAIA,WAAW,EAAf;;AAEA,WAAIkhC,OAAO;AACTnzB,aAAI,MADK;AAETiK,oBAAW,QAFF;AAGTrZ,mBAAU;AACR/F,cAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADpC;AAERjG,cAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD;AAF3C,UAHD;AAOTgB,mBAAU,CACR;AACE+N,eAAI,IADN;AAEEiK,sBAAW,cAFb;AAGEC,kBAAO,oBAAUkpB,YAHnB;AAIE7iC,oBAAS,EAJX;AAKEuR,oBAAS,EALX;AAMExB,wBAAa,EANf;AAOEyB,yBAAc,EAPhB;AAQE9a,kBAAO,GART;AASEC,mBAAQ;AATV,UADQ;AAPD,QAAX;;AAuBA+K,gBAASpK,IAAT,CAAcsrC,IAAd;;AAGA,WAAIE,gBAAgB,CAAC,oBAAUC,aAAX,EAAyB,oBAAUC,aAAnC,EAAiD,oBAAUC,aAA3D,EAAyE,oBAAUC,aAAnF,CAApB;AACA,WAAIC,QAAQ,CAAC,qBAAO1rC,UAAP,CAAkBgtB,cAAnB;AACE;AACF;AACA,4BAAOhtB,UAAP,CAAkBoxB,eAHlB,EAIA,qBAAOpxB,UAAP,CAAkBmtB,aAJlB,EAKA,qBAAOntB,UAAP,CAAkBiuB,aAAlB,GAAkC,qBAAOjuB,UAAP,CAAkBmtB,aALpD,CAAZ;AAMA,WAAI/d,WAAW,CAAC,eAAD,EAAiB,eAAjB,EAAiC,eAAjC,EAAiD,eAAjD,CAAf;AACA,WAAIy7B,YAAY,CAAC,MAAD,EAAQ,MAAR,EAAe,MAAf,EAAsB,MAAtB,CAAhB;AACA,YAAK,IAAInrC,IAAI,CAAb,EAAiBA,IAAI,CAArB,EAAyBA,GAAzB,EAA8B;AAC5B,aAAIgiC,KAAKgJ,OAAO;AACdC,oBAASU,cAAc3rC,CAAd,CADK;AAEdwpC,gBAAKwC,MAAMhsC,CAAN,IAAW,EAFF;AAGdmrC,sBAAWA,UAAUnrC,CAAV,CAHG;AAId8e,iBAAMpP,SAAS1P,CAAT,CAJQ;AAKdkJ,qBAAU;AACR/F,gBAAG,IAAI,GAAJ,GAAU,CAAC,GAAX,GAAiBnD,IAAI,GAArB,GAA2B,kBAASU,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAD/D;AAERjG,gBAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAAyC,GAAzC,GAA+C;AAF1C;AALI,UAAP,CAAT;AAUAgB,kBAASpK,IAAT,CAAc6hC,EAAd;AACD;;AAED,WAAIiK,WAAW,CAAC,oBAAUC,cAAX,EAA0B,oBAAUC,WAApC,EAAgD,oBAAUC,cAA1D,CAAf;AACA,WAAIC,YAAY,CAAC,KAAD,EAAO,MAAP,EAAc,MAAd,CAAhB;AACA,WAAItC,WAAW,qBAAOzpC,UAAP,CAAkB+nB,SAAjC;AACA,WAAI2hB,WAAW,CAAf;AACA,YAAK,IAAIhqC,IAAI,CAAb,EAAeA,IAAI+pC,SAAShjC,MAA5B,EAAoC/G,GAApC,EAAyC;AACvCgqC,qBAAYD,SAAS/pC,CAAT,CAAZ;AACD;AACD,WAAIssC,gBAAgB,qBAAOhsC,UAAP,CAAkB2xB,aAAtC;AACA,WAAIsa,YAAY,KAAhB;AACA,WAAID,iBAAe,CAAf,IAAoBA,iBAAiB,EAAzC,EAA4C;AAC1CC,qBAAY,KAAZ;AACD,QAFD,MAEM,IAAGD,iBAAiB,EAAjB,IAAuBA,iBAAiB,EAA3C,EAA8C;AAClDC,qBAAY,KAAZ;AACD,QAFK,MAEA,IAAGD,iBAAiB,EAAjB,IAAuBA,iBAAiB,EAA3C,EAA8C;AAClDC,qBAAY,KAAZ;AACD,QAFK,MAEA,IAAID,iBAAiB,EAAjB,IAAuBA,gBAAgB,EAA3C,EAA8C;AAClDC,qBAAY,KAAZ;AACD,QAFK,MAEA,IAAID,iBAAiB,EAArB,EAAwB;AAC5BC,qBAAY,KAAZ;AACD;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACM,WAAIC,UAAU,CAACnkC,KAAKwlB,KAAL,CAAW,qBAAOvtB,UAAP,CAAkBmtB,aAAlB,GAAgC,qBAAOntB,UAAP,CAAkBiuB,aAAlD,GAAkE,GAA7E,IAAoF,GAArF,EACZyb,WAAW,GADC;AAEZ;AACAuC,gBAHY,CAAd;AAKA,WAAI/C,MAAMnhC,KAAKwlB,KAAL,CAAW,CAAC9rB,KAAK0qC,eAAL,GAAuB,CAAxB,IAA8B,GAAzC,CAAV;AACA,WAAIC,WAAW,CAAC3qC,KAAK4qC,WAAL,GAAmB,GAApB,EAAwB5qC,KAAK6qC,UAAL,GAAkB,GAA1C,EAA8CpD,MAAM,GAApD,CAAf;AACA,YAAK,IAAIxpC,IAAI,CAAb,EAAiBA,IAAI,CAArB,EAAyBA,GAAzB,EAA8B;AAC5B,aAAIgiC,KAAKoJ,QAAQ;AACfprC,cAAGA,CADY;AAEfqrC,iBAAMY,SAASjsC,CAAT,CAFS;AAGfsjB,kBAAO+oB,UAAUrsC,CAAV,CAHQ;AAIfqT,gBAAKm5B,QAAQxsC,CAAR,CAJU;AAKfsrC,iBAAMoB,SAAS1sC,CAAT,CALS;AAMfkJ,qBAAU;AACR/F,gBAAG,IAAI,GAAJ,GAAU,CAAC,GAAX,GAAiBnD,IAAI,GAArB,GAA2B,kBAASU,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GAD/D;AAERjG,gBAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C,GAA1C,GAAgD;AAF3C;;AANK,UAAR,CAAT;AAYAgB,kBAASpK,IAAT,CAAc6hC,EAAd;AACD;AACD,cAAOz3B,QAAP;AACD,MAxGS;AAHqB,IAAjB,CAAhB;AA6GA7I,QAAKO,IAAL,CAAUgB,QAAV,CAAmBk6B,UAAUl7B,IAA7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAI8nC,WAAW,qBAAOzpC,UAAP,CAAkB+nB,SAAjC;AACA,OAAI2hB,WAAW,CAAf;AACA,QAAK,IAAIhqC,IAAI,CAAb,EAAeA,IAAI+pC,SAAShjC,MAA5B,EAAoC/G,GAApC,EAAyC;AACvCgqC,iBAAYD,SAAS/pC,CAAT,CAAZ;AACD;AACD,wBAAOuoB,MAAP,CAAcxL,EAAd,CAAiB,WAAjB,EAA6B,YAAI;AAC/B,UAAI,IAAI/c,KAAI,CAAZ,EAAgBA,KAAI,CAApB,EAAwBA,IAAxB,EAA8B;AAC5B,WAAG,qBAAOM,UAAP,CAAkB2xB,aAAlB,GAAkC,CAAlC,IAAuC+X,YAAY,CAAtD,EAAwD;AACtD,cAAI,IAAIC,IAAI,CAAZ,EAAgBA,IAAI,CAApB,EAAwBA,GAAxB,EAA8B;AAC5BvoC,gBAAKqmC,WAAL,CAAiB5K,UAAU,SAAS8M,CAAnB,CAAjB;AACAvoC,gBAAKqmC,WAAL,CAAiB5K,UAAU,UAAU8M,CAApB,CAAjB;AACD;AACF,QALD,MAKM,IAAGD,aAAa,CAAb,IAAkB,qBAAO1pC,UAAP,CAAkB2xB,aAAlB,GAAkC,CAAvD,EAAyD;AAC7DvwB,cAAKqmC,WAAL,CAAiB5K,UAAU,SAAS,CAAnB,CAAjB;AACAz7B,cAAKqmC,WAAL,CAAiB5K,UAAU,UAAU,CAApB,CAAjB;AACD,QAHK,MAID;AACHz7B,cAAKqmC,WAAL,CAAiB5K,UAAU,SAASn9B,EAAnB,CAAjB;AACA0B,cAAKqmC,WAAL,CAAiB5K,UAAU,UAAUn9B,EAApB,CAAjB;AACD;AACF;AACF,IAhBD;AAiBA,UAAO0B,IAAP;AACD,EAlND;mBAmNe6pC,qB;;;;;;;;;;;;AC7Vf;;AACA;;;;AACA;;;;;;AACA,KAAMsB,OAAO,SAAPA,IAAO,CAACzlC,IAAD,EAAM0lC,QAAN,EAAiB;AAC5B,OAAIprC,OAAO,wBAAU,yBAAW,IAAX,CAAV,CAAX;AACAA,QAAK8X,SAAL,CAAe,MAAf,EAAsB,YAAI;AACxB,YAAO,IAAP;AACD,IAFD;;AAIA,4BAAgBtK,IAAhB,CAAqB,oBAAU69B,SAA/B,EAAyC,YAAI;AAC3C,SAAI5P,YAAY,mBAAU99B,MAAV,CAAiB;AAC/BiZ,WAAI,UAD2B;AAE/BiK,kBAAW,QAFoB;AAG/BrZ,iBAAU;AACR/F,YAAG,kBAASzC,cAAT,GAA0ByI,MAA1B,CAAiCE,KAAjC,GAAyC,GADpC;AAERjG,YAAG,kBAAS1C,cAAT,GAA0ByI,MAA1B,CAAiCI,MAAjC,GAA0C;AAFrC,QAHqB;AAO/BgB,iBAAU,CACR;AACE+N,aAAI,IADN;AAEEiK,oBAAW,cAFb;AAGEC,gBAAO,oBAAUuqB,SAHnB;AAIElkC,kBAAS,CAJX;AAKEuR,kBAAS,EALX;AAMExB,sBAAa,CANf;AAOEyB,uBAAc,CAPhB;AAQE9a,gBAAO,GART;AASEC,iBAAQ;AATV,QADQ,EAYR;AACE8Y,aAAI,QADN;AAEEiK,oBAAW,OAFb;AAGEpD,eAAM,SAHR;AAIEjW,mBAAU;AACR/F,cAAG,CADK;AAERC,cAAG,CAAC;AAFI,UAJZ;AAQEsF,gBAAO;AACLoW,iBAAM,YADD;AAELC,iBAAM;AAFD;AART,QAZQ,EAyBR;AACEzG,aAAI,SADN;AAEEiK,oBAAW,OAFb;AAGEpD,eAAM/X,IAHR;AAIE8B,mBAAU;AACR/F,cAAG,CADK;AAERC,cAAG;AAFK;AAJZ,QAzBQ,EAkCR;AACEkV,aAAI,IADN;AAEEiK,oBAAW,QAFb;AAGEC,gBAAO,oBAAUwqB,SAHnB;AAIE9jC,mBAAU;AACR/F,cAAG,CADK;AAERC,cAAG;AAFK,UAJZ;AAQEmH,mBAAS,CACP;AACE+N,eAAI,OADN;AAEEiK,sBAAW,OAFb;AAGEpD,iBAAM,IAHR;AAIEzW,kBAAO;AACLoW,mBAAM,YADD;AAELC,mBAAM;AAFD;AAJT,UADO;;AARX,QAlCQ;AAPqB,MAAjB,EAiEd,UAACwe,MAAD,EAAU;AACV,WAAIA,OAAOjlB,EAAP,KAAc,IAAlB,EAAuB;;AAErB5W,cAAK2jB,eAAL;;AAGA,aAAIynB,QAAJ,EAAa;AACXA;AACD;AAIF;AACF,MA9Ee,CAAhB;;AAgFAprC,UAAKO,IAAL,CAAUgB,QAAV,CAAmBk6B,UAAUl7B,IAA7B;AAED,IAnFD;;AAuFA,UAAOP,IAAP;AAED,EA/FD,C,CANA;;;mBAsGemrC,I;;;;;;;;;;;;ACnGf;;;;;;AACA,KAAMI,aAAY,SAAZA,UAAY,GAAI;AACpB,OAAIvrC,OAAO,EAAX;AACA,wBAAO6mB,MAAP,CAAcxL,EAAd,CAAiB,YAAjB,EAA8B,UAAC2tB,KAAD,EAAS;AACrC,SAAGhpC,KAAKgpC,QAAM,CAAX,MAAkB9nC,SAArB,EAA+B;AAC7BlB,YAAKgpC,QAAM,CAAX,IAAgB,CAAhB;AACD,MAFD,MAEM;AACJhpC,YAAKgpC,QAAM,CAAX,KAAiB,CAAjB;AACD;;AAED,UAAK,IAAI1qC,IAAI,CAAb,EAAgBA,IAAI0qC,QAAM,CAA1B,EAA6B1qC,GAA7B,EAAkC;AAChC,WAAG0B,KAAK1B,CAAL,IAAU,CAAb,EAAe;AACb0B,cAAK1B,CAAL,KAAW,CAAX;AACD,QAFD,MAEM;AACJ0B,cAAK1B,CAAL,IAAU,CAAV;AACD;AACF;AACD,0BAAOM,UAAP,CAAkB+nB,SAAlB,GAA8B3mB,IAA9B;AACD,IAfD;AAgBA,UAAOA,IAAP;AACD,EAnBD,C,CAJA;;;mBAwBeurC,U;;;;;;;;;;;;ACrBf;;AACA;;;;;;AAJA;;;AAKA,KAAMC,YAAY;AAChBC,aAAU,WADM;AAEhBC,mBAAgB,kBAFA;AAGhBC,iBAAc,eAHE;AAIhBC,eAAY;AAJI,EAAlB;AAMA,KAAMC,kBAAkB,SAAlBA,eAAkB,GAAY;AAClC,OAAI7rC,OAAO,EAAX;AACA,OAAM8xB,cAAc,SAAdA,WAAc,CAAU9R,MAAV,EAAiB9L,MAAjB,EAAwBrS,EAAxB,EAA4B;AAC9C,uBAASiT,IAAT,CAAc,sBAAQjG,WAAtB,EAAkCmR,SAAS,OAAT,GAAmBhgB,KAAKyX,GAA1D,EAA8D,EAA9D,EAAiEvD,MAAjE,EAAwE,gBAAM;AAC5E1W,eAAQC,GAAR,CAAY,aAAZ,EAA0BuiB,MAA1B;AACA,WAAIta,KAAKqsB,MAAL,KAAgB,IAApB,EAAyB;AACvBv0B,iBAAQw0B,KAAR,CAAc,qBAAd,EAAoCvd,KAAKS,SAAL,CAAexP,IAAf,CAApC;AACD,QAFD,MAEM,CAEL;;AAED,WAAI7D,EAAJ,EAAO;AACLA,YAAG6D,IAAH;AACD;AAEF,MAZD;AAaD,IAdD;;AAiBA1F,QAAKyrC,QAAL,GAAgB,UAAUh0B,GAAV,EAAe;AAC7Bja,aAAQC,GAAR,CAAY,QAAZ;AACAq0B,iBAAY,sBAAQhjB,UAAR,CAAmBK,cAA/B,EAA8C;AAC5CsI,YAAKA,GADuC;AAE5CrZ,cAAOotC,UAAUC;AAF2B,MAA9C;AAID,IAND;AAOAzrC,QAAK0rC,cAAL,GAAsB,UAAUj0B,GAAV,EAAe;AACnCja,aAAQC,GAAR,CAAY,UAAZ;AACAq0B,iBAAY,sBAAQhjB,UAAR,CAAmBK,cAA/B,EAA8C;AAC5CsI,YAAKA,GADuC;AAE5CrZ,cAAOotC,UAAUE;AAF2B,MAA9C;AAID,IAND;AAOA1rC,QAAK2rC,YAAL,GAAoB,UAAUl0B,GAAV,EAAe;AACjCja,aAAQC,GAAR,CAAY,QAAZ;AACAq0B,iBAAY,sBAAQhjB,UAAR,CAAmBK,cAA/B,EAA8C;AAC5CsI,YAAKA,GADuC;AAE5CrZ,cAAOotC,UAAUG;AAF2B,MAA9C;AAID,IAND;AAOA3rC,QAAK4rC,UAAL,GAAkB,UAAUn0B,GAAV,EAAe;AAC/Bja,aAAQC,GAAR,CAAY,QAAZ;AACAq0B,iBAAY,sBAAQhjB,UAAR,CAAmBK,cAA/B,EAA8C;AAC5CsI,YAAKA,GADuC;AAE5CrZ,cAAOotC,UAAUI;AAF2B,MAA9C;AAID,IAND;AAOA,UAAO5rC,IAAP;AACD,EAhDD;AAiDA,KAAI8rC,kBAAkBD,iBAAtB;AACAvuC,QAAOwuC,eAAP,GAAyBA,eAAzB;mBACeA,e","file":"gameenter.all.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 8e6e0884dd67816b2dc4\n **/","/**\n * Created by chuhaoyuan on 2016/10/21.\n */\nimport {Director,Helper,ResourceManager} from './utility/imports'\nimport defines from './game-defines'\nimport GameWorld from './game/gameworld'\nimport global from './game-global'\nimport DebugLayer from './game/debug-layer'\nimport platform from './platform-helper'\nimport Tips from './game/ui/ui-tips'\nimport resources from './resources'\nimport statisticHelper from './statistic-helper'\nwindow.onload = ()=>{\n\n\n  // platform.getUserInfo((data)=>{\n  //   statisticHelper.beginLoading(data.uid);///开始加载接口调用\n  // });\n  console.log('enter game');\n  let _director = Director.create(defines.Canvas.width,defines.Canvas.height);\n  let screenOption = {\n    forceX: true,\n    forceY: false\n  };\n  Helper.scaleToWindow(_director, screenOption);\n\n  window.addEventListener(\"resize\", function (event) {\n    Helper.scaleToWindow(_director, screenOption);\n  });\n\n\n let imageList = [];\n  for (let i in resources){\n    let str = resources[i];\n    if (str.indexOf('.png') != -1 || str.indexOf('.jpg') != -1){\n      imageList.push(resources[i]);\n    }else {\n\n    }\n  }\n  // console.log('image=' + JSON.stringify(imageList));\n  ResourceManager.loadList(imageList,()=>{\n\n    ResourceManager.loadFontList(['combo','default_number',\n      'gift_number','gold_number','rank_number_1',\n      'rank_number_2','rank_number_3','rank_number_4',\n    'rank_number_5','rank_number_6'],()=> {\n      // platform.loadEnd();\n      // platform.getDeviceModel((data1)=>{\n      //   if (data1.hasOwnProperty('deviceModel')){\n      //     global.playerdata.deviceModel = data1.deviceModel;///设备型号，Android区分大小写\n      //   }\n      //   if (data1.hasOwnProperty('devicemodel')){\n      //     global.playerdata.deviceModel = data1.devicemodel;///设备型号，iOS 传都是小写\n      //   }\n      //\n      //   platform.getUserInfo((data2)=> {\n      //     global.playerdata.uid = parseInt(data2.uid);\n      //     global.playerdata.auth = data2.auth;\n      //     statisticHelper.endLoading(data2.uid);\n      //     global.playerdata.initData();\n      //     global.playerdata.getGameInfo( (success, resp)=>{\n      //       console.log('start Game');\n      //       let gameWorld = GameWorld();\n      //       gameWorld.init();\n      //       Director.sharedDirector().replaceWorld(gameWorld);\n      //\n      //\n      //       let debugLayer = DebugLayer();\n      //       gameWorld.node.addChild(debugLayer);\n      //\n      //      if(!success) {\n      //         let tip = Tips(JSON.stringify(resp.show)\n      //           ,()=>{\n      //             platform.endAll();\n      //           });\n      //         tip.init();\n      //         tip.add2World(gameWorld);\n      //      }\n      //     });\n      //   })\n      // });\n        global.playerdata.initData();\n        let gameWorld = GameWorld();\n        gameWorld.init();\n        Director.sharedDirector().replaceWorld(gameWorld);\n\n    });\n\n  });\n\n\n\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/game.js\n **/","/**\n * Created by wizard on 16/3/30.\n */\n\nimport AnimationFactor from \"./animation/animation-factor.js\"\nimport Helper from \"./helper.js\"\nimport ResourceManager from \"./resource-manager.js\"\nimport Director from \"./render/director.js\"\nimport SRequest from \"./simple-request.js\"\n\nimport UIControl from './ui-control/index'\nimport BaseWorld from \"./render/base-world.js\"\nimport BaseLayer from \"./render/base-layer.js\"\nimport ModelLayer from \"./render/model-layer.js\"\nimport Eventuality from \"./eventuality.js\"\nimport Inherited from \"./inherited.js\"\nimport DelayEvent from './delay-event'\nimport Vec2 from './math/vec2'\nexport {\n  AnimationFactor,\n  UIControl,\n  BaseWorld,\n  BaseLayer,\n  ModelLayer,\n  Eventuality,\n  DelayEvent,\n  Inherited,\n  Helper,\n  ResourceManager,\n  Director,\n  SRequest,\n  Vec2\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/imports.js\n **/","/**\n * Created by wizard on 16/3/29.\n */\n\nimport FrameAnimation from './frame-animation.js'\nimport SpineAnimation from'./spine-animation.js'\n\nconst animationFactor = (()=> {\n    var that = {};\n\n    that.createAnimation = function (options) {\n        if (options.type == \"spine\") {\n            return SpineAnimation(options);\n        }\n        else {\n            return FrameAnimation(options);\n        }\n    };\n\n    return that;\n})();\n\nexport default  animationFactor;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/animation/animation-factor.js\n **/","/**\n * Created by wizard on 16/3/29.\n */\nimport AnimationInterface from \"./animation-interface.js\"\nvar FrameAnimation = function (spec) {\n  var that = AnimationInterface();\n\n  that.animates = {};\n\n  that.node = new PIXI.Container();\n\n  var _movieClip = null;\n\n  for (var index in spec.animates) {\n    var oneAnimate = spec.animates[index];\n    var frames = [];\n    for (var i = oneAnimate.start; i <= oneAnimate.end; ++i) {\n      frames.push(oneAnimate.pre + \"_\" + i + \".png\");\n    }\n\n    that.animates[index] = {};\n    that.animates[index].frames = frames;\n    if (spec.animates[index].speed != undefined) {\n      that.animates[index].animationSpeed = spec.animates[index].speed;\n    }\n    else {\n      that.animates[index].animationSpeed = 1;\n    }\n    //console.log(\"frame animation:\" + JSON.stringify(that.animates) );\n  }\n\n  (()=> {\n    if (spec.default) {\n      _movieClip = new PIXI.Sprite.fromFrame(spec.default);\n      that.node.addChild(_movieClip);\n      if(spec.anchor){\n        _movieClip.anchor = spec.anchor;\n      }else{\n        _movieClip.anchor = {x: 0.5, y: 0.5};\n      }\n\n    }\n  })();\n\n  var setupMovieClip = function (frames, speed, isLoop, cb) {\n\n    if (_movieClip) {\n      that.node.removeChild(_movieClip);\n    }\n\n    _movieClip = new PIXI.extras.MovieClip.fromFrames(frames);\n    _movieClip.animationSpeed = speed;\n    _movieClip.loop = isLoop;\n    _movieClip.gotoAndPlay(0);\n\n    if (!isLoop) {\n      _movieClip.onComplete = function () {\n        if (cb) {\n          cb.call(this);\n        }\n      }\n    }\n\n    that.node.addChild(_movieClip);\n    if(spec.anchor){\n      _movieClip.anchor = spec.anchor;\n    }else{\n      _movieClip.anchor = {x: 0.5, y: 0.5};\n    }\n  }\n\n  that.getAnimationNode = function () {\n    console.log('error: virtual getAnimationNode function');\n  };\n\n  that.stop = function (applyCb) {\n    if (applyCb) {\n\n    }\n  }\n\n  that.playOnce = function (actionName, cb) {\n    that.playTimes(actionName, 1, cb);\n  };\n\n  that.playTimes = function (actionName, times, cb) {\n\n    if (!that.animates[actionName]) {\n      console.log('error: wrong action name' + actionName);\n      return;\n    }\n\n    var frames = [];\n    for (var i = 0; i < times; ++i) {\n      frames = frames.concat(that.animates[actionName].frames)\n    }\n\n    setupMovieClip(frames, that.animates[actionName].animationSpeed, false, cb);\n  };\n\n  that.playList = function (actionList, cb) {\n    console.log('error: virtual function');\n  };\n\n  that.playLoop = function (actionName) {\n    if (!that.animates[actionName]) {\n      console.log('error: wrong action name' + actionName);\n      return;\n    }\n\n    setupMovieClip(that.animates[actionName].frames, that.animates[actionName].animationSpeed, true);\n  };\n\n  that.reset = function () {\n    console.log('error: virtual reset function');\n  };\n\n  that.setVisible = function (isVisible) {\n    that.node.visible = isVisible;\n  };\n\n  that.turnAround = function (faceTo) {\n    console.log('error: virtual  turnAround function');\n  };\n\n  that.setSlotVisible = function (slotName, isVisible) {\n    console.log('error: virtual setSlotVisible function');\n  };\n\n  that.setTimeScale = function (timeScale) {\n    that.node.animationSpeed = timeScale;\n  };\n\n  that.setSkin = function (name) {\n    console.log('error: virtual setSkin function');\n  };\n\n  return that;\n}\n\nexport default FrameAnimation;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/animation/frame-animation.js\n **/","/**\n * Created by hewenlong on 16-3-15.\n */\n\nvar AnimationInterface = function (spec) {\n  var that = {};\n\n  that.getAnimationNode = function () {\n    console.log('error: virtual getAnimationNode function');\n  };\n\n  that.stop = function (applyCb) {\n    console.log('error: virtual stop function');\n  }\n\n  that.playOnce = function (actionName, cb) {\n    that.playTimes(actionName, 1, cb);\n  };\n\n  that.playTimes = function (actionName, times, cb) {\n    console.log('error: virtual playTimes function');\n  };\n\n  that.playList = function (actionList, cb) {\n    console.log('error: virtual function');\n  };\n\n  that.playLoop = function (actionName) {\n    console.log('error: virtual playLoop function');\n  };\n\n  that.reset = function () {\n    console.log('error: virtual reset function');\n  };\n\n  that.aimTo = function (direction) {\n    console.log('error: virtual function');\n  };\n\n  that.setVisible = function (isVisible) {\n    console.log('error: virtual setVisible function');\n  };\n\n  that.destroy = function () {\n    console.log('error: virtual destroy function');\n  };\n\n  that.turnAround = function (faceTo) {\n    console.log('error: virtual  turnAround function');\n  };\n\n  that.setSlotVisible = function (slotName, isVisible) {\n    console.log('error: virtual setSlotVisible function');\n  };\n\n  that.setTimeScale = function (timeScale) {\n    console.log('error: virtual setTimeScale function');\n  };\n  that.setSkin = function (name) {\n    console.log('error: virtual setSkin function');\n  };\n  that.setLocalZOrder = function (zOrder) {\n    console.log(\"error: virtual set local zOrder func\");\n  } ;\n\n  return that;\n};\n\nexport default AnimationInterface;\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/animation/animation-interface.js\n **/","/**\n * Created by hewenlong on 16-3-15.\n */\nimport AnimationInterface from \"./animation-interface.js\";\n//const Spine = require('pixi-spine').Spine;\nvar SpineAnimation = function (spec) {\n    var that = AnimationInterface(spec);\n\n    var _spine = null;\n    var _actionList = [];\n    var _faceTo = 1;\n    that.zOrder = 0;\n    var spineData = spec.spineData;\n\n    that.setSkin = function (skin) {\n        _spine.skeleton.setSkinByName(skin);\n    };\n\n    that.turnAround = function (dir) {\n        var scaleX = _spine.scale.x;\n        _faceTo *= dir;\n        _spine.scale.x = scaleX * _faceTo;\n    };\n\n    that.playLoop = function (action, isSoft) {\n        if (!isSoft) {\n            applyAllCallBack();\n            _spine.skeleton.setToSetupPose();\n            _spine.state.setAnimationByName(0, action, true);\n        } else {\n            _spine.state.addAnimationByName(0, action, true, 0);\n        }\n\n    };\n\n    var applyAllCallBack = function () {\n        while (_actionList.length > 0) {\n            var action = _actionList.shift();\n            if (action.cb) {\n                action.cb();\n            }\n        }\n    };\n\n    that.getAnimationNode = function () {\n        return _spine;\n    };\n\n    that.playTimes = function (action, times, callBack, isSoft) {\n        var list = [];\n        for (var i = 0; i < times; i++) {\n            list.push(action);\n        }\n        that.playList(list, callBack, isSoft);\n    };\n\n    that.playList = function (list, callBack, isSoft) {\n        if (list.length === 0) {\n            if (callBack) {\n                callBack();\n            }\n        }\n        _spine.skeleton.setToSetupPose();\n        var track;\n\n        if (!isSoft) {\n            applyAllCallBack();\n            track = _spine.state.setAnimationByName(0, list[0], false);\n        } else {\n            track = _spine.state.addAnimationByName(0, list[0], false, 0);\n        }\n        if (!track) {\n            if (callBack) {\n                callBack();\n            }\n            return;\n        }\n        for (var i = 1; i < list.length; i++) {\n            _spine.state.addAnimationByName(0, list[i], false, 0);\n        }\n\n        if (callBack) {\n            var data = {\n                waitingCount: list.length,\n                cb: callBack\n            };\n            _actionList.push(data);\n        }\n\n    };\n\n    that.reset = function () {\n        _spine.skeleton.setBonesToSetupPose();\n        _spine.skeleton.setSlotsToSetupPose();\n        _spine.skeleton.clearTracks();\n        _actionList = [];\n    };\n\n    var _onComplete = function () {\n        if (_actionList <= 0) {\n            return;\n        }\n\n        var data = _actionList[0];\n        data.waitingCount--;\n        if (data.waitingCount === 0) {\n            _actionList.shift();\n            data.cb();\n        }\n    };\n\n    var createSpine = function () {\n        _spine = new PIXI.spine.Spine(spineData);\n\n        if (spec.dir) {\n            that.turnAround(spec.dir);\n        }\n        if (spec.skin) {\n            that.setSkin(spec.skin);\n        }\n\n        _spine.state.onComplete = _onComplete;\n\n        that.node = _spine;\n    };\n    createSpine();\n\n    return that;\n};\n\nexport default SpineAnimation;\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/animation/spine-animation.js\n **/","/**\n * Created by wizard on 16/3/30.\n */\n\nimport ResourceManager from './resource-manager';\nvar helper = helper || {};\n\nhelper.scaleToWindow = (director, option)=> {\n\n  if (!director.runningWorld || !director.runningWorld.node) {\n    return;\n  }\n\n  let runningNode = director.runningWorld.node;\n  let str = \"\";\n  var direction = option.direction || \"portrait\";\n  if (direction === \"portrait\") {\n    str += \"portrait : \";\n    var scaleX = window.innerWidth / director.width;\n    var scaleY = window.innerHeight / director.height;\n\n    var scale = 1;\n    if (option.forceX) {\n      scale = scaleX;\n    }\n    else if (option.forceY) {\n      scale = scaleY;\n    }\n    else {\n      scale = Math.min(scaleX, scaleY);\n    }\n\n    var width = director.width * scale;\n    var height = director.height * scale;\n\n    var canvas = director.renderer.view;\n    canvas.style.padding = 0;\n    canvas.style.margin = 0;\n\n    var offsetX = (window.innerWidth - width) / 2;\n    var offsetBottom = (window.innerHeight - height) / 2;\n    var offsetTop = -offsetBottom;\n    if (offsetTop > 0) {\n      offsetTop = 0;\n    }\n    if (offsetBottom < 0) {\n      offsetBottom = 0;\n    }\n\n    //canvas.style.marginLeft = offsetX + \"px\";\n    //canvas.style.marginRight = offsetX + \"px\";\n\n\n    //canvas.style.transformOrigin = \"0 0\";\n    //canvas.style.transform = \"scale(\" + scale + \")\";\n\n    //renderer.autoResize = true;\n    director.renderer.resize(window.innerWidth, window.innerHeight);\n    runningNode.scale.set(scale, scale);\n    runningNode.position.set(offsetX, 0);\n\n    director.screen = {\n      scale: scale,\n      left: (window.innerWidth - width) / 2 / scale,\n      right:  (window.innerWidth - width) / 2 / scale + director.width,\n      top: 0,\n      bottom: window.innerHeight / scale\n    };\n  } else {\n    var directorW = director.width;\n    var directorH = director.height;\n    var innerW = window.innerWidth;\n    var innerH = window.innerHeight;\n    var fixX = 0;\n    str += \"landscape : \";\n    if (window.orientation === 180 || window.orientation === 0) {\n      //竖屏 强制旋转屏幕 交换宽高\n      directorW = director.height;\n      directorH = director.width;\n      runningNode.rotation = Math.PI / 180 * 90;\n      fixX = innerW\n    }\n    if (window.orientation === 90 || window.orientation === -90 ){\n      //横屏\n      directorW = director.width;\n      directorH = director.height;\n      runningNode.rotation = 0;\n      fixX = 0;\n    }\n    var scaleX = innerW / directorW;\n    var scaleY = innerH / directorH;\n\n    var scale = 1;\n    if (option.forceX) {\n      scale = scaleX;\n    }\n    else if (option.forceY) {\n      scale = scaleY;\n    }\n    else {\n      scale = Math.min(scaleX, scaleY);\n    }\n\n    var width = directorW * scale;\n    var height = directorH * scale;\n\n    var canvas = director.renderer.view;\n    canvas.style.padding = 0;\n    canvas.style.margin = 0;\n\n    var offsetX = (innerW - width) / 2 + fixX;\n    var offsetBottom = (innerH - height) / 2;\n    var offsetTop = -offsetBottom;\n    if (offsetTop > 0) {\n      offsetTop = 0;\n    }\n\n\n    director.renderer.resize(window.innerWidth, window.innerHeight);\n    runningNode.scale.set(scale, scale);\n    runningNode.position.set(offsetX , 0);\n    let left =(innerW - width) / 2 / scale;\n    let right = (innerW - width) / 2 / scale + director.width;\n    let bottom = innerH / scale;\n    if (fixX > 0) {\n      left = 0 ;\n      right = (innerH - height) / scale + director.width;\n      bottom = innerW / scale;\n    }\n    str += innerH + ' ' + director.screen.bottom + ' ' + height;\n    director.screen = {\n      scale: scale,\n      left: left,\n      right:  right,\n      top: 0,\n      bottom: bottom\n    };\n  }\n};\n\nhelper.reorderNode = (node)=> {\n  var depthCompare = (a, b)=> {\n    var az = a.zorder;\n    var bz = b.zorder;\n    if (az == undefined) {\n      az = 0;\n    }\n    if (bz == undefined) {\n      bz = 0;\n    }\n    if (az < bz)\n      return -1;\n    if (az > bz)\n      return 1;\n    return 0;\n  };\n\n  node.children.sort(depthCompare);\n};\n\nhelper.setObjZOder = (object, list)=> {\n  let compareUpObject = (temp1, temp2) => {\n    let info1 = temp1.info;\n    let info2 = temp2.info;\n    //if (info1.topIndex.x <= info2.topIndex.x ) {\n    //  if (info1.topIndex.y > info2.topIndex.y + info2.columnWidth - 1 ) {\n    //    return true;\n    //  } else {\n    //    return false;\n    //  }\n    //} else {\n    //  if (info1.topIndex.y + info1.columnWidth - 1 >= info2.topIndex.y ) {\n    //    return true;\n    //  } else {\n    //    return false;\n    //  }\n    //}\n    if (info1.position.y < info2.position.y) {\n      return false;\n    } else if (info1.position.y > info2.position.y) {\n      return true;\n    } else {\n      if (info1.position.x < info2.position.x) {\n        return false\n      } else {\n        return true;\n      }\n    }\n\n  };\n  let minZ = 0;\n  let maxZ = 100;\n  for (let i = 0; i < list.length; i++) {\n    if (list[i].itemKey === object.itemKey) {\n      continue;\n    }\n    if (compareUpObject(list[i], object) > 0) {\n      maxZ = Math.min(maxZ, list[i].node.zorder);\n    } else {\n      minZ = Math.max(minZ, list[i].node.zorder);\n    }\n  }\n  object.node.zorder = (minZ + maxZ) / 2;\n  //object.showZOder();\n};\n\nhelper.calculateBuildingPosition = (info, cellsControl)=> {\n  let topPos = cellsControl.index2pos(info.topIndex);\n  let downIndex = {x: info.topIndex.x + info.rowWidth - 1, y: info.topIndex.y + info.columnWidth - 1};\n  let downPos = cellsControl.index2pos(downIndex);\n  info.position = {x: (topPos.x + downPos.x) / 2, y: (topPos.y + downPos.y ) / 2};\n};\n\nhelper.isArray = function (obj) {\n  return obj && typeof obj == \"object\" && obj.hasOwnProperty('length') && typeof obj.length == 'number';\n}\n\nhelper.isObject = function (obj) {\n  return obj && typeof obj == \"object\" && !helper.isArray(obj);\n}\n\nhelper.cloneObject = function (sourceObj, targetObj) {\n\n  if (helper.isArray(sourceObj)) {\n    if (targetObj == undefined) {\n      targetObj = [];\n    }\n\n    if (!helper.isArray(targetObj)) {\n      return;\n    }\n\n    for (var i = 0; i < sourceObj.length; ++i) {\n      var subTargetObj;\n      if (helper.isArray(sourceObj[i]) || helper.isObject(sourceObj[i])) {\n        subTargetObj = helper.cloneObject(sourceObj[i]);\n      }\n      else {\n        subTargetObj = sourceObj[i];\n      }\n\n      targetObj.push(subTargetObj);\n    }\n  }\n\n  else if (helper.isObject(sourceObj)) {\n    if (targetObj == undefined) {\n      targetObj = {};\n    }\n\n    if (!helper.isObject(targetObj)) {\n      return;\n    }\n\n    for (var index in sourceObj) {\n      var subTargetObj;\n      if (helper.isArray(sourceObj[index]) || helper.isObject(sourceObj[index])) {\n        subTargetObj = helper.cloneObject(sourceObj[index]);\n      }\n      else {\n        subTargetObj = sourceObj[index];\n      }\n\n      targetObj[index] = subTargetObj;\n    }\n  }\n\n  return targetObj;\n};\n\nhelper.arrayFindOne = (list, filter)=> {\n  for (let i = 0; i < list.length; i++) {\n    if (filter(list[i])) {\n      return list[i];\n    }\n  }\n  return null;\n};\n\nhelper.pSub = (v1, v2)=> {\n  return {x: v1.x - v2.x, y: v1.y - v2.y};\n};\n\nhelper.pDistance = (v1, v2)=> {\n  let v = helper.pSub(v1, v2);\n  return Math.sqrt(v.x * v.x + v.y * v.y);\n};\n\nhelper.randomInt = function (min, max) {\n  var range = max - min;\n  var random = Math.random();\n  var result = min + Math.floor(random * range);\n  return result;\n};\n\n\nhelper.wordWrapText = function (textObj, string) {\n  //let textString = string ? string : textObj.text;\n  //let wordWrap = textObj._style.wordWrap;\n  //let wordWrapWidth = textObj._style.wordWrapWidth;\n  //let textWidth = textObj.width;//***保留此行 计算宽度\n  //if (!wordWrap) {\n  //  return;\n  //}\n  //;\n  //let newStr = \"\";\n  //let wordWrapLeftWidth = wordWrapWidth;\n  //for (let i = 0; i < textString.length; i++) {\n  //  if (string[i] === \"\\n\") {\n  //    wordWrapLeftWidth = wordWrapWidth;\n  //    newStr += '\\n';\n  //    continue;\n  //  }\n  //  let width = textObj.context.measureText(textString[i]).width;\n  //  if (wordWrapLeftWidth < width || textString[i] === \"\") {\n  //    wordWrapLeftWidth = wordWrapWidth;\n  //    newStr = newStr + \"\\n\";\n  //  }\n  //  newStr += textString[i];\n  //  wordWrapLeftWidth -= width;\n  //}\n  //textObj.text = newStr;\n};\n\nhelper.getQueryString = (name)=> {\n  var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\");\n  var r = window.location.search.substr(1).match(reg);\n  if (r != null)return decodeURI(r[2]);\n  return null;\n};\n\nhelper.getImgUrlWithSize = (url, size)=> {\n  console.log('getImgUrlWithSize', url);\n  let suffix = \"jpg\";\n  let strings = url.split(\"\\\\.\");\n  if (strings.length > 0) {\n    suffix = strings[strings.length - 1];\n  }\n  let newUrl = url + \"@1e_\" + size + \"w_\" + size + \"h_1c_0i_1o_90Q_1x.\" + suffix;\n  let resultUrl = ((url.indexOf(\"img1\") !== -1) || (url.indexOf(\"@1e_\") !== -1)) ? url : newUrl;\n  console.log('getImgUrlWithSize', resultUrl);\n  return resultUrl;\n};\n\nhelper.getDebugUid = (name)=> {\n  return parseInt(helper.getQueryString(name));\n};\n\n\nString.prototype.replaceAll = function (s1, s2) {\n  return this.replace(new RegExp(s1, \"gm\"), s2);\n}\n\n\nexport default helper;\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/helper.js\n **/","/**\n * Created by hewenlong on 16-3-18.\n */\nimport res from '../resources'\nconst ResourceManager = ResourceManager || (()=> {\n    let that = {};\n\n    let _loadingMap = {};\n    that.resource = {};\n\n    that.uiLoaded = {};\n\n\n    that.load = function (name, cb) {\n      if (that.resource[name]) {\n        console.log(\" res has load, call back\", name);\n        cb(that.resource[name]);\n        return;\n      }\n\n      var cbList = _loadingMap[name];\n      if (!cbList) {\n        //var path = _cfg[name];\n        //if (!path) {\n        //    console.log('error no path for res: ' + name);\n        //    return;\n        //}\n\n        cbList = [];\n        _loadingMap[name] = cbList;\n        cbList.push(cb);\n        PIXI.loader.add(name, name).load(function (loader, res) {\n          that.resource[name] = res[name];\n          for (var i = 0; i < cbList.length; ++i) {\n            console.log(\"res load: \" + name);\n            cbList[i].call(this, that.resource[name], name)\n          }\n          delete _loadingMap[name];\n        });\n      }\n      else {\n        cbList.push(cb);\n      }\n    };\n\n    that.loadList = function (resList, cb) {\n      let callFuncNum = 0;\n      const callFunc = ()=> {\n        callFuncNum++;\n        if (callFuncNum >= resList.length) {\n          cb.call(this);\n        }\n      };\n      for (var i = 0; i < resList.length; ++i) {\n        that.load(resList[i], callFunc);\n      }\n    };\n\n    that.loadFontList = function (fontList, cb) {\n      let callFuncNum = 0;\n      const callFunc = ()=> {\n        callFuncNum++;\n        if (callFuncNum >= fontList.length) {\n          cb.call(this);\n        }\n      };\n      if (fontList.length === 0) {\n        callFunc();\n        return;\n      }\n      for (var i = 0; i < fontList.length; ++i) {\n        that.loadFont(fontList[i], callFunc);\n      }\n    };\n\n    that.loadFont = (fontName, cb)=> {\n      let path = res['xml_' + fontName];\n      that.load(path, (res, resName)=> {\n        PIXI.extras.BitmapText.fonts[fontName] = res.bitmapFont;\n        cb.call(this, res, resName);\n      });\n    };\n\n    return that;\n  })();\n\nexport  default ResourceManager;\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/resource-manager.js\n **/","/**\n * Created by chuhaoyuan on 2016/10/18.\n */\nimport defines from './game-defines'\nconst res = {\n  'blade': 'blade.png',\n  'bj': 'bj.jpg',\n  'star': 'star.png',\n  'star2': 'star2.png',\n  'star_particle': 'star_particle.json',\n  'bar': 'bar.png',\n  'watermelon_0': 'fruit/watermelon_0.png',\n  'watermelon_1': 'fruit/watermelon_1.png',\n  'watermelon_2': 'fruit/watermelon_2.png',\n  'watermelon_3': 'fruit/watermelon_3.png',\n  'watermelon_pe': 'fruit/watermelon_pe.png',\n  'pineapple_0':'fruit/pineapple_0.png',\n  'pineapple_1':'fruit/pineapple_1.png',\n  'pineapple_2':'fruit/pineapple_2.png',\n  'pineapple_3':'fruit/pineapple_3.png',\n  'pineapple_e':'fruit/pineapple_e.png',\n  'pineapple_pe':'fruit/pineapple_pe.png',\n  'dargonfruit_0':'fruit/dargonfruit_0.png',\n  'dargonfruit_1':'fruit/dargonfruit_1.png',\n  'dargonfruit_2':'fruit/dargonfruit_2.png',\n  'dargonfruit_3':'fruit/dargonfruit_3.png',\n  'dargonfruit_e':'fruit/dargonfruit_e.png',\n  'dargonfruit_e_1':'fruit/dargonfruit_e_1.png',\n  'dargonfruit_pe':'fruit/dargonfruit_pe.png',\n  'pineapple_e_1': 'fruit/pineapple_e_1.png',\n  'dargonfruit_pe': 'fruit/dargonfruit_pe.png',\n  'watermelon_e_1': 'fruit/watermelon_e_1.png',\n  'dargon_pe': 'dargon_pe.json',\n  'watermelon_e' : 'fruit/watermelon_e.png',\n  'runlight_0': 'runlight_0.png',\n  'runlight_1': 'runlight_1.png',\n  'runlight_2': 'runlight_2.png',\n  'runlight_3': 'runlight_3.png',\n  'runlight_4': 'runlight_4.png',\n  'kiwifruit_0': 'fruit/kiwifruit_0.png',\n  'kiwifruit_1': 'fruit/kiwifruit_1.png',\n  'kiwifruit_2': 'fruit/kiwifruit_2.png',\n  'kiwifruit_3': 'fruit/kiwifruit_3.png',\n  'kiwifruit_e': 'fruit/kiwifruit_e.png',\n  'kiwifruit_e_1': 'fruit/kiwifruit_e_1.png',\n  'kiwifruit_pe': 'fruit/kiwifruit_pe.png',\n  'orange_0': 'fruit/orange_0.png',\n  'orange_1': 'fruit/orange_1.png',\n  'orange_2': 'fruit/orange_2.png',\n  'orange_3': 'fruit/orange_3.png',\n  'orange_e': 'fruit/orange_e.png',\n  'orange_e_1': 'fruit/orange_e_1.png',\n  'orange_pe': 'fruit/orange_pe.png',\n  'ani_bomb': 'ani_bomb.json',\n  'ani_flash_white': 'ani_flash_white.json',\n  'ani_spark': 'ani_spark.json',\n  'jiacheng': 'jiacheng,json',\n  'banana_0': 'fruit/banana_0.png',\n  'banana_1': 'fruit/banana_1.png',\n  'banana_2': 'fruit/banana_2.png',\n  'banana_3': 'fruit/banana_3.png',\n  'banana_e': 'fruit/banana_e.png',\n  'banana_e_1': 'fruit/banana_e_1.png',\n  'banana_pe': 'fruit/banana_pe.png',\n  'bt_close_normal': 'bt_close_normal.png',\n  'bt_restart_normal': 'bt_restart_normal.png',\n  'icon_bomb': 'icon_bomb.png',\n  'icon_fruit': 'icon_fruit.png',\n  'img_girl': 'img_girl.png',\n  'img_start1': 'img_start1.png',\n  'start': 'start.png',\n  'start1': 'start1.png',\n  'start2': 'start2.png',\n  'start3': 'start3.png',\n  'text_bombNmb': 'text_bombNmb.png',\n  'text_bombNmb2': 'text_bombNmb2.png',\n  'text_fruitNmb': 'text_fruitNmb.png',\n  'text_gift': 'text_gift.png',\n  'text_tips': 'text_tips.png',\n  'text_gameOver': 'text_gameOver.png',\n  'icon_gift': 'icon_gift.png',\n  'star': 'star.png',\n  'xml_combo': 'font/combo.xml',\n  'xml_default_number':'font/default_number.xml',\n  'xml_gift_number': 'font/gift_number.xml',\n  'xml_gold_number': 'font/gold_number.xml',\n  'xml_rank_number_1': 'font/rank_number_1.xml',\n  'xml_rank_number_2': 'font/rank_number_2.xml',\n  'xml_rank_number_3': 'font/rank_number_3.xml',\n  'xml_rank_number_4': 'font/rank_number_4.xml',\n  'xml_rank_number_5': 'font/rank_number_5.xml',\n  'xml_rank_number_6': 'font/rank_number_6.xml',\n  'reday': 'reday.png',\n  'go': 'go.png',\n  'box_white': 'box_white.jpg',\n  'zhuangban': 'zhuangban.png',\n  'icon_gift2': 'icon_gift2.png',\n  'icon_fruitwater': 'icon_fruitWater.png',\n  'ani_packet_break': 'ani_packet_break.json',\n  'grain': 'grain.png',\n  'grain_json': 'grain.json',\n  'resetPack': 'resetPack.png',\n  'bt_back_normal': 'bt_back_normal.png',\n  'zhezhao': 'zhezhao.png',\n  'head_white': 'head_white.png',\n  'apple_0': 'fruit/apple_0.png',\n  'apple_1': 'fruit/apple_1.png',\n  'apple_2': 'fruit/apple_2.png',\n  'apple_3': 'fruit/apple_3.png',\n  'apple_e_1': 'fruit/apple_e_1.png',\n  'apple_e': 'fruit/apple_e.png',\n  'apple_pe': 'fruit/apple_pe.png',\n  'peach_0': 'fruit/peach_0.png',\n  'peach_1': 'fruit/peach_1.png',\n  'peach_2': 'fruit/peach_2.png',\n  'peach_3': 'fruit/peach_3.png',\n  'peach_e_1': 'fruit/peach_e_1.png',\n  'peach_e': 'fruit/peach_e.png',\n  'peach_pe': 'fruit/peach_pe.png',\n  'bt_quit_normal': 'bt_quit_normal.png',\n  'bt_replay_normal': 'bt_re[lay_normal.png',\n  'bt_view_normal': 'bt_view_normal.png',\n  'icon_redNumaber': 'icon_redNumaber.png',\n  'img_box3': 'img_box3.png',\n  'ribbon_1': 'ribbon_1.png',\n  'ribbon_25': 'ribbon_25.png',\n  'ribbon_3': 'ribbon_3.png',\n  'ribbon_4': 'ribbon_4.png',\n  'ribbon_5': 'ribbon_5.png',\n  'caidia_json': 'caidia.json',\n  'icon_nmb1': 'icon_nmb1.png',\n  'icon_nmb2': 'icon_nmb2.png',\n  'icon_nmb3': 'icon_nmb3.png',\n  'lemon_0': 'fruit/lemon_0.png',\n  'lemon_1': 'fruit/lemon_1.png',\n  'lemon_2': 'fruit/lemon_2.png',\n  'lemon_3': 'fruit/lemon_3.png',\n  'lemon_e_1': 'fruit/lemon_e_1.png',\n  'lemon_e': 'fruit/lemon_e.png',\n  'lemon_pe': 'fruit/lemon_pe.png',\n  'pear_0': 'fruit/pear_0.png',\n  'pear_1': 'fruit/pear_1.png',\n  'pear_2': 'fruit/pear_2.png',\n  'pear_3': 'fruit/pear_3.png',\n  'pear_e_1': 'fruit/pear_e_1.png',\n  'pear_e': 'fruit/pear_e.png',\n  'pear_pe': 'fruit/pear_pe.png',\n  'strawberry_0': 'fruit/strawberry_0.png',\n  'strawberry_1': 'fruit/strawberry_1.png',\n  'strawberry_2': 'fruit/strawberry_2.png',\n  'strawberry_3': 'fruit/strawberry_3.png',\n  'strawberry_e_1': 'fruit/strawberry_e_1.png',\n  'strawberry_e': 'fruit/strawberry_e.png',\n  'strawberry_pe': 'fruit/strawberry_pe.png',\n  'gameover1': 'gameover1.png',\n  'head1': 'head1.png',\n  'head1_1': 'head1_1.png',\n  'head3': 'head2.png',\n  'head2': 'head3.png',\n  'head_0': 'head_0.png',\n  'hongbao': 'hongbao.png',\n  'hongbao1': 'hongbao1.png',\n  'hongbao2': 'hongbao2.png',\n  'hongbao_light': 'hongbao_light',\n  'img_he': 'img_he.png',\n  'img_yellow': 'img_yellow.png',\n  'img_st_chuxian': 'img_st_chuxian.png',\n  'no1': 'no1.png',\n  'no2': 'no2.png',\n  'no3': 'no3.png',\n  'pomegranate_0': 'fruit/pomegranate_0.png',\n  'pomegranate_1': 'fruit/pomegranate_1.png',\n  'pomegranate_2': 'fruit/pomegranate_2.png',\n  'pomegranate_3': 'fruit/pomegranate_3.png',\n  'pomegranate_e_1': 'fruit/pomegranate_e_1.png',\n  'pomegranate_e': 'fruit/pomegranate_e.png',\n  'pomegranate_pe': 'fruit/pomegranate_pe.png',\n  'pomegranatefragments_1': 'fruit/pomegranatefragments_1.png',\n  'pomegranatefragments_2': 'fruit/pomegranatefragments_2.png',\n  'pomegranatefragments_3': 'fruit/pomegranatefragments_3.png',\n  'pomegranatefragments_4': 'fruit/pomegranatefragments_4.png',\n  'pomegranatefragments_5': 'fruit/pomegranatefragments_5.png',\n  'pomegranatefragments_6': 'fruit/pomegranatefragments_6.png',\n  'pomegranatefragments_7': 'fruit/pomegranatefragments_7.png',\n  'pomegranatefragments_8': 'fruit/pomegranatefragments_8.png',\n  'pomegranatefragments_9': 'fruit/pomegranatefragments_9.png',\n  'pomegranatefragments_10': 'fruit/pomegranatefragments_10.png',\n  'bangzhu': 'bangzhu.png',\n  'icon_hongbao': 'icon_hongbao.png',\n  'icon_nengliang': 'icon_nengliang.png',\n  'icon_shiliu': 'icon_shiliu.png',\n  'icon_shiliujic': 'icon_shiliujic.png',\n  'icon_shuiguo': 'icon_shuiguo.png',\n  'icon_zhadan': 'icon_zhadan.png',\n  'text_hongbao': 'text_hongbao.png',\n  'text_nengliang': 'text_nengliang.png',\n  'text_shiliu': 'text_shiliu.png',\n  'text_shuiguo': 'text_shuiguo.png',\n  'text_zhadan': 'text_zhadan.png',\n\n  'img_light1': 'img_light1.png',\n\n  'daoguang0' : 'daoguang0.png',\n  'daoguang1' : 'daoguang1.png',\n  'fasheguang0' : 'fasheguang0.png',\n  'pomegranatefragments_pe': 'fruit/pomegranatefragments_pe.png',\n  'jindutiao_0': 'jindutiao_0.png',\n  'jindutiao_1': 'jindutiao_1.png',\n  'jindutiao_2': 'jindutiao_2.png',\n  'jindutiao_3': 'jindutiao_3.png',\n  'jindutiao_4': 'jindutiao_4.png',\n  'text_mygift': 'text_mygift.png',\n  'text_myrank': 'text_myrank.png',\n  'icon_jiaocheng': 'icon_jiaocheng.png',\n  'icon_st_shuiguo': 'icon_st_shuiguo.png',\n  'icon_st_zhadan': 'icon_st_zhadan.png',\n  'logo': 'logo.png',\n  'icon_start': 'icon_start.png',\n  'text_wodefenshu': 'text_wodefenshu.png',\n  'box_rankhome': 'box_rankhome.png',\n  'icon_box': 'icon_box.png',\n  'icon_box2': 'icon_box2.png',\n  'box_rankhome2': 'box_rankhome2.png',\n  'bt_back': 'bt_back.png',\n  'bt_jianglishuoming': 'bt_jianglishuoming.png',\n  'icon_money': 'icon_money.png',\n  'superFruitLight': 'pomegranatefragments_7.png',\n  'hongbao2': 'hongbao2.png',\n  'icon_lianji': 'icon_lianji.png',\n  'icon_mingzhong': 'icon_mingzhong.png',\n  'text_jinri': 'text_jinri.png',\n  'text_dangqian' : 'text-dangqian.png',\n  'icon_gift3': 'icon_gift3.png',\n  'icon_wodefenshu':'icon_wodefenshu-.png',\n  'NEW1': 'NEW1.png',\n  'bg_guang': 'bg_guang.png',\n  // text_jinri.png\n// text-dangqian.png\n\n  'apple_e_2': 'fruit/apple_e_2.png',\n  'banana_e_2': 'fruit/banana_e_2.png',\n  'dargonfruit_e_2': 'fruit/dargonfruit_e_2.png',\n  'kiwifruit_e_2': 'fruit/kiwifruit_e_2.png',\n  'lemon_e_2': 'fruit/lemon_e_2.png',\n  'orange_e_2': 'fruit/orange_e_2.png',\n  'peach_e_2': 'fruit/peach_e_2.png',\n  'pear_e_2': 'fruit/pear_e_2.png',\n  'pineapple_e_2': 'fruit/pineapple_e_2.png',\n  'pomegranate_e_2': 'fruit/pomegranate_e_2.png',\n  'strawberry_e_2': 'fruit/strawberry_e_2.png',\n  'watermelon_e_2': 'fruit/watermelon_e_2.png',\n  'img_yellow_26': 'img_yellow_26.png',\n  'img_chibang': 'img_chibang.png',\n  'img_chibang2': 'img_chibang2.png',\n  'img_qizhi': 'img_qizhi.png',\n  'icon_hongbao2': 'icon_hongbao2.png',\n  'icon_hongbao3': 'icon_hongbao3.png',\n  'icon_shuiguo2': 'icon_shuiguo2.png',\n  'icon_shuiguo3': 'icon_shuiguo3.png',\n  'img_go_black': 'img_go_black.png',\n  'img_he2': 'img_he2.png'\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// strawberry_e_2.png\n// strawberry_e_3.png\n// watermelon_e_2.png\n// watermelon_e_3.png\n\n};\nfor (let i in res){res[i]=defines.resPath + res[i]}\nexport default res;\n\n\n/** WEBPACK FOOTER **\n ** ./src/resources.js\n **/","/**\n * Created by wizard on 16/3/14.\n */\nvar defines = {};\n\nif (__DEV__) {\n  defines.rootPath = \"./\";\n  defines.resPath = \"./assets/cutfruit/\";\n}\nelse {\n  defines.rootPath = \"games/test_ui/\";\n  defines.resPath = \"games/test_ui/assets/\";\n}\n\n\n\ndefines.debugMode = true;\ndefines.versionCode = '2016.12.8.18.47';\n//http://210.73.222.34/fruit\n\n// defines.gameHomeURL = 'http://fruit.yfb.xiaoyaoai.cn/';\ndefines.gameHomeURL = 'http://test.game.xiaoyouapp.cn:30092/';\n// defines.gameHomeURL = 'http://192.168.31.248:30092/';\n// defines.gameHomeURL = 'http://210.73.222.34/fruit';\n\ndefines.URLMethods = {\n  getRandom: 'getRandom',\n  gameOver: 'gameOver',\n  gameStart: 'gameStart',\n  GetFruitRank: 'GetFruitRank',\n  behaviorRecord: 'behaviorRecord'\n};\n\n\ndefines.musicConfig = {\n  addfruit_0 : \"assets/cutfruit/music/addfruit_0.ogg\",\n  addfruit_1 : \"assets/cutfruit/music/addfruit_1.ogg\",\n  cut_kiwifruit:   \"assets/cutfruit/music/cut_apple.ogg\",\n  cut_pineapple:   \"assets/cutfruit/music/cut_apple.ogg\",\n  cut_banana:   \"assets/cutfruit/music/cut_banana.ogg\",\n  cut_bomb:   \"assets/cutfruit/music/cut_bomb.ogg\",\n  cut_dargonfruit:   \"assets/cutfruit/music/cut_dargonfruit.ogg\",\n  cut_orange:   \"assets/cutfruit/music/cut_orange.ogg\",\n  cut_watermelon:   \"assets/cutfruit/music/cut_watermelon.ogg\",\n  cut_lemon: 'assets/cutfruit/music/cut_watermelon.ogg',\n  cut_pear: 'assets/cutfruit/music/cut_watermelon.ogg',\n  cut_strawberry: 'assets/cutfruit/music/cut_watermelon.ogg',\n  cut_apple: 'assets/cutfruit/music/cut_watermelon.ogg',\n  cut_peach: 'assets/cutfruit/music/cut_watermelon.ogg',\n  cuteffect_0:   \"assets/cutfruit/music/cuteffect_0.ogg\",\n  cuteffect_1:   \"assets/cutfruit/music/cuteffect_1.ogg\",\n  cuteffect_2:   \"assets/cutfruit/music/cuteffect_2.ogg\",\n  gameover:   \"assets/cutfruit/music/gameover.ogg\",\n  gamestart:  \"assets/cutfruit/music/gamestart.ogg\",\n  getred_0:   \"assets/cutfruit/music/red_bag0.ogg\",\n  getred_1:   \"assets/cutfruit/music/red_bag1.ogg\",\n  readygo: \"assets/cutfruit/music/readygo.ogg\",\n  bgmusic: \"assets/cutfruit/music/bg.ogg\",\n  redbomb: \"assets/cutfruit/music/red_bomb.ogg\"\n\n};\ndefines.musicIosConfig = {\n  // addfruit_0 : \"assets/cutfruit/music_nogg/addfruit_0.wma\",\n  // addfruit_1 : \"assets/cutfruit/music_nogg/addfruit_1.wma\",\n  // cut_kiwifruit:   \"assets/cutfruit/music_nogg/cut_apple.wma\",\n  // cut_pineapple:   \"assets/cutfruit/music_nogg/cut_apple.wma\",\n  // cut_banana:   \"assets/cutfruit/music_nogg/cut_banana.wma\",\n  // cut_bomb:   \"assets/cutfruit/music_nogg/cut_bomb.wma\",\n  // cut_dargonfruit:   \"assets/cutfruit/music_nogg/cut_dargonfruit.wma\",\n  // cut_orange:   \"assets/cutfruit/music_nogg/cut_orange.wma\",\n  // cut_watermelon:   \"assets/cutfruit/music_nogg/cut_watermelon.wma\",\n  // cut_lemon: 'assets/cutfruit/music_nogg/cut_watermelon.wma',\n  // cut_pear: 'assets/cutfruit/music_nogg/cut_watermelon.wma',\n  // cut_strawberry: 'assets/cutfruit/music_nogg/cut_watermelon.wma',\n  // cut_apple: 'assets/cutfruit/music_nogg/cut_watermelon.wma',\n  // cut_peach: 'assets/cutfruit/music_nogg/cut_watermelon.wma',\n  // cuteffect_0:   \"assets/cutfruit/music_nogg/cuteffect_0.wma\",\n  // cuteffect_1:   \"assets/cutfruit/music_nogg/cuteffect_1.wma\",\n  // cuteffect_2:   \"assets/cutfruit/music_nogg/cuteffect_2.wma\",\n  // gameover:   \"assets/cutfruit/music_nogg/gameover.wma\",\n  // gamestart:  \"assets/cutfruit/music_nogg/gamestart.wma\",\n  // getred_0:   \"assets/cutfruit/music_nogg/red_bag0.wma\",\n  // getred_1:   \"assets/cutfruit/music_nogg/red_bag1.wma\",\n  // readygo: \"assets/cutfruit/music_nogg/readygo.wma\",\n  // bgmusic: \"assets/cutfruit/music_nogg/bg.mp3\",\n  // redbomb: \"assets/cutfruit/music_nogg/red_bomb.wma\"\n  addfruit_0 : \"addfruit_0.mp3\",\n  addfruit_1 : \"addfruit_1.mp3\",\n  cut_kiwifruit:   \"cut_apple.mp3\",\n  cut_pineapple:   \"cut_apple.mp3\",\n  cut_banana:   \"cut_banana.mp3\",\n  cut_bomb:   \"cut_bomb.mp3\",\n  cut_dargonfruit:   \"cut_dargonfruit.mp3\",\n  cut_orange:   \"acut_orange.mp3\",\n  cut_watermelon:   \"cut_watermelon.mp3\",\n  cut_lemon: 'cut_watermelon.mp3',\n  cut_pear: 'cut_watermelon.mp3',\n  cut_strawberry: 'cut_watermelon.mp3',\n  cut_apple: 'cut_watermelon.mp3',\n  cut_peach: 'cut_watermelon.mp3',\n  cuteffect_0:   \"cuteffect_0.mp3\",\n  cuteffect_1:   \"cuteffect_1.mp3\",\n  cuteffect_2:   \"cuteffect_2.mp3\",\n  gameover:   \"gameover.mp3\",\n  gamestart:  \"gamestart.mp3\",\n  getred_0:   \"red_bag0.mp3\",\n  getred_1:   \"red_bag1.mp3\",\n  readygo: \"readygo.mp3\",\n  bgmusic: \"bg.mp3\",\n  redbomb: \"red_bomb.mp3\"\n}\n\ndefines.fontList = ['combo','default_number','gift_number','gold_number','rank_number_1','rank_number_2','rank_number_3','rank_number_4','rank_number_5'];\nconst Width = 480 , Height = 800;\ndefines.Canvas = {\n  width: Width,\n  height: Height,\n  posX_center: Width * 0.5,\n  posY_center: Height * 0.5\n};\n\n\nexport default defines;\n\n\n/** WEBPACK FOOTER **\n ** ./src/game-defines.js\n **/","/**\n * Created by wizard on 16/3/30.\n */\n\nconst fpsLimits = 1000 / 60;\nimport TWEEN from 'tween.js'\nimport Registry from '../registry'\nconst Director = function (width, height) {\n  let that = {};\n\n  that.width = width;\n  that.height = height;\n\n  that.screen = {\n    scale: 1,\n    left: 0,\n    right: width,\n    top: 0,\n    bottom: height\n  };\n\n  //that.renderer = new PIXI.CanvasRenderer(width, height);\n  that.renderer = PIXI.autoDetectRenderer(width, height);\n  document.body.appendChild(that.renderer.view);\n\n  let _worldList = [];\n\n  const _getTopWorld = ()=> {\n    if(_worldList.length > 0) {\n      return _worldList[_worldList.length - 1];\n    }\n\n    return null;\n  };\n\n  let _lastTime = performance.now();\n  var stepOnce = (timestamp)=> {\n    requestAnimationFrame(stepOnce);\n\n    // that.audio.update();\n    var dt = timestamp - _lastTime;\n    //if (dt < fpsLimits) {\n    //  return;\n    //}\n\n    //if (dt = fpsLimits)\n\n    if (!_getTopWorld() ) {\n      _lastTime = timestamp;\n      return;\n    }\n\n    var tmpTime = _lastTime;\n    while (dt > fpsLimits) {\n      tmpTime += fpsLimits;\n      PIXI.ticker.shared.update(tmpTime);\n      TWEEN.update(tmpTime);\n\n      that.updateExecute(fpsLimits);\n\n      dt -= fpsLimits;\n    }\n\n    tmpTime += dt;\n    PIXI.ticker.shared.update(tmpTime);\n    TWEEN.update(tmpTime);\n\n    that.updateExecute(dt);\n\n    that.renderer.render(_getTopWorld().node);\n\n    if(that.onLoopEnd) {\n      that.onLoopEnd.call(this)\n    }\n\n    _lastTime = timestamp;\n  };\n  stepOnce(_lastTime);\n  \n  that.popWorld = ()=> {\n    let lastWorld = _worldList.pop();\n    if (lastWorld) {\n      lastWorld.onPause();\n      lastWorld.destroy();\n    }\n\n    let topWorld = _getTopWorld();\n    if(topWorld) {\n      topWorld.onResume();\n    }\n  };\n\n  that.replaceWorld = (newWorld)=> {\n    let topWorld = _worldList.pop();\n    if(topWorld) {\n      topWorld.onPause();\n      topWorld.destroy();\n    }\n\n    _worldList.push(newWorld);\n    newWorld.onResume();\n\n    window.dispatchEvent(new Event('resize'));\n\n  };\n\n  that.startWorld = (newWorld)=> {\n\n    let topWorld = _getTopWorld();\n    if(topWorld) {\n      topWorld.onPause();\n    }\n\n    _worldList.push(newWorld);\n    newWorld.onResume();\n\n    window.dispatchEvent(new Event('resize'));\n  };\n\n  Registry(that,['update']);\n\n  Object.defineProperties(that, {\n    'runningWorld': {\n      get: ()=> {\n        return _getTopWorld();\n      }\n    }\n  });\n\n  return that;\n};\n\n\nlet SharedDirector = SharedDirector || (()=> {\n    let that = {};\n    let sharedDirector = null;\n    that.create = function (width, height) {\n      sharedDirector = Director(width, height);\n      return sharedDirector;\n    };\n\n    that.sharedDirector = function () {\n      return sharedDirector;\n    };\n\n    return that;\n\n  })();\n\nexport  default SharedDirector;\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/render/director.js\n **/","/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\n\nvar TWEEN = TWEEN || (function () {\n\n\tvar _tweens = [];\n\n\treturn {\n\n\t\tgetAll: function () {\n\n\t\t\treturn _tweens;\n\n\t\t},\n\n\t\tremoveAll: function () {\n\n\t\t\t_tweens = [];\n\n\t\t},\n\n\t\tadd: function (tween) {\n\n\t\t\t_tweens.push(tween);\n\n\t\t},\n\n\t\tremove: function (tween) {\n\n\t\t\tvar i = _tweens.indexOf(tween);\n\n\t\t\tif (i !== -1) {\n\t\t\t\t_tweens.splice(i, 1);\n\t\t\t}\n\n\t\t},\n\n\t\tupdate: function (time, preserve) {\n\n\t\t\tif (_tweens.length === 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar i = 0;\n\n\t\t\ttime = time !== undefined ? time : TWEEN.now();\n\n\t\t\twhile (i < _tweens.length) {\n\n\t\t\t\tif (_tweens[i].update(time) || preserve) {\n\t\t\t\t\ti++;\n\t\t\t\t} else {\n\t\t\t\t\t_tweens.splice(i, 1);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\t};\n\n})();\n\n\n// Include a performance.now polyfill\n(function () {\n\t// In node.js, use process.hrtime.\n\tif (this.window === undefined && this.process !== undefined) {\n\t\tTWEEN.now = function () {\n\t\t\tvar time = process.hrtime();\n\n\t\t\t// Convert [seconds, microseconds] to milliseconds.\n\t\t\treturn time[0] * 1000 + time[1] / 1000;\n\t\t};\n\t}\n\t// In a browser, use window.performance.now if it is available.\n\telse if (this.window !== undefined &&\n\t         window.performance !== undefined &&\n\t\t window.performance.now !== undefined) {\n\n\t\t// This must be bound, because directly assigning this function\n\t\t// leads to an invocation exception in Chrome.\n\t\tTWEEN.now = window.performance.now.bind(window.performance);\n\t}\n\t// Use Date.now if it is available.\n\telse if (Date.now !== undefined) {\n\t\tTWEEN.now = Date.now;\n\t}\n\t// Otherwise, use 'new Date().getTime()'.\n\telse {\n\t\tTWEEN.now = function () {\n\t\t\treturn new Date().getTime();\n\t\t};\n\t}\n})();\n\n\nTWEEN.Tween = function (object) {\n\n\tvar _object = object;\n\tvar _valuesStart = {};\n\tvar _valuesEnd = {};\n\tvar _valuesStartRepeat = {};\n\tvar _duration = 1000;\n\tvar _repeat = 0;\n\tvar _yoyo = false;\n\tvar _isPlaying = false;\n\tvar _reversed = false;\n\tvar _delayTime = 0;\n\tvar _startTime = null;\n\tvar _easingFunction = TWEEN.Easing.Linear.None;\n\tvar _interpolationFunction = TWEEN.Interpolation.Linear;\n\tvar _chainedTweens = [];\n\tvar _onStartCallback = null;\n\tvar _onStartCallbackFired = false;\n\tvar _onUpdateCallback = null;\n\tvar _onCompleteCallback = null;\n\tvar _onStopCallback = null;\n\n\t// Set all starting values present on the target object\n\tfor (var field in object) {\n\t\t_valuesStart[field] = parseFloat(object[field], 10);\n\t}\n\n\tthis.to = function (properties, duration) {\n\n\t\tif (duration !== undefined) {\n\t\t\t_duration = duration;\n\t\t}\n\n\t\t_valuesEnd = properties;\n\n\t\treturn this;\n\n\t};\n\n\tthis.start = function (time) {\n\n\t\tTWEEN.add(this);\n\n\t\t_isPlaying = true;\n\n\t\t_onStartCallbackFired = false;\n\n\t\t_startTime = time !== undefined ? time : TWEEN.now();\n\t\t_startTime += _delayTime;\n\n\t\tfor (var property in _valuesEnd) {\n\n\t\t\t// Check if an Array was provided as property value\n\t\t\tif (_valuesEnd[property] instanceof Array) {\n\n\t\t\t\tif (_valuesEnd[property].length === 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Create a local copy of the Array with the start value at the front\n\t\t\t\t_valuesEnd[property] = [_object[property]].concat(_valuesEnd[property]);\n\n\t\t\t}\n\n\t\t\t// If `to()` specifies a property that doesn't exist in the source object,\n\t\t\t// we should not set that property in the object\n\t\t\tif (_valuesStart[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t_valuesStart[property] = _object[property];\n\n\t\t\tif ((_valuesStart[property] instanceof Array) === false) {\n\t\t\t\t_valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n\t\t\t}\n\n\t\t\t_valuesStartRepeat[property] = _valuesStart[property] || 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t};\n\n\tthis.stop = function () {\n\n\t\tif (!_isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tTWEEN.remove(this);\n\t\t_isPlaying = false;\n\n\t\tif (_onStopCallback !== null) {\n\t\t\t_onStopCallback.call(_object);\n\t\t}\n\n\t\tthis.stopChainedTweens();\n\t\treturn this;\n\n\t};\n\n\tthis.stopChainedTweens = function () {\n\n\t\tfor (var i = 0, numChainedTweens = _chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t_chainedTweens[i].stop();\n\t\t}\n\n\t};\n\n\tthis.delay = function (amount) {\n\n\t\t_delayTime = amount;\n\t\treturn this;\n\n\t};\n\n\tthis.repeat = function (times) {\n\n\t\t_repeat = times;\n\t\treturn this;\n\n\t};\n\n\tthis.yoyo = function (yoyo) {\n\n\t\t_yoyo = yoyo;\n\t\treturn this;\n\n\t};\n\n\n\tthis.easing = function (easing) {\n\n\t\t_easingFunction = easing;\n\t\treturn this;\n\n\t};\n\n\tthis.interpolation = function (interpolation) {\n\n\t\t_interpolationFunction = interpolation;\n\t\treturn this;\n\n\t};\n\n\tthis.chain = function () {\n\n\t\t_chainedTweens = arguments;\n\t\treturn this;\n\n\t};\n\n\tthis.onStart = function (callback) {\n\n\t\t_onStartCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.onUpdate = function (callback) {\n\n\t\t_onUpdateCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.onComplete = function (callback) {\n\n\t\t_onCompleteCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.onStop = function (callback) {\n\n\t\t_onStopCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.update = function (time) {\n\n\t\tvar property;\n\t\tvar elapsed;\n\t\tvar value;\n\n\t\tif (time < _startTime) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (_onStartCallbackFired === false) {\n\n\t\t\tif (_onStartCallback !== null) {\n\t\t\t\t_onStartCallback.call(_object);\n\t\t\t}\n\n\t\t\t_onStartCallbackFired = true;\n\n\t\t}\n\n\t\telapsed = (time - _startTime) / _duration;\n\t\telapsed = elapsed > 1 ? 1 : elapsed;\n\n\t\tvalue = _easingFunction(elapsed);\n\n\t\tfor (property in _valuesEnd) {\n\n\t\t\t// Don't update properties that do not exist in the source object\n\t\t\tif (_valuesStart[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar start = _valuesStart[property] || 0;\n\t\t\tvar end = _valuesEnd[property];\n\n\t\t\tif (end instanceof Array) {\n\n\t\t\t\t_object[property] = _interpolationFunction(end, value);\n\n\t\t\t} else {\n\n\t\t\t\t// Parses relative end values with start as base (e.g.: +10, -3)\n\t\t\t\tif (typeof (end) === 'string') {\n\n\t\t\t\t\tif (end.charAt(0) === '+' || end.charAt(0) === '-') {\n\t\t\t\t\t\tend = start + parseFloat(end, 10);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tend = parseFloat(end, 10);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Protect against non numeric properties.\n\t\t\t\tif (typeof (end) === 'number') {\n\t\t\t\t\t_object[property] = start + (end - start) * value;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif (_onUpdateCallback !== null) {\n\t\t\t_onUpdateCallback.call(_object, value);\n\t\t}\n\n\t\tif (elapsed === 1) {\n\n\t\t\tif (_repeat > 0) {\n\n\t\t\t\tif (isFinite(_repeat)) {\n\t\t\t\t\t_repeat--;\n\t\t\t\t}\n\n\t\t\t\t// Reassign starting values, restart by making startTime = now\n\t\t\t\tfor (property in _valuesStartRepeat) {\n\n\t\t\t\t\tif (typeof (_valuesEnd[property]) === 'string') {\n\t\t\t\t\t\t_valuesStartRepeat[property] = _valuesStartRepeat[property] + parseFloat(_valuesEnd[property], 10);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_yoyo) {\n\t\t\t\t\t\tvar tmp = _valuesStartRepeat[property];\n\n\t\t\t\t\t\t_valuesStartRepeat[property] = _valuesEnd[property];\n\t\t\t\t\t\t_valuesEnd[property] = tmp;\n\t\t\t\t\t}\n\n\t\t\t\t\t_valuesStart[property] = _valuesStartRepeat[property];\n\n\t\t\t\t}\n\n\t\t\t\tif (_yoyo) {\n\t\t\t\t\t_reversed = !_reversed;\n\t\t\t\t}\n\n\t\t\t\t_startTime = time + _delayTime;\n\n\t\t\t\treturn true;\n\n\t\t\t} else {\n\n\t\t\t\tif (_onCompleteCallback !== null) {\n\t\t\t\t\t_onCompleteCallback.call(_object);\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, numChainedTweens = _chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t\t\t// Make the chained tweens start exactly at the time they should,\n\t\t\t\t\t// even if the `update()` method was called way past the duration of the tween\n\t\t\t\t\t_chainedTweens[i].start(_startTime + _duration);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t};\n\n};\n\n\nTWEEN.Easing = {\n\n\tLinear: {\n\n\t\tNone: function (k) {\n\n\t\t\treturn k;\n\n\t\t}\n\n\t},\n\n\tQuadratic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k * (2 - k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * (--k * (k - 2) - 1);\n\n\t\t}\n\n\t},\n\n\tCubic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tQuartic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn 1 - (--k * k * k * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * ((k -= 2) * k * k * k - 2);\n\n\t\t}\n\n\t},\n\n\tQuintic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tSinusoidal: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.cos(k * Math.PI / 2);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sin(k * Math.PI / 2);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\treturn 0.5 * (1 - Math.cos(Math.PI * k));\n\n\t\t}\n\n\t},\n\n\tExponential: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k === 0 ? 0 : Math.pow(1024, k - 1);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k === 1 ? 1 : 1 - Math.pow(2, - 10 * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * Math.pow(1024, k - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (- Math.pow(2, - 10 * (k - 1)) + 2);\n\n\t\t}\n\n\t},\n\n\tCircular: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.sqrt(1 - k * k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sqrt(1 - (--k * k));\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn - 0.5 * (Math.sqrt(1 - k * k) - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n\n\t\t}\n\n\t},\n\n\tElastic: {\n\n\t\tIn: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tk *= 2;\n\n\t\t\tif (k < 1) {\n\t\t\t\treturn -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\t\t\t}\n\n\t\t\treturn 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\n\n\t\t}\n\n\t},\n\n\tBack: {\n\n\t\tIn: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn k * k * ((s + 1) * k - s);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn --k * k * ((s + 1) * k + s) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tvar s = 1.70158 * 1.525;\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * (k * k * ((s + 1) * k - s));\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n\n\t\t}\n\n\t},\n\n\tBounce: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - TWEEN.Easing.Bounce.Out(1 - k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k < (1 / 2.75)) {\n\t\t\t\treturn 7.5625 * k * k;\n\t\t\t} else if (k < (2 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n\t\t\t} else if (k < (2.5 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n\t\t\t} else {\n\t\t\t\treturn 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n\t\t\t}\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k < 0.5) {\n\t\t\t\treturn TWEEN.Easing.Bounce.In(k * 2) * 0.5;\n\t\t\t}\n\n\t\t\treturn TWEEN.Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n\n\t\t}\n\n\t}\n\n};\n\nTWEEN.Interpolation = {\n\n\tLinear: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.Linear;\n\n\t\tif (k < 0) {\n\t\t\treturn fn(v[0], v[1], f);\n\t\t}\n\n\t\tif (k > 1) {\n\t\t\treturn fn(v[m], v[m - 1], m - f);\n\t\t}\n\n\t\treturn fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n\n\t},\n\n\tBezier: function (v, k) {\n\n\t\tvar b = 0;\n\t\tvar n = v.length - 1;\n\t\tvar pw = Math.pow;\n\t\tvar bn = TWEEN.Interpolation.Utils.Bernstein;\n\n\t\tfor (var i = 0; i <= n; i++) {\n\t\t\tb += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n\t\t}\n\n\t\treturn b;\n\n\t},\n\n\tCatmullRom: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.CatmullRom;\n\n\t\tif (v[0] === v[m]) {\n\n\t\t\tif (k < 0) {\n\t\t\t\ti = Math.floor(f = m * (1 + k));\n\t\t\t}\n\n\t\t\treturn fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n\n\t\t} else {\n\n\t\t\tif (k < 0) {\n\t\t\t\treturn v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n\t\t\t}\n\n\t\t\tif (k > 1) {\n\t\t\t\treturn v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n\t\t\t}\n\n\t\t\treturn fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n\n\t\t}\n\n\t},\n\n\tUtils: {\n\n\t\tLinear: function (p0, p1, t) {\n\n\t\t\treturn (p1 - p0) * t + p0;\n\n\t\t},\n\n\t\tBernstein: function (n, i) {\n\n\t\t\tvar fc = TWEEN.Interpolation.Utils.Factorial;\n\n\t\t\treturn fc(n) / fc(i) / fc(n - i);\n\n\t\t},\n\n\t\tFactorial: (function () {\n\n\t\t\tvar a = [1];\n\n\t\t\treturn function (n) {\n\n\t\t\t\tvar s = 1;\n\n\t\t\t\tif (a[n]) {\n\t\t\t\t\treturn a[n];\n\t\t\t\t}\n\n\t\t\t\tfor (var i = n; i > 1; i--) {\n\t\t\t\t\ts *= i;\n\t\t\t\t}\n\n\t\t\t\ta[n] = s;\n\t\t\t\treturn s;\n\n\t\t\t};\n\n\t\t})(),\n\n\t\tCatmullRom: function (p0, p1, p2, p3, t) {\n\n\t\t\tvar v0 = (p2 - p0) * 0.5;\n\t\t\tvar v1 = (p3 - p1) * 0.5;\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t * t2;\n\n\t\t\treturn (2 * p1 - 2 * p2 + v0 + v1) * t3 + (- 3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n\n\t\t}\n\n\t}\n\n};\n\n// UMD (Universal Module Definition)\n(function (root) {\n\n\tif (typeof define === 'function' && define.amd) {\n\n\t\t// AMD\n\t\tdefine([], function () {\n\t\t\treturn TWEEN;\n\t\t});\n\n\t} else if (typeof module !== 'undefined' && typeof exports === 'object') {\n\n\t\t// Node.js\n\t\tmodule.exports = TWEEN;\n\n\t} else if (root !== undefined) {\n\n\t\t// Global variable\n\t\troot.TWEEN = TWEEN;\n\n\t}\n\n})(this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/tween.js/src/Tween.js\n ** module id = 11\n ** module chunks = 0\n **/","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/~/node-libs-browser/~/process/browser.js\n ** module id = 12\n ** module chunks = 0\n **/","/**\n * Created by wizard on 16/5/30.\n */\nconst Registry = (obj, handleNames)=> {\n\n  let _listenerMap = {};\n\n  obj.addHandleType = (handles)=> {\n    for(let i=0; i<handles.length; ++i) {\n      let handleName = handles[i];\n      let list = _listenerMap[handleName];\n      if(!list) {\n        _listenerMap[handleName] = list = [];\n      }\n      obj[ handleName + 'Register'] = (target)=> {\n        if(list.indexOf(target) !== -1) {\n          return;\n        }\n        list.push(target);\n      };\n\n      obj[ handleName + 'UnRegister'] = (target)=> {\n        let index = list.indexOf(target);\n        if(index === -1) {\n          return;\n        }\n        list.splice(index, 1);\n      };\n\n      obj[ handleName + 'Execute'] = function () {\n        for(let i=0; i<list.length; ++i) {\n          list[i][handleName].apply(null, arguments);\n        }\n      };\n    }\n  };\n\n  obj.addHandleType(handleNames);\n\n  return obj;\n};\n\nexport default Registry;\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/registry.js\n **/","/**\n * Created by wizard on 16/4/1.\n */\n\nconst timeoutLimit = 30 * 1000;\n\n//SRequest.get(defines.gameHomeURL, \"s/Info/GetBag\", {test: 1, name: \"haha\"}, data=> {\n//  console.log('resp 1' + JSON.stringify(data));\n//});\n//\n//SRequest.post(defines.gameHomeURL, \"s/Info/RenamePet\", {\"pet_id\": 1000}, data=> {\n//  console.log('resp 2' + JSON.stringify(data));\n//})\n\nconst SRequest = SRequest || (()=> {\n    let that = {};\n\n\n    that.get = (baseURL, handlerURL, params, cb) => {\n      let xhr = new XMLHttpRequest();\n\n      let paramStr = getURLParamsString(params);\n      console.log(\"get string: \" + baseURL + handlerURL + paramStr);\n\n      xhr.open(\"GET\", baseURL + handlerURL + paramStr, true);\n      xhr.timeout = timeoutLimit;\n      xhr.onload = () => {\n        let data = JSON.parse(xhr.responseText);\n        if (cb) {\n          cb.call(this, data);\n        }\n      };\n      xhr.ontimeout = ()=> {\n        if (cb) {\n          cb.call(this, {timeout: true});\n        }\n      };\n      xhr.send();\n    };\n\n    that.post = (baseURL, handlerURL, urlParams, params, cb) => {\n\n      let xhr = new XMLHttpRequest();   // new HttpRequest instance\n      console.log('post',baseURL + handlerURL + getURLParamsString(urlParams));\n      xhr.open(\"POST\", baseURL + handlerURL + getURLParamsString(urlParams), true);\n      xhr.setRequestHeader(\"Content-Type\",\"application/json\");\n      xhr.timeout = timeoutLimit;\n      xhr.onload = ()=> {\n        //console.log('xhr.onload',xhr.responseText);\n        let data = JSON.parse(xhr.responseText);\n        if (cb) {\n          cb.call(this, data);\n        }\n      };\n      xhr.ontimeout = ()=> {\n        if (cb) {\n          cb.call(this, {timeout: true});\n        }\n      };\n      console.log('xhr.onload',params);\n      const bodyContent = params ? JSON.stringify(params) : \"\";\n      xhr.onerror = function (e) {\n        console.log('server error ' + e);\n        if (cb){\n          cb.call(this,{timeout: true});\n        }\n      };\n      xhr.send(bodyContent);\n    };\n\n    that.jump = (url, params)=> {\n      let paramStr = getURLParamsString(params);\n      console.log(\"jump to url: \" + url + paramStr);\n      window.location.href = url + paramStr;\n    };\n\n    const getURLParamsString = (params, isStart) => {\n      let paramStr = \"\";\n      if (params) {\n        let start = (isStart != undefined) ? isStart : true;\n        for (let index in params) {\n          if (start) {\n            start = false;\n            paramStr += \"?\";\n          }\n          else {\n            paramStr += \"&\";\n          }\n          paramStr += index + \"=\" + params[index];\n        }\n      }\n\n      return paramStr;\n    };\n\n    return that;\n  })();\n\nexport default SRequest;\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/simple-request.js\n **/","/**\n * Created by wizard on 16/5/3.\n */\n\nimport Scale3Sprite from './scale3-sprite'\nimport Scale9Sprite from './scale9-sprite'\nimport ScrollView from './scroll-view'\nimport ListView from './list-view'\nimport PageView from './page-view'\nimport Button from './button'\nimport ProgressBar from './progress-bar'\nimport RadioButton from './radio-button'\nimport RadioGroup from './radio-group'\n//import UIManager from './ui-manager'\nimport CheckBox from './check-box'\nimport creater from './creater'\nimport BMLabel from './bm-label'\nimport Input from './input'\n\nexport default {\n  Scale3Sprite,\n  Scale9Sprite,\n  ScrollView,\n  ListView,\n  PageView,\n  ProgressBar,\n  RadioButton,\n  RadioGroup,\n  Button,\n  CheckBox,\n  BMLabel,\n  Input,\n  UIManager: creater,\n  create: creater.create,\n  addComponent: creater.addTemplete\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/ui-control/index.js\n **/","/**\n * Created by wizard on 16/4/29.\n */\nimport UIExtends from './ui-extends'\n\nconst Scale3Sprite = (spec)=> {\n\n  let _baseTexture = null;\n  let _leftTexture = null;\n  let _centerTexture = null;\n  let _rightTexture = null;\n\n  let _node = new PIXI.Container();\n\n  UIExtends(spec.id, _node, {});\n\n  (()=> {\n\n    _baseTexture = PIXI.Texture.fromImage(spec.bg);\n\n    let x = _baseTexture.frame.x;\n    let y = _baseTexture.frame.y;\n\n    _leftTexture = new PIXI.Texture(_baseTexture, new PIXI.Rectangle(x, y, spec.offsetX, _baseTexture.frame.height) );\n    _centerTexture = new PIXI.Texture(_baseTexture, new PIXI.Rectangle(spec.offsetX + x, y, spec.tilingWidth, _baseTexture.frame.height) );\n    _rightTexture = new PIXI.Texture(_baseTexture, new PIXI.Rectangle(spec.offsetX + spec.tilingWidth + x, y, _baseTexture.frame.width - spec.offsetX - spec.tilingWidth, _baseTexture.frame.height) );\n\n    let leftSprite = new PIXI.Sprite(_leftTexture);\n    //leftSprite.width = spec.offsetX;\n\n    let centerSprite = new PIXI.Sprite(_centerTexture);\n    centerSprite.width = spec.width - spec.offsetX  * 2;\n    centerSprite.position.x = spec.offsetX;\n\n    let rightSprite = new PIXI.Sprite(_rightTexture);\n    //rightSprite.width = rightWidth;\n\n    rightSprite.position.x = spec.width - spec.offsetX;\n    console.log('right pos: ' + rightSprite.position.x);\n\n    _node.addChild(leftSprite);\n    _node.addChild(centerSprite);\n    _node.addChild(rightSprite);\n\n    const _centerPosition = (spriteList)=> {\n      for(let i=0; i<spriteList.length; ++i) {\n        spriteList[i].position.x -= spec.width /2;\n        spriteList[i].position.y -= _baseTexture.height / 2;\n      }\n\n    };\n\n    _centerPosition([leftSprite, centerSprite, rightSprite]);\n\n  })();\n  return _node;\n};\n\nexport default Scale3Sprite;\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/ui-control/scale3-sprite.js\n **/","/**\n * Created by wizard on 16/5/20.\n */\n\nimport Inherited from '../inherited'\n\nconst UIExtends = (uid, obj, uiObj) => {\n  Object.defineProperty(obj, 'node', {\n    get: ()=> {\n      return obj;\n    }\n  });\n\n  if(uiObj) {\n    Inherited(uiObj);\n    Object.defineProperty(obj, 'uiController', {\n      get: ()=> {\n        return uiObj;\n      }\n    });\n  }\n\n  if(uid || uid ===0) {\n    const _uid = uid;\n    Object.defineProperty(obj, 'id', {\n      get: ()=> {\n        return _uid;\n      }\n    });\n  }\n};\n\nexport default UIExtends;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/ui-control/ui-extends.js\n **/","/**\n * Created by wizard on 15/3/3.\n */\nconst Inherited = function (obj) {\n    let registry = {};\n\n    obj.inheritOn = function (name, handler) {\n\n        if (!obj.hasOwnProperty(name)) {\n            obj[name] = handler;\n            return;\n        }\n\n        if (registry.hasOwnProperty(name)) {\n            registry[name].push(handler);\n        }\n        else {\n            let parentHandler = obj[name];\n            registry[name] = [parentHandler, handler];\n\n            obj[name] = function () {\n                let result;\n                let handlerList = registry[name];\n                for (let index in handlerList) {\n                    result = handlerList[index].apply(this, arguments);\n                    if (result != undefined && !result) {\n                        return result;\n                    }\n                }\n\n                return result;\n            }\n        }\n    };\n\n    return obj;\n};\n\nexport  default Inherited;\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/inherited.js\n **/","/**\n * Created by wizard on 16/4/29.\n */\nimport UIExtends from './ui-extends'\n\nconst Scale9Sprite = (spec)=> {\n  let _baseTexture = null;\n  \n  let _leftUpTexture = null;\n  let _upTexture = null;\n  let _rightUpTexture = null;\n\n  let _leftTexture = null;\n  let _centerTexture = null;\n  let _rightTexture = null;\n\n  let _leftDownTexture = null;\n  let _downTexture = null;\n  let _rightDownTexture = null;\n\n  let _node = new PIXI.Container();\n\n  UIExtends(spec.id, _node, {});\n\n  (()=>{\n    _baseTexture = PIXI.Texture.fromImage(spec.bg);\n\n    let x = _baseTexture.frame.x;\n    let y = _baseTexture.frame.y;\n\n    let rightWidth = _baseTexture.frame.width - spec.offsetX - spec.tilingWidth;\n    let bottomHeight = _baseTexture.frame.height - spec.offsetY - spec.tilingHeight;\n\n    _leftUpTexture = new PIXI.Texture(_baseTexture, new PIXI.Rectangle(x, y, spec.offsetX, spec.offsetY) );\n    _upTexture = new PIXI.Texture(_baseTexture, new PIXI.Rectangle(spec.offsetX + x, y, spec.tilingWidth, spec.offsetY ) );\n    _rightUpTexture = new PIXI.Texture(_baseTexture, new PIXI.Rectangle(spec.offsetX + spec.tilingWidth + x, y, rightWidth, spec.offsetY ) );\n\n    _leftTexture = new PIXI.Texture(_baseTexture, new PIXI.Rectangle(x, spec.offsetY + y, spec.offsetX, spec.tilingHeight) );\n    _centerTexture = new PIXI.Texture(_baseTexture, new PIXI.Rectangle(spec.offsetX + x, spec.offsetY + y, spec.tilingWidth, spec.tilingHeight) );\n    _rightTexture = new PIXI.Texture(_baseTexture, new PIXI.Rectangle(spec.offsetX + spec.tilingWidth + x, spec.offsetY + y, rightWidth, spec.tilingHeight) );\n\n    _leftDownTexture = new PIXI.Texture(_baseTexture, new PIXI.Rectangle(x, spec.offsetY + spec.tilingHeight + y, spec.offsetX, bottomHeight) );\n    _downTexture = new PIXI.Texture(_baseTexture, new PIXI.Rectangle(spec.offsetX + x, spec.offsetY + spec.tilingHeight + y, spec.tilingWidth, bottomHeight) );\n    _rightDownTexture = new PIXI.Texture(_baseTexture, new PIXI.Rectangle(spec.offsetX + spec.tilingWidth + x, spec.offsetY + spec.tilingHeight + y, rightWidth, bottomHeight) );\n\n\n    //up\n    let leftUpSprite = new PIXI.Sprite(_leftUpTexture);\n    leftUpSprite.width = spec.offsetX;\n    leftUpSprite.height = spec.offsetY;\n\n    let upSprite = new PIXI.Sprite(_upTexture);\n    upSprite.width = spec.width - spec.offsetX - rightWidth;\n    upSprite.height = spec.offsetY;\n\n    let rightUpSprite = new PIXI.Sprite(_rightUpTexture);\n    rightUpSprite.width = rightWidth;\n    rightUpSprite.height = spec.offsetY;\n\n    //middle\n    let leftSprite = new PIXI.Sprite(_leftTexture);\n    leftSprite.width = spec.offsetX ;\n    leftSprite.height = spec.height - spec.offsetY - bottomHeight;\n\n    let centerSprite = new PIXI.Sprite(_centerTexture);\n    centerSprite.width = spec.width - spec.offsetX - rightWidth;\n    centerSprite.height = spec.height - spec.offsetY - bottomHeight;\n\n    let rightSprite = new PIXI.Sprite(_rightTexture);\n    rightSprite.width = rightWidth;\n    rightSprite.height = spec.height - spec.offsetY - bottomHeight;\n\n    //down\n    let leftDownSprite = new PIXI.Sprite(_leftDownTexture);\n    leftDownSprite.width = spec.offsetX;\n    leftDownSprite.height = bottomHeight;\n\n    let downSprite = new PIXI.Sprite(_downTexture);\n    downSprite.width = spec.width - spec.offsetX - rightWidth;\n    downSprite.height = bottomHeight;\n\n    let rightDownSprite = new PIXI.Sprite(_rightDownTexture);\n    rightDownSprite.width = rightWidth;\n    rightDownSprite.height = bottomHeight;\n\n    upSprite.position.x = spec.offsetX;\n    rightUpSprite.position.x = spec.width - rightWidth;\n\n    leftSprite.position = {\n      x: 0,\n      y: spec.offsetY\n    };\n    centerSprite.position = {\n      x: spec.offsetX,\n      y: spec.offsetY\n    };\n    rightSprite.position = {\n      x: spec.width - rightWidth,\n      y: spec.offsetY\n    };\n\n    leftDownSprite.position = {\n      x: 0,\n      y: spec.height - bottomHeight\n    };\n    downSprite.position = {\n      x: spec.offsetX ,\n      y: spec.height - bottomHeight\n    };\n    rightDownSprite.position = {\n      x: spec.width - rightWidth,\n      y: spec.height - bottomHeight\n    };\n\n\n    const _putSprites = (spritesList)=> {\n      for(let i=0; i<spritesList.length; ++i) {\n        spritesList[i].position.x -= spec.width / 2;\n        spritesList[i].position.y -= spec.height / 2;\n\n        _node.addChild(spritesList[i]);\n      }\n    };\n\n    _putSprites([leftUpSprite, upSprite, rightUpSprite, leftSprite, centerSprite, rightSprite, leftDownSprite, downSprite, rightDownSprite]);\n\n  })();\n\n  return _node;\n};\n\nexport default Scale9Sprite;\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/ui-control/scale9-sprite.js\n **/","/**\n * Created by wizard on 16/5/3.\n */\nimport UIExtends from './ui-extends'\nimport defaults from './default-defines'\nimport defines from '../../game-defines'\nconst ScrollView = (spec)=> {\n  let _uiParts = {\n    bounceX: spec.bounceX != undefined ? spec.bounceX: defaults.bounceMax,\n    bounceY: spec.bounceY != undefined ? spec.bounceY: defaults.bounceMax,\n    bounceSpeed: spec.bounceSpeed != undefined ? spec.bounceSpeed: defaults.bounceSpeed,\n    contentBounds: spec.bounds,\n    \n    _state: null,\n    \n    //behaviour\n    _collideBounds: null,\n    _controlMove: null,\n    _springMove: null,\n    _pushItem: null\n  };\n\n  let _node = null;\n  let _mask = null;\n  let _contentNode = null;\n  (()=>{\n    _node = new PIXI.Container();\n    _mask = new PIXI.Graphics();\n    _mask.filling = true;\n    _mask.drawRect(0, 0, spec.width, spec.height);\n    _node.addChild(_mask);\n\n    _node.interactive = true;\n    _node.hitArea = new PIXI.Rectangle(0,0,spec.width,spec.height);\n    \n    _contentNode = new PIXI.Container();\n    _contentNode.mask = _mask;\n    _node.addChild(_contentNode);\n\n    UIExtends(spec.id, _node, _uiParts);\n  }) ();\n\n  //debug\n  if (defines.debugMode) {\n    (()=>{\n      let debug = new PIXI.Graphics();\n      debug.lineStyle(1, 0x0000FF, 1);\n      debug.drawRect(0, 0, spec.width, spec.height);\n      _node.addChild(debug);\n    })();\n  }\n\n  const MovingState = {\n    auto: 0,\n    touching: 1\n  };\n\n  const _setState = (newState) => {\n    if(_uiParts._state === newState) {\n      return;\n    }\n\n    _uiParts._state = newState;\n  };\n\n  _uiParts._controlMove = (x, y)=> {\n    _contentNode.position.x += x;\n    _contentNode.position.y += y;\n\n    _contentNode.position.x = Math.min(_contentNode.position.x, _uiParts.contentBounds.right + _uiParts.bounceX);\n    _contentNode.position.x = Math.max(_contentNode.position.x, _uiParts.contentBounds.left - _uiParts.bounceX);\n\n    _contentNode.position.y = Math.min(_contentNode.position.y, _uiParts.contentBounds.bottom + _uiParts.bounceY);\n    _contentNode.position.y = Math.max(_contentNode.position.y, _uiParts.contentBounds.top - _uiParts.bounceY);\n  };\n\n  let _lastPos = null;\n  const _onTouchBegin = (event)=> {\n    _lastPos = {\n      x: event.data.global.x,\n      y: event.data.global.y\n    };\n\n    _setState(MovingState.touching);\n  };\n\n  const _onTouchMove = (event)=> {\n    if(!_lastPos) {\n      return;\n    }\n\n    let pos = event.data.global;\n\n    _uiParts._controlMove(pos.x -_lastPos.x, pos.y -_lastPos.y);\n\n    _lastPos = {\n      x: pos.x,\n      y: pos.y\n    };\n  };\n\n  const _onTouchEnd = (event) => {\n    //console.log('touch end : '+ JSON.stringify(event.data) );\n    _lastPos = null;\n    _setState(MovingState.auto);\n  };\n\n  (()=>{\n    _node.on('touchstart', _onTouchBegin)\n      .on('mousedown', _onTouchBegin);\n\n\n    _node.on('mouseup', _onTouchEnd)\n      .on('touchend', _onTouchEnd)\n      .on('mouseupoutside', _onTouchEnd)\n      .on('touchendoutside', _onTouchEnd);\n\n    _node.on('touchmove', _onTouchMove)\n    .on('mousemove', _onTouchMove);\n  })();\n\n  _uiParts._pushItem = (item) => {\n    _contentNode.addChild(item);\n  };\n\n  _uiParts._collideBounds = (dt)=> {\n    let isCollide = false;\n    if(_contentNode.position.x < _uiParts.contentBounds.left) {\n      _contentNode.position.x += dt * _uiParts.bounceSpeed / 1000;\n      if(Math.abs(_contentNode.position.x - _uiParts.contentBounds.left) <= 5 ) {\n        _contentNode.position.x = _uiParts.contentBounds.left;\n      }\n      isCollide = true;\n    }\n\n    if(_contentNode.position.x > _uiParts.contentBounds.right) {\n      _contentNode.position.x -= dt * _uiParts.bounceSpeed / 1000;\n      if(Math.abs(_contentNode.position.x - _uiParts.contentBounds.right) <= 5 ) {\n        _contentNode.position.x = _uiParts.contentBounds.right;\n      }\n      isCollide = true;\n    }\n\n    if(_contentNode.position.y < _uiParts.contentBounds.top) {\n      _contentNode.position.y += dt * _uiParts.bounceSpeed / 1000;\n      if(Math.abs(_contentNode.position.y - _uiParts.contentBounds.top) <= 5 ) {\n        _contentNode.position.y = _uiParts.contentBounds.top;\n      }\n      isCollide = true;\n    }\n\n    if(_contentNode.position.y > _uiParts.contentBounds.bottom) {\n      _contentNode.position.y -= dt * _uiParts.bounceSpeed / 1000;\n      if(Math.abs(_contentNode.position.y - _uiParts.contentBounds.bottom) <= 5 ) {\n        _contentNode.position.y = _uiParts.contentBounds.bottom;\n      }\n      isCollide = true;\n    }\n\n    return isCollide;\n  };\n\n  _uiParts._springMove = (dt)=> {\n  };\n\n  _uiParts.update = (dt)=> {\n    if(_uiParts._state != MovingState.auto) {\n      return;\n    }\n\n    if(_uiParts._collideBounds(dt) ) {\n      return;\n    }\n\n    _uiParts._springMove(dt);\n  };\n\n  PIXI.ticker.shared.add(()=> {\n    //console.log('delta time: ' + PIXI.ticker.shared.deltaTime);\n    _uiParts.update(PIXI.ticker.shared.deltaTime * PIXI.ticker.shared.minFPS);\n  });\n\n  _setState(MovingState.auto);\n\n  Object.defineProperty(_node, 'contentNode', {\n    get: ()=> {\n      return _contentNode;\n    }\n  });\n\n  Object.defineProperty(_node, 'pushItem', {\n    get: ()=> {\n      return _uiParts._pushItem;\n    }\n  });\n\n  return _node;\n};\n\nexport default ScrollView;\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/ui-control/scroll-view.js\n **/","/**\n * Created by wizard on 16/5/20.\n */\n\nexport default {\n  bounceMax: 50,\n  bounceSpeed: 200,\n  itemSpacing: 5\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/ui-control/default-defines.js\n **/","/**\n * Created by wizard on 16/5/3.\n */\n\nimport ScrollView from './scroll-view'\nimport defaults from './default-defines'\n\nconst ListItem = (item, length) => {\n  return {\n    item: item,\n    length: length\n  };\n};\n\nconst ListView = (spec)=> {\n  spec.type = spec.type ? spec.type : \"vertical\";\n  spec.bounds = {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  };\n  if(spec.type == 'horizontal') {\n    spec.bounceY = 0;\n  }\n  else {\n    spec.bounceX = 0;\n  }\n\n  let that = ScrollView(spec);\n\n  let _itemList = [];\n  const _uiParts = that.uiController;\n\n  _uiParts._pushItem = (child, customLength)=>{\n\n    let length = customLength ? customLength : spec.itemLength;\n    let spacing = spec.itemSpacing != undefined ? spec.itemSpacing : defaults.itemSpacing;\n\n    that.contentNode.addChild(child);\n\n    let start = 0;\n    for(let i=0; i< _itemList.length; ++i) {\n      start += _itemList[i].length + spacing;\n    }\n\n    if(spec.type == 'horizontal') {\n\n      child.position = {\n        x: start + length / 2,\n        y: spec.height / 2\n      };\n      _uiParts.contentBounds.left = Math.min(0, spec.width - start - length);\n      //console.log('list horizontal add child: ' + length);\n    }\n    else if(spec.type == 'vertical') {\n      //console.log('list  vertical add child: ' + length);\n      child.position = {\n        x: spec.width / 2,\n        y: start + length / 2\n      };\n      _uiParts.contentBounds.top = Math.min(0, spec.height - start - length);\n    }\n\n    _itemList.push(ListItem(child, length) );\n  };\n\n  const _clearItems = ()=> {\n    for(let i=0; i<_itemList.length; ++i) {\n      that.contentNode.removeChild(_itemList[i].item);\n    }\n\n    _itemList = [];\n    _uiParts.contentBounds = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n\n    that.contentNode.position.set(0,0);\n  };\n\n  Object.defineProperty(that, 'clearItems', {\n    get: ()=> {\n      return _clearItems;\n    }\n  });\n\n  return that;\n};\n\nexport default ListView;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/ui-control/list-view.js\n **/","/**\n * Created by wizard on 16/5/12.\n */\nimport ScrollView from './scroll-view'\n\nconst PageView = (spec)=> {\n  spec.type = spec.type ? spec.type : \"vertical\";\n  spec.bounds = {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  };\n  spec.bounceY = 0;\n  spec.bounceX = 0;\n\n  let that = ScrollView(spec);\n  let _uiParts = that.uiController;\n\n  let _pageList = [];\n  _uiParts.currentIndex = 0;\n\n  _uiParts._pushItem = (child)=>{\n    console.log('page push item');\n    that.contentNode.addChild(child);\n\n    let start = 0;\n\n    if(spec.type == 'horizontal') {\n      start = _pageList.length * spec.width;\n      child.position = {\n        x: start + spec.width / 2,\n        y: spec.height / 2\n      };\n      _uiParts.contentBounds.left = - _pageList.length * spec.width;\n    }\n    else if(spec.type == 'vertical') {\n      start = _pageList.length * spec.height;\n      child.position = {\n        x: spec.width / 2,\n        y: start + spec.height / 2\n      };\n      _uiParts.contentBounds.top =  - _pageList.length * spec.height;\n    }\n\n    _pageList.push(child);\n  };\n\n  _uiParts._springMove = (dt)=>{\n    if(_pageList.length <= 0) {\n      return;\n    }\n\n    switch (spec.type) {\n    case 'horizontal':\n      let targetX = -_uiParts.currentIndex * spec.width;\n\n      if(Math.abs(that.contentNode.position.x - targetX) <= 10) {\n        that.contentNode.position.x = targetX;\n      }\n      else {\n        that.contentNode.position.x += targetX > that.contentNode.position.x ? dt * 0.5 : dt * -0.5;\n      }\n      break;\n    case 'vertical':\n      let targetY = -_uiParts.currentIndex * spec.height;\n      if(Math.abs(that.contentNode.position.y - targetY) <= 10) {\n        that.contentNode.position.y = targetY;\n      }\n      else {\n        that.contentNode.position.y += targetY > that.contentNode.position.y ? dt * 0.5 : dt * -0.5;\n      }\n      break;\n    default:\n      break;\n    }\n\n  };\n\n  _uiParts.inheritOn('_controlMove', (x, y)=> {\n    switch (spec.type) {\n    case 'horizontal':\n      _uiParts.currentIndex = Math.floor( (-that.contentNode.position.x + spec.width / 2) / spec.width );\n      break;\n    case 'vertical':\n      _uiParts.currentIndex = Math.floor( (-that.contentNode.position.y + spec.height / 2) / spec.height );\n      break;\n    default:\n      break;\n    }\n  });\n\n  Object.defineProperty(that, 'pageCount', {\n    get: ()=> {\n      return _pageList.length;\n    }\n  });\n\n  Object.defineProperty(that, 'length', {\n    set: (val)=> {\n      spec.width = val;\n    }\n  });\n\n  Object.defineProperty(that, 'currentIndex', {\n    get: ()=> {\n      return _uiParts.currentIndex;\n    },\n    set: (val)=> {\n      _uiParts.currentIndex = val;\n    }\n  });\n\n  return that;\n};\n\nexport default PageView;\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/ui-control/page-view.js\n **/","/**\n * Created by hewenlong on 16-5-3.\n */\n\nimport UIExtends from './ui-extends'\n\nconst Button = (spec) => {\n\n  let _uiParts = {\n    normalTexture: null,\n    disableTexture: null,\n    enable: true,\n    onClick: null\n  };\n\n  let _sprite = null;\n  let _label = null;\n\n  (()=> {\n    _uiParts.normalTexture = PIXI.Texture.fromImage(spec.bg);\n    if (spec.bg_disable) {\n      _uiParts.disableTexture = PIXI.Texture.fromImage(spec.bg_disable);\n    }\n\n    _sprite = new PIXI.Sprite();\n    _sprite.texture = _uiParts.normalTexture;\n\n    _sprite.anchor.set(0.5);\n\n\n    _sprite.interactive = true;\n\n    UIExtends(spec.id, _sprite, _uiParts);\n  })();\n\n\n  const _setTitle = (content)=> {\n    if (content == undefined || content == null) {\n      return;\n    }\n\n    if (!_label) {\n      let style = spec.style ? spec.style : {font: '12px Arial', fill: '#FFFFFF'};\n      let resolution = spec.resolution ? spec.resolution : 1;\n      _label = new PIXI.Text('', style, resolution);\n      if (spec.textAnchor) {\n        _label.anchor = spec.textAnchor;\n      } else {\n        _label.anchor.set(0.5);\n      }\n      _label.position.set(0);\n      _sprite.addChild(_label);\n    }\n\n    _label.text = content;\n  };\n  _setTitle(spec.text);\n\n\n  let _oriScale = null;\n\n  const _playClickDownAction = ()=> {\n    if (!_uiParts.enable) {\n      return;\n    }\n\n    //_oriPosY = that.node.position.y;\n    //that.node.position.y += 1;\n\n    _oriScale = {\n      x: _sprite.scale.x,\n      y: _sprite.scale.y\n    };\n\n    _sprite.scale = {\n      x: _oriScale.x * 0.98,\n      y: _oriScale.y * 0.98\n    };\n\n    _sprite.tint = 0xAAAAAA;\n  };\n\n  const _playClickUpAction = ()=> {\n    if (!_uiParts.enable) {\n      return;\n    }\n\n    _sprite.tint = 0xFFFFFF;\n\n    if (!_oriScale) {\n      return;\n    }\n\n    _sprite.scale = _oriScale;\n\n    //\n    //if (!_oriPosY) {\n    //  return;\n    //}\n    //that.node.position.y = _oriPosY;\n    //_oriPosY = null;\n  };\n\n  const _touchBegin = (event, target)=> {\n    //console.log(\"touch Begin\");\n    _playClickDownAction();\n  };\n\n  const _touchMoved = (event, target)=> {\n\n  };\n\n  const _touchCancel = (event, target)=> {\n    //console.log(\"touch Cancel\");\n    _playClickUpAction();\n  };\n\n  const _touchEnd = (event, target)=> {\n    //console.log(\"touch end\");\n    _playClickUpAction();\n  };\n\n  const _onClick = ()=> {\n    //console.log(\"btn click\");\n    if (_uiParts.onClick && _uiParts.enable) {\n      _uiParts.onClick.call(this, _sprite);\n    }\n  };\n\n  (()=> {\n    _sprite.on(\"mousedown\", _touchBegin)\n      .on(\"mousemove\", _touchMoved)\n      .on(\"mouseout\", _touchCancel)\n      .on(\"mouseup\", _touchEnd)\n      .on(\"touchstart\", _touchBegin)\n      .on(\"touchmove\", _touchMoved)\n      .on(\"touchendoutside\", _touchCancel)\n      .on(\"touchend\", _touchEnd)\n      .on(\"click\", _onClick)\n      .on(\"tap\", _onClick);\n  })();\n\n  Object.defineProperty(_sprite, \"enable\", {\n    get: () => {\n      return _uiParts.enable;\n    },\n    set: (val) => {\n      _uiParts.enable = val;\n      console.log('enable btn: ' + _uiParts.enable);\n      if (_uiParts.enable) {\n        _sprite.texture = _uiParts.normalTexture;\n        _sprite.tint = 0xFFFFFF;\n      }\n      else{\n        if (_uiParts.disableTexture) {\n          _sprite.texture = _uiParts.disableTexture;\n        }else{\n          _sprite.tint = 0xAAAAAA;\n        }\n      }\n    }\n  });\n\n  Object.defineProperty(_sprite, \"text\", {\n    get: () => {\n      return _label ? _label.text : '';\n    },\n    set: (val) => {\n      _setTitle(val);\n    }\n  });\n\n  Object.defineProperty(_sprite, \"onClick\", {\n    get: () => {\n      return _uiParts.onClick;\n    },\n    set: (val) => {\n      _uiParts.onClick = val;\n    }\n  });\n\n  return _sprite;\n};\n\nexport default Button;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/ui-control/button.js\n **/","/**\n * Created by hewenlong on 16-5-4.\n */\n\nimport UIExtends from './ui-extends'\n\nconst ProgressBar = (spec)=> {\n\n  let _uiParts = {\n    direction : spec.direction ?  spec.direction : 'left',\n    percent : 0\n  };\n\n  let _node = new PIXI.Container();\n\n  let _frontSprite = null;\n  let _backSprite = null;\n  let _label = null;\n  let _mask = null;\n\n  (()=>{\n    UIExtends(spec.id, _node, _uiParts);\n    \n    if(spec.bg) {\n      _backSprite = PIXI.Sprite.fromImage(spec.bg);\n      _backSprite.anchor = {\n        x: 0.5,\n        y: 0.5\n      };\n      _node.addChild(_backSprite);\n      if(spec.width) {\n        _backSprite.width = spec.width;\n      }\n    }\n\n    _frontSprite = PIXI.Sprite.fromImage(spec.fg);\n    if(spec.width) {\n      _frontSprite.width = spec.width;\n    }\n    if (spec.tint) {\n      _frontSprite.tint = spec.tint;\n    }\n\n\n    _frontSprite.anchor.set(0.5);\n\n    _mask = new PIXI.Graphics();\n    _mask.clear();\n    _mask.beginFill();\n    _mask.drawRect(0,0,0,0);\n    _mask.endFill();\n    _frontSprite.mask = _mask;\n    _node.addChild(_mask);\n\n    _mask.position = {\n      x: - _frontSprite.width / 2,\n      y: - _frontSprite.height / 2\n    };\n\n    _node.addChild(_frontSprite);\n  })();\n\n  const _setContent = (content)=> {\n    if (content == undefined || content == null) {\n      return;\n    }\n\n    if(!_label) {\n      let textStyle = spec.style ? spec.style : {font:'12px Arial', fill: '#FFFFFF'};\n      let resolution = spec.resolution ? spec.resolution : 1;\n      _label = new PIXI.Text('', textStyle, resolution);\n      _label.anchor.set(0.5);\n      _node.addChild(_label);\n    }\n\n    _label.text = content;\n  };\n  _setContent(spec.text);\n\n  //percent from 0 to 100\n  const _setPercent = (percent)=> {\n    _uiParts.percent = percent;\n    const realPercent = percent / 100;\n    let x,y,width,height;\n    switch (_uiParts.direction) {\n    case 'left':\n      x=0;\n      y=0;\n      width = _frontSprite.width * realPercent;\n      height = _frontSprite.height;\n      break;\n    case 'right':\n      x=_frontSprite.width * (1-realPercent);\n      y=0;\n      width = _frontSprite.width * realPercent;\n      height = _frontSprite.height;\n      break;\n    case 'up':\n      x=0;\n      y=0;\n      width = _frontSprite.width;\n      height = _frontSprite.height * realPercent;\n      break;\n    case 'down':\n      x=0;\n      y=_frontSprite.height * (1- realPercent);\n      width = _frontSprite.width;\n      height = _frontSprite.height * realPercent;\n      break;\n    default:\n      console.log('wrong progress direction: ' + _uiParts.direction + '\\n only support left|right|up|down');\n      break;\n    }\n\n    _mask.clear();\n    _mask.beginFill();\n    _mask.drawRect(x,y,width,height);\n    _mask.endFill();\n  };\n\n\n  Object.defineProperty(_node, \"percent\", {\n    get: () => {\n      return _uiParts.percent;\n    },\n    set: (val) => {\n      _setPercent(val);\n    }\n  });\n\n  Object.defineProperty(_node, \"text\", {\n    get: () => {\n      return _label ? _label.text : '';\n    },\n    set: (val) => {\n      _setContent(val);\n    }\n  });\n\n  Object.defineProperty(_node, \"tint\", {\n    set: (val) => {\n      _frontSprite.tint = val;\n    }\n  });\n\n\n  return _node;\n};\n\nexport default ProgressBar;\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/ui-control/progress-bar.js\n **/","/**\n * Created by wizard on 16/5/5.\n */\n\nimport UIExtends from './ui-extends'\n\nconst RadioButton = (spec)=> {\n\n  const RadioState = {\n    unchecked: 0,\n    checked: 1\n  };\n\n  let _sprite = null;\n  let _uiParts = {\n    //texture\n    checkedTexture: null,\n    uncheckedTexture: null,\n\n    _state: null,\n    group: null,\n\n    //events\n    onCheckOn: null,\n    onCheckOff: null,\n    onCheckChange: null,\n\n    //behaviour\n    _onClick: ()=> {\n      _sprite.checked = true;\n    }\n  };\n\n  (()=>{\n\n    _uiParts.checkedTexture = PIXI.Texture.fromImage(spec.bg_on);\n    _uiParts.uncheckedTexture = PIXI.Texture.fromImage(spec.bg_off);\n\n    _sprite = new PIXI.Sprite();\n    _sprite.anchor.set(0.5);\n    _sprite.interactive = true;\n\n    //_onClick may be override later\n    _sprite.on('click', ()=>_uiParts._onClick() )\n      .on('tap', ()=>_uiParts._onClick() );\n\n    UIExtends(spec.id, _sprite, _uiParts);\n  })();\n\n  const _setState = (newState)=> {\n    if(_uiParts._state == newState) {\n      return;\n    }\n\n    switch (newState) {\n    case RadioState.checked:\n      if (_uiParts.group) {\n        _uiParts.group.fire('ui_control:check_on', _sprite);\n      }\n      _sprite.texture = _uiParts.checkedTexture;\n      if(_uiParts.onCheckOn) {\n        _uiParts.onCheckOn.call(this, _sprite);\n      }\n      break;\n    case RadioState.unchecked:\n      _sprite.texture = _uiParts.uncheckedTexture;\n      if(_uiParts.onCheckOff) {\n        _uiParts.onCheckOff.call(this, _sprite);\n      }\n      break;\n    default:\n      console.log('wrong radio state' + newState);\n      break;\n    }\n    _uiParts._state = newState;\n    if(_uiParts.onCheckChange) {\n      _uiParts.onCheckChange.call(this, _sprite);\n    }\n  };\n\n  _setState(RadioState.unchecked);\n\n  Object.defineProperty(_sprite, 'checked', {\n    get: ()=> {\n      return _uiParts._state == RadioState.checked ? true : false;\n    },\n    set: (val)=> {\n      if(val) {\n        _setState(RadioState.checked);\n      }\n      else {\n        _setState(RadioState.unchecked);\n      }\n    }\n  });\n\n  (()=>{\n    const handlerNames = ['group', 'onCheckOn', 'onCheckOff', 'onCheckChange'];\n    for(let i=0; i<handlerNames.length; ++i) {\n      Object.defineProperty(_sprite, handlerNames[i], {\n        get: ()=> {\n          return _uiParts[handlerNames[i] ];\n        },\n        set: (val)=> {\n          _uiParts[handlerNames[i] ] = val;\n        }\n      });\n    }\n  })();\n\n  return _sprite;\n};\n\nexport default RadioButton;\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/ui-control/radio-button.js\n **/","/**\n * Created by wizard on 16/5/5.\n */\n\nimport Eventuality from '../eventuality'\n\nconst RadioGroup = ()=> {\n  let that = Eventuality({});\n\n  let _radioList = [];\n\n  that.addChild = (radio) => {\n    _radioList.push(radio);\n    radio.group = that;\n  };\n\n  that.on('ui_control:check_on', (radio)=> {\n    for(let i=0; i<_radioList.length; ++i) {\n      if(radio.id === _radioList[i].id) {\n        continue;\n      }\n\n      _radioList[i].checked = false;\n    }\n  });\n\n  return that;\n};\n\nexport default RadioGroup;\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/ui-control/radio-group.js\n **/","const Eventuality = function (obj) {\n    let registry = {};\n\n    obj.fire = function (event) {\n\n        let handler = null;\n\n        if (registry.hasOwnProperty(event)) {\n            let event_list = registry[event];\n            for (let i = 0; i < event_list.length; ++i) {\n                handler = event_list[i];\n                let args = [];\n\n                //not including event\n                for (let n = 1; n < arguments.length; ++n) {\n                    args.push(arguments[n]);\n                }\n                handler.apply(this, args);\n            }\n        }\n\n        return this;\n    }\n\n    obj.on = function (type, method) {\n        if (registry.hasOwnProperty(type)) {\n            registry[type].push(method);\n        }\n        else {\n            registry[type] = [method];\n        }\n\n        return this;\n    }\n\n    obj.removeListener = function (type, method) {\n        if (!registry.hasOwnProperty(type)) {\n            return false;\n        }\n        let index = registry[type].indexOf(method);\n        if (index >= 0) {\n            registry[type].splice(index, 1);\n        }\n    }\n\n    obj.removeAllListeners = function () {\n        registry = {};\n    }\n    return obj;\n};\nexport  default Eventuality;\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/eventuality.js\n **/","/**\n * Created by wizard on 16/5/5.\n */\n\nimport RadioButton from './radio-button'\n\nconst CheckBox = (spec)=> {\n  let that = RadioButton(spec);\n\n  that.uiController._onClick = ()=> {\n    that.checked = !that.checked;\n  };\n\n  return that;\n};\n\nexport default CheckBox;\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/ui-control/check-box.js\n **/","/**\n * Created by wizard on 16/5/9.\n */\n\nimport Button from './button'\nimport Scale3Sprite from './scale3-sprite'\nimport Scale9Sprite from './scale9-sprite'\nimport ScrollView from './scroll-view'\nimport ListView from './list-view'\nimport ProgressBar from './progress-bar'\nimport PageView from './page-view'\nimport RadioGroup from './radio-group'\nimport RadioButton from './radio-button'\nimport CheckBox from './check-box'\nimport BMLabel from './bm-label'\nimport UIExtends from './ui-extends'\nimport Input from './input'\n\nconst Create = ()=> {\n  let that = {};\n\n  let _factor = {};\n\n  const _handleGroup = (group, groupID, obj)=> {\n    if (!groupID && groupID !== 0) {\n      return;\n    }\n\n    let groupObj = group[groupID];\n    if (!groupObj) {\n      groupObj = RadioGroup();\n      group[groupID] = groupObj;\n    }\n\n    groupObj.addChild(obj);\n  };\n  let _inputList = [];\n\n  const create = (parent, json, owner) => {\n    let creatorName = 'create' + json.component;\n    if (!_factor.hasOwnProperty(creatorName)) {\n      console.log('ui control cont create ' + json.component, JSON.stringify(json));\n      json.component = 'Node';\n      creatorName = 'createNode';\n      //return null;\n    }\n\n    if (!json.bg && json.image) {\n      json.bg = json.image;\n    }\n\n    let obj = _factor[creatorName].call(this, json);\n\n    if (parent) {\n      parent.addChild(obj.node);\n    }\n\n    if (json.id != undefined) {\n      owner[json.id] = obj;\n    }\n\n    const addChildren = (oneObj, oneJson)=> {\n      if (!oneJson.children) {\n        return;\n      }\n      for (let i = 0; i < oneJson.children.length; ++i) {\n        create(oneObj.node, oneJson.children[i], owner);\n      }\n    };\n\n    const pushChildren = (oneObj, oneJson)=> {\n      if (!oneJson.children) {\n        return;\n      }\n\n      for (let i = 0; i < oneJson.children.length; ++i) {\n        let child = create(null, oneJson.children[i], owner);\n        oneObj.pushItem(child.node, oneJson.children[i].length);\n      }\n    };\n\n    switch (json.component) {\n      case 'List':\n      case 'ListView':\n      case 'ScrollView':\n      case 'PageView':\n        pushChildren(obj, json);\n        break;\n      case 'Radio':\n      case 'CheckBox':\n        _handleGroup(owner.group, json.group, obj);\n        obj.checked = json.check;\n        addChildren(obj, json);\n        break;\n      case 'Input':\n        _inputList.push(json.id);\n        break;\n      case 'Button':\n        obj.onClick = owner.onClick;\n        addChildren(obj, json);\n        break;\n      default:\n        addChildren(obj, json);\n        break;\n    }\n\n    return obj;\n  };\n\n  const _alignComponent = (node, json) => {\n    if (json.anchor != undefined) {\n      node.anchor = json.anchor;\n    }\n    else {\n      node.anchor = {\n        x: 0.5,\n        y: 0.5\n      }\n    }\n\n    if (json.position != undefined) {\n      node.position = json.position;\n    }\n\n    if (json.scale != undefined) {\n      node.scale = json.scale;\n    }\n    if (json.rotation != undefined){\n      node.rotation = json.rotation\n    }\n    if (json.alpha != undefined){\n      node.alpha = json.alpha\n    }\n    if (json.visible != undefined){\n      node.visible = json.visible\n    }\n  };\n\n  _factor.createLayout = _factor.createNode = (json) => {\n    let node = new PIXI.Container();\n    UIExtends(json.id, node);\n    _alignComponent(node, json);\n    return node;\n  };\n\n  _factor.createSprite = (json) => {\n    let sprite = json.bg ? PIXI.Sprite.fromImage(json.bg) : new PIXI.Sprite();\n    UIExtends(json.id, sprite);\n    _alignComponent(sprite, json);\n    return sprite;\n  };\n\n\n  _factor.createLabel = (json)=> {\n    json.style = json.style ? json.style : {font: '20px Arial'};\n\n    let label = null;\n    if (json.style.bmfont) {\n      label = BMLabel(json);\n    }\n    else {\n      let resolution = json.resolution ? json.resolution : 1;\n      label = new PIXI.Text(json.text, json.style, resolution);\n      UIExtends(json.id, label);\n    }\n    _alignComponent(label, json);\n    return label;\n  };\n\n  that.addTemplete = (name, func)=> {\n    _factor['create' + name] = (json)=> {\n      let layout = func(json);\n      _alignComponent(layout.node, json);\n      return layout;\n    };\n  };\n\n  that.addTemplete('Button', Button);\n  that.addTemplete('Scale3Sprite', Scale3Sprite);\n  that.addTemplete('Scale9Sprite', Scale9Sprite);\n  that.addTemplete('ScrollView', ScrollView);\n  that.addTemplete('ListView', ListView);\n  that.addTemplete('List', ListView);\n  that.addTemplete('ProgressBar', ProgressBar);\n  that.addTemplete('Progress', ProgressBar);\n  that.addTemplete('PageView', PageView);\n  that.addTemplete('Radio', RadioButton);\n  that.addTemplete('CheckBox', CheckBox);\n  that.addTemplete('BMLabel', BMLabel);\n  that.addTemplete('Input', Input);\n\n  that.create = (json, onClick)=> {\n    let obj = {\n      group: {},   //for radio group\n      onClick: onClick\n    };\n    _inputList = [];\n    obj.node = create(null, json, obj).node;\n    Object.defineProperty(obj, 'components', {\n      get: ()=> {\n        return obj;\n      }\n    });\n\n    obj.node.on('added', (parent)=> {\n      for (let i = 0; i < _inputList.length; i++) {\n        obj[_inputList[i]].registerUpdate(parent);\n      }\n    });\n\n    obj.node.on('removed', (parent)=> {\n      for (let i = 0; i < _inputList.length; i++) {\n        obj[_inputList[i]].destroy();\n      }\n    });\n\n\n    return obj;\n  };\n\n\n  return that;\n};\n\nlet creater = Create();\n\nexport default creater;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/ui-control/creater.js\n **/","/**\n * Created by wizard on 16/5/20.\n */\nimport UIExtends from './ui-extends'\n\nconst BMLabel = (spec)=> {\n\n  let _node = null;\n  let _label = null;\n  let _anchor  = new PIXI.Point();\n  let _uiParts = {};\n  (()=> {\n    _node = new PIXI.Container();\n    const resolution = spec.resolution ? spec.resolution : 1;\n    spec.style.font = spec.style.font ? spec.style.font :'20px subtitle_yellow';\n    console.log('font: ' + spec.style.font);\n    spec.style.align = 'left';\n    _label = new PIXI.extras.BitmapText(spec.text, spec.style);\n\n    _label.tint = spec.style.fill!== undefined ? spec.style.fill : 0xffffff;\n    _node.addChild(_label);\n    UIExtends(spec.id, _node, _uiParts);\n\n    //todo(yuchenl): PIXI  BitmapText bug, need call these\n    if(spec.style.maxWidth) {\n      _label.maxWidth = spec.style.maxWidth;\n      _label.updateText();\n    }\n  }) ();\n\n  Object.defineProperty(_node, 'text', {\n    get: ()=> {\n      return _label.text;\n    },\n    set: (val)=> {\n      _label.text = val;\n      _label.updateText();\n      //console.log('label anchor: ' + JSON.stringify(_node.anchor) );\n      //console.log('label size: ' + _label.textWidth  + \" : \" + _label.textHeight);\n      _label.x  = -_label.textWidth * _node.anchor.x;\n      _label.y  = -_label.textHeight * _node.anchor.y;\n    }\n  });\n\n  Object.defineProperty(_node, 'anchor', {\n    get: ()=> {\n      return _anchor;\n    },\n    set: (val)=> {\n      _anchor.set(val.x, val.y);\n      _label.x  = -_label.textWidth * _node.anchor.x;\n      _label.y  = -_label.textHeight * _node.anchor.y;\n    }\n  });\n\n  return _node;\n};\n\nexport default BMLabel;\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/ui-control/bm-label.js\n **/","/**\n * Created by guolei on 16/6/2.\n */\nimport res from '../../resources'\nconst Input = (spec)=> {\n  let that = {};\n  //only vase\n  that.node = new PIXI.Container();\n  let sprite = new PIXI.Sprite.fromImage(res.blue);\n  that.node.addChild(sprite);\n\n  let game = document.getElementById('game');\n  let input = document.createElement(\"input\");\n  input.style.position = 'absolute';\n  input.style.width = spec.width + 'px';\n  input.style.height = spec.height + 'px';\n  input.style.backgroundImage = \"url('\" + spec.image + \"')\";\n  input.id = spec.id;\n  //input.style.backgroundRepeat = 'no-repeat';\n  game.appendChild(input);\n\n  //Object.defineProperty(that, 'position', {\n  //  set: (val)=> {\n  //\n  //  },\n  //  get: ()=> {\n  //    return that.node.postion;\n  //  }\n  //});\n  const _updatePosition = (parent)=> {\n    if (!that.node)return;\n    that.node.position = spec.position;\n    let pos = that.node.parent.toGlobal(spec.position);\n    input.style.width = spec.width * parent.scale.x + 'px';\n    input.style.height = spec.height * parent.scale.y + 'px';\n    input.style.left = pos.x + 'px';\n    input.style.top =pos.y + 'px';\n  };\n\n  that.registerUpdate = (parent)=> {\n    //_updatePosition(parent);\n    window.addEventListener(\"resize\", (event)=> {\n      _updatePosition(parent);\n    });\n  };\n\n  that.destroy = ()=> {\n    game.removeChild(input);\n    that.node = null;\n  };\n\n  that.node.on('removed', (parent)=> {\n    game.removeChild(input);\n    that.node.removeChild();\n  });\n\n\n  return that;\n};\nexport  default Input;\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/ui-control/input.js\n **/","/**\n * Created by wizard on 16/3/30.\n */\n\nimport Helper from \"../helper.js\"\nimport Director  from './director'\nimport Registry from '../registry'\n\n\nconst BaseWorld = function () {\n  let that = {};\n\n  that.node = new PIXI.Container();\n\n  that.init = function () {\n    return true;\n  };\n\n  that.destroy = ()=> {\n    that.destroyExecute();\n  };\n\n  that.update = function (dt) {\n    that.updateExecute(dt);\n  };\n\n  that.onResume = ()=> {\n    //console.log('world on resume');\n    Director.sharedDirector().updateRegister(that);\n  };\n\n  that.onPause = ()=> {\n    //console.log('world on pause');\n    Director.sharedDirector().updateUnRegister(that);\n  };\n\n  let _modelList = [];\n\n  that.lock2Layer = function (layer) {\n\n    Helper.reorderNode(that.node);\n\n    for (let i = 0; i < that.node.children.length; ++i) {\n      if (that.node.children[i] === layer.node) {\n        break;\n      }\n      that.node.children[i].interactiveChildren = false;\n    }\n\n    _modelList.push(layer);\n    _modelList.sort(_sortByZorder);\n  };\n\n  that.popModelLayer = ()=> {\n    if (that.getModelNum() === 0)return;\n    let layer = _modelList[that.getModelNum() - 1];\n    if (layer) {\n      layer.removeFromWorld();\n      layer = null;\n    }\n  };\n  that.getModelNum = ()=> {\n    return _modelList.length;\n  };\n\n  that.unlock2Layer = function (layer) {\n    let index = _modelList.indexOf(layer);\n    if (index === -1) {\n      console.log('error: no dialog to pop');\n      return;\n    }\n\n    _modelList.splice(index, 1);\n    that.node.removeChild(layer.node);\n\n    let lastNode = null;\n    if (_modelList.length > 0 && _modelList[index - 1]) {\n      lastNode = _modelList[index - 1].node;\n    }\n\n    (()=> {\n      let zorder = (lastNode !== null ? lastNode.zorder : -1);\n      console.log('dialog remove to zorder: ' + zorder);\n    })();\n\n    //that.node.interactiveChildren = true;\n    for (let i = that.node.children.length - 1; i >= 0; --i) {\n      that.node.children[i].interactiveChildren = true;\n      if (that.node.children[i] === lastNode) {\n        break;\n      }\n    }\n  };\n\n  const _sortByZorder = (a, b)=> {\n    return a.node.zorder > b.node.zorder;\n  };\n\n  Registry(that, ['destroy', 'update']);\n\n  return that;\n}\nexport default BaseWorld;\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/render/base-world.js\n **/","/**\n * Created by wizard on 16/3/30.\n */\n\nimport Registry from '../registry'\n\nconst BaseLayer = ()=> {\n  let that = {};\n\n  that.node = new PIXI.Container();\n  that.node.zorder = 0;\n\n  that.owner = null;\n\n  that.init = ()=> {\n    return true;\n  };\n\n  that.destroy = ()=> {\n    that.destroyExecute();\n\n  };\n  that.update = (dt)=> {\n    that.updateExecute(dt);\n  };\n\n  that.add2World = (world)=> {\n    world.node.addChild(that.node);\n    that.owner = world;\n    world.updateRegister(that);\n    //world.destroyRegister(that);\n  };\n\n  that.removeFromWorld = ()=> {\n    that.owner.updateUnRegister(that);\n    that.owner.node.removeChild(that.node);\n    that.destroy();\n    that.owner = null;\n  };\n\n  Registry(that, ['destroy', 'update']);\n\n  return that;\n};\n\nexport default BaseLayer;\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/render/base-layer.js\n **/","/**\n * Created by wizard on 16/3/31.\n */\n\nimport Inherited from \"../inherited.js\"\nimport BaseLayer from \"./base-layer.js\"\nimport Director from  \"./director.js\"\nimport Helper from \"../helper\"\n\nconst ModelLayer = function (blackArea) {\n  let that = Inherited(BaseLayer());\n\n  let _blackBg = null;\n\n  //if (blackArea) {\n  //  let x, y, width, height;\n  //  const director = Director.sharedDirector();\n  //  if (blackArea === true) {\n  //    x = 0;\n  //    y = 0;\n  //    width = window.innerWidth / director.screen.scale;\n  //    height = window.innerHeight / director.screen.scale;\n  //  }\n  //  else {\n  //    x = blackArea.x;\n  //    y = blackArea.y;\n  //    width = blackArea.width;\n  //    height = blackArea.height;\n  //  }\n  //\n  //  x -= director.screen.left;\n  //  y -= director.screen.top;\n  //\n  //  _blackBg = new PIXI.Graphics();\n  //  _blackBg.lineStyle(2, 0x000000, 0.5);\n  //  _blackBg.beginFill(0x000000, 0);\n  //  _blackBg.drawRect(x, y, width, height);\n  //  _blackBg.hitArea = new PIXI.Rectangle(x, y, Director.sharedDirector().width, Director.sharedDirector().height);\n  //\n  //  _blackBg.interactive = true;\n  //  _blackBg.zorder = -1;\n  //  that.blackBg = _blackBg;\n  //  that.node.addChild(_blackBg);\n  //}\n\n  that.inheritOn('add2World', function (world) {\n    world.lock2Layer(that);\n    return true;\n  });\n\n  that.removeFromWorld = function () {\n    that.owner.unlock2Layer(that);\n    that.owner.updateUnRegister(that);\n    that.owner.node.removeChild(that.node);\n\n    that.destroy();\n    that.owner = null;\n  };\n\n  return that;\n};\n\nexport default ModelLayer\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/render/model-layer.js\n **/","/**\n * Created by wizard on 16/5/28.\n */\nconst DelayEvent = (obj)=> {\n\n  let registry = {};\n\n  let _delayList = [];\n  let _working = false;\n\n  obj.fire = function (event) {\n    if(!_working) {\n      _delayList.push(arguments);\n      return;\n    }\n\n    let handler = null;\n\n    if (registry.hasOwnProperty(event)) {\n      let event_list = registry[event];\n      for (let i = 0; i < event_list.length; ++i) {\n        handler = event_list[i];\n        let args = [];\n\n        //not including event\n        for (let n = 1; n < arguments.length; ++n) {\n          args.push(arguments[n]);\n        }\n        handler.apply(this, args);\n      }\n    }\n\n    return this;\n  };\n\n  obj.on = function (type, method) {\n    if (registry.hasOwnProperty(type)) {\n      registry[type].push(method);\n    }\n    else {\n      registry[type] = [method];\n    }\n\n    return this;\n  };\n\n  obj.off = obj.removeListener = function (type, method) {\n    if (!registry.hasOwnProperty(type)) {\n      return false;\n    }\n    let index = registry[type].indexOf(method);\n    if (index >= 0) {\n      registry[type].splice(index, 1);\n    }\n  };\n\n  obj.removeAllListeners = function () {\n    registry = {};\n  };\n\n  obj.switchOn = ()=> {\n    console.log(\"switchOn\");\n    _working = true;\n    for(let i=0; i<_delayList.length; ++i) {\n\n      let params = _delayList[i];\n      let event = params[0];\n      let handler = null;\n\n      if (registry.hasOwnProperty(event)) {\n        let event_list = registry[event];\n        for (let i = 0; i < event_list.length; ++i) {\n          handler = event_list[i];\n          let args = [];\n\n          //not including event\n          for (let n = 1; n < params.length; ++n) {\n            args.push(params[n]);\n          }\n          handler.apply(this, args);\n        }\n      }\n    }\n  };\n\n\n  return obj;\n};\n\nexport default DelayEvent;\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/delay-event.js\n **/","/**\n * Created by chuhaoyuan on 2016/10/11.\n */\nvar Vec2 = (x,y)=>{\n  let that = {x: x,y:y};\n  that.getDistance = (object)=>{\n    //两点之间距离\n    let a =( that.x - object.x ) * (that.x - object.x) + (that.y - object.y) * (that.y - object.y);\n    let l = Math.sqrt(a);\n    let w = parseInt(l);\n    if (l - w < 0.00001){\n      return w;\n    }\n\n    return l;\n  }\n  that.getNormal = ()=>{\n    //获取单位向量\n    let n = that.x * that.x + that.y * that.y;\n    if  (n === 1){\n      return that;\n    }\n    n = Math.sqrt(n);\n    if (n < Number.MIN_VALUE){\n      return that;\n    }\n    n = 1 / n;\n    let x = that.x * n;\n    let y = that.y * n;\n    return Vec2(x,y);\n  }\n  that.normal = ()=>{\n    //转换成单位向量\n   that = that.getNormal();\n  }\n  that.add = (object)=>{\n    //向量加\n\n    let x = that.x + object.x;\n    let y = that.y + object.y;\n    return Vec2(x,y);\n  }\n  that.sub = (object)=>{\n    //向量减\n\n    let x = that.x - object.x;\n    let y = that.y - object.y;\n    return Vec2(x,y);\n  }\n  that.multValue = (value)=>{\n    let x = that.x * value;\n    let y = that.y * value;\n    return Vec2(x,y);\n  }\n  that.addValue = (value)=>{\n    let x = that.x + value;\n    let y = that.y + value;\n    return Vec2(x,y);\n  }\n  that.cross = (object)=>{\n    //向量积\n    return that.x * object.y - that.y * object.x;\n  }\n  that.dot = (object)=>{\n    //点积\n    return that.x * object.x + that.y * object.y;\n  }\n  that.getRadians = (object)=>{\n    //得到向量弧度\n    let a = that.getNormal();\n    let b = object.getNormal();\n\n    let angle = Math.atan2(a.cross(b), a.dot(b));\n    if (Math.abs(angle) < Number.MIN_VALUE){\n      return 0\n    }\n    return angle;\n  }\n\n  that.equals = (object)=>{\n    //判断向量是否绝对相等\n    return (Math.abs(that.x - object.x)< Number.MIN_VALUE) && (Math.abs(that.y - object.y)< Number.MIN_VALUE);\n  }\n\n  that.getAngle = (object)=>{\n    //得到向量角度\n    return that.getRadians(object) * 180 / Math.PI;\n  }\n\n\n  that.isZero = ()=>{\n    return (Math.abs(that.x) < Number.MIN_VALUE) && (Math.abs(that.y) < Number.MIN_VALUE);\n  }\n\n  that.rotateByAngle = (object,angle)=>{\n    //向量转一个角度\n    let sinAngle = Math.sin(angle);\n    let cosAngle = Math.cos(angle);\n    let x = 0;\n    let y = 0;\n    if (object.isZero()){\n      //console.log('旋转点是0');\n      let tempX = that.x * cosAngle - that.y * sinAngle;\n      y = that.y * cosAngle + that.x * sinAngle;\n      x = tempX;\n    }else {\n      let tempX = that.x - object.x;\n      let tempY = that.y - object.y;\n      x = tempX * cosAngle - tempY * sinAngle + object.x;\n      y = tempY * cosAngle + tempX * sinAngle + object.y;\n    }\n\n    return Vec2(x,y);\n\n  }\n\n\n\n  return that;\n}\nexport default Vec2;\n\n\n/** WEBPACK FOOTER **\n ** ./src/utility/math/vec2.js\n **/","/**\n * Created by chuhaoyuan on 2016/10/21.\n */\nimport {BaseLayer,BaseWorld,UIControl,Inherited} from './../utility/imports'\nimport GameLayer from './gamelayer'\nimport DebugLayer from './debug-layer'\nimport uiStart from './ui/ui-start'\nimport UIGameOver from './ui/ui-gameover'\nimport global from './../game-global'\nimport Tips from './ui/ui-tips'\nimport platformHelper from './../platform-helper'\nimport defines from './../game-defines'\nimport CaromCount from './../common/carom-count'\nlet GameState = {\n  Invalide: -1,\n  GameStart: 0,\n  GameRun: 1,\n  GameOver: 2,\n  GameReStart:3\n}\nconst GameWorld = ()=>{\n  let that = Inherited(BaseWorld());\n  that.inheritOn('init',()=>{\n    return true;\n  });\n\n  let _state = GameState.Invalide;\n\n  let _gameLayer = GameLayer(that);\n  _gameLayer.init();\n  _gameLayer.add2World(that);\n\n\n\n  let _setState  = (state)=>{\n    console.log('state=' + state);\n    if (state === _state){\n      return;\n    }\n    switch (state){\n\n      case GameState.GameStart:\n        console.log(\"set game start\");\n          console.log(\"after init data\");\n          global.playerdata.fruitCount = 100;\n          let _uiStart = uiStart();\n          _uiStart.init();\n          //that.node.addChild(_uiStart.node);\n          _uiStart.add2World(that);\n          _gameLayer.toReady();\n          global.playerdata.hitsLists =[];\n          CaromCount();\n\n        break;\n      case GameState.GameRun:\n        // console.log('GameRun');\n        _gameLayer.startGame();\n        break;\n      case GameState.GameOver:\n\n\n\n        ////\n        // _gameLayer.gameOver();\n\n\n\n\n        global.events.fire('openranklayer');\n\n\n          let _uiGameOver = UIGameOver({\n              maxscore: 1,\n              score: 100\n          });\n          _uiGameOver.init();\n          _uiGameOver.add2World(that);\n        // global.playerdata.getRanklistData((rankdata)=>{\n          //获取自己的排名\n          // let selfRankNum = rankdata.self_rank===-1?798:rankdata.self_rank;\n        //   global.playerdata.gameOver((data)=>{\n        //     if (data.status === 'ok'){\n        //       console.log('self score = ' + data.res.resultCount);\n        //       let _uiGameOver = UIGameOver(data.res);\n        //       _uiGameOver.init();\n        //       _uiGameOver.add2World(that);\n        //       console.log('get red bag :' + global.playerdata.getRedbagCount);\n        //       if (global.playerdata.getRedbagCount >= 1){\n        //         platformHelper.tipPacket();\n        //       }\n        //     } else {\n        //       console.log('错误提示页面');\n        //       let _tips = Tips(data.show,()=>{\n        //         // global.events.fire('restartgame');\n        //         platformHelper.endAll();\n        //       });\n        //       _tips.init();\n        //       _tips.add2World(that);\n        //     }\n        //   });\n        // // });\n        // ////给服务器发送数据游戏结束消息\n        //\n        // _gameLayer.gameOver();\n\n        break;\n      case GameState.GameReStart:\n        console.log('重新开始游戏');\n          _setState(GameState.GameStart);\n\n          // global.playerdata.init();\n        //   global.playerdata.getGameInfo((success, resp)=>{\n        //   global.playerdata.initData();\n        //   _setState(GameState.GameStart);\n        //   if (!success){\n        //     let tip = Tips({\n        //       show: JSON.stringify(resp)\n        //     },()=>{\n        //       platform.endAll();\n        //     });\n        //     tip.init();\n        //     tip.add2World(that);\n        //   }\n        // });\n\n\n        break;\n      default:\n        break;\n    }\n    _state = state;\n  }\n\n\n\n\n\n  global.events.on('gamestart',()=>{\n    _setState(GameState.GameRun);\n  });\n  global.events.on('gameover',()=>{\n    _setState(GameState.GameOver);\n  });\n  global.events.on('restartgame',()=>{\n    _setState(GameState.GameReStart);\n  });\n\n\n  // global.events.on('GameStart',()=>{\n  //   _setState(GameState.GameStart);\n  // });\n  // global.events.on('GameRun',()=>{\n  //   _setState(GameState.GameRun);\n  // });\n  // global.events.on('GameOver',()=>{\n  //   _setState(GameState.GameOver);\n  // });\n\n\n\n\n\n\n\n\n  _setState(GameState.GameStart);\n\n\n\n  ////播放 背景音效\n  global.audioControl.playBg('bgmusic');\n\n\n  return that;\n}\nexport default GameWorld;\n\n\n/** WEBPACK FOOTER **\n ** ./src/game/gameworld.js\n **/","/**\n * Created by chuhaoyuan on 2016/10/21.\n */\nimport {BaseLayer,Inherited,UIControl,ResourceManager,Director} from './../utility/imports'\nimport FruitLayer from './fruit-layer'\nimport BladeRender from './blade_render'\nimport defines from './../game-defines'\nimport resources from './../resources'\nimport ParticleLayer from './effect/particle-layer'\nimport UILayer from './ui/ui-layer'\nimport FlashEffect from './effect/flash-effect'\nimport UIShowLayer from './ui/ui-showlayer'\nimport global from './../game-global'\nimport UIRankList from './ui/ui-ranklist'\nimport MaskEffect from './effect/mask-effect'\nimport Camera from './../common/camera'\nconst GameState = {\n  Invalide: -1,\n  Waiting: 0,\n  Running: 1,\n  Over: 2\n}\nconst GameLayer  = ()=>{\n  let that = Inherited(BaseLayer());\n  that.inheritOn('init',()=>{\n    return true;\n  });\n\n  let _state = GameState.Invalide;\n\n\n  let _bg = new PIXI.Sprite.fromImage(resources.bj);\n  that.node.addChild(_bg);\n  // _bg.anchor.set(0.5);\n  _bg.position = {\n    x: 0,\n    y: 0\n  };\n  //todo(yuchenl) : need to screen scale\n  _bg.scale.y = 1.2;\n  //\n  //let director = Director.sharedDirector();\n  //_bg.position.y = (window.innerHeight - director.screen.bottom) ;\n  //_bg.scale.y = 1/director.screen.scale;\n  //console.log(\"screen scale: \" + director.screen.scale);\n\n  //底层遮罩层\n  let _maskEffect = MaskEffect();\n  _maskEffect.init();\n  _maskEffect.add2World(that);\n\n  //摄像机节点\n  let _camera = Camera({\n    viewWidth: Director.sharedDirector().width,\n    viewHeight: Director.sharedDirector().height,\n    maxWidth: Director.sharedDirector().width,\n    maxHeight: Director.sharedDirector().height,\n  });\n  _camera.init();\n  _camera.add2World(that);\n\n  //切水果层\n\n  let _fruitLayer = FruitLayer();\n  _fruitLayer.init();\n  _fruitLayer.add2World(that);\n\n  ///闪光层\n\n  let _flashEffect = FlashEffect();\n  _flashEffect.init();\n  _flashEffect.add2World(that);\n\n  //提示层\n  let _uiShow = UIShowLayer();\n  _uiShow.init();\n  _uiShow.add2World(that);\n\n\n  ///排行榜层\n  // let _uiRanklist = UIRankList();\n  // _uiRanklist.init();\n  // _uiRanklist.add2World(that);\n\n\n\n  //ui层\n  let _uiLayer = UILayer();\n  _uiLayer.init();\n  _uiLayer.add2World(that);\n\n  _camera.addToCamera(_flashEffect.node);\n  _camera.addToCamera(_fruitLayer.node);\n  _camera.addToCamera(_uiShow.node);\n  // _camera.addToCamera(_uiLayer.node);\n  _camera.addToCamera(_bg);\n  global.events.on('zoomIn',()=>{\n    _camera.zoomIn(1.4);\n    // _bg.scale = {\n    // //   x: 1.5,\n    // //   y: 1.5\n    // // }\n  })\n  global.events.on('zoomOut',()=>{\n    _camera.zoomOut(1);\n    // _bg.scale = {\n    //   x: 1,\n    //   y: 1.2\n    // }\n  })\n  global.events.on('shakeCamera',()=>{\n    _camera.shakeCamera();\n  });\n\n  //粒子层\n  let _particle = ParticleLayer();\n  _particle.init();\n  _particle.add2World(that);\n\n\n  that.node.interactive = true;\n  let blade = BladeRender(that);\n  blade.init();\n  that.inheritOn('touchMove',(touchPos)=>{\n    _fruitLayer.touchMove(touchPos);\n  });\n  that.inheritOn('touchBegan',()=>{\n    _fruitLayer.touchBegin();\n  });\n  that.inheritOn('touchEnd',()=>{\n    _fruitLayer.touchEnd();\n  });\n\n  that.inheritOn('update',(delTime)=>{\n    blade.update(delTime);\n    TWEEN.update();\n  });\n\n\n  let _setState = (state)=>{\n    if (state === _state){\n      return\n    }\n    switch (state){\n      case GameState.Waiting:\n\n        break;\n      case GameState.Running:\n        blade.toStartTouchMove();\n        _fruitLayer.toStart();\n\n\n        break;\n      case GameState.Over:\n        blade.toEndTouchMove();\n        _fruitLayer.toEnd();\n        break;\n      default:\n        break;\n    }\n    _state = state;\n  }\n\n\n  _setState(GameState.Waiting);\n\n\n  that.startGame = ()=>{\n    console.log('startGame' + _state);\n    _setState(GameState.Running);\n  }\n\n  that.gameOver = ()=>{\n\n\n\n\n    _setState(GameState.Over);\n  }\n  that.toReady = ()=>{\n    _fruitLayer.toReady();\n  }\n\n\n\n\n\n\n\n  return that;\n}\nexport  default GameLayer;\n\n\n/** WEBPACK FOOTER **\n ** ./src/game/gamelayer.js\n **/","/**\n * Created by chuhaoyuan on 2016/10/21.\n */\nimport {BaseLayer,Inherited,UIControl,ResourceManager,AnimationFactor,Vec2,Director} from './../utility/imports'\nimport resources from './../resources'\nimport defines from './../game-defines'\nimport Fruit from './fruit'\nimport CutEffect from './effect/cut-effect'\nimport global from './../game-global'\nimport shakeNode from './../common/shake-node'\nimport timeController from './../common/time-controller'\nconst accAdd = (arg1,arg2)=>{\n  var r1,r2,m;\n  try{r1=arg1.toString().split(\".\")[1].length}catch(e){r1=0}\n  try{r2=arg2.toString().split(\".\")[1].length}catch(e){r2=0}\n  m=Math.pow(10,Math.max(r1,r2));\n  return (arg1*m+arg2*m)/m;\n}\nconst AddFruitType = {\n  Invalide: -1,\n  Normal: 1,\n  Crazy: 2,\n  Freeze: 3,\n  Double: 4,\n  TimeOut: 5,\n  ChangeState:6,\n  CutBomb: 7,\n  FruitOver: 8,\n  Crazying: 9,\n  CrazyOver: 10,\n  CutBombOver: 11,\n  SuperFruit: 12\n}\nconst GameState = {\n  Invalide : -1,\n  Waiting: 0,\n  Running: 1,\n  Over: 2\n}\nconst FruitLayer = (spec)=>{\n  console.log('加载水果 层');\n  let that = Inherited(BaseLayer());\n  that.inheritOn('init',()=>{\n    return true;\n  });\n  let _fruitNameStrs = ['watermelon','pineapple','dargonfruit','kiwifruit',\n    'orange','banana','apple','peach','lemon','pear','strawberry'];\n  // if (global.playerdata.bombCount > 0){\n  //   _fruitNameStrs.push('bomb');\n  // }\n  let _addFruitTimeDis = [100,20,20,20,100,120,200];\n  let _addTimeDisIndex = 0;\n  let _timeCount = 0;\n  let _TimeScaleOffset = 1;\n  let _addFruitDisTimeScaleOffset = 1;\n  let _fruits = [];\n  let _addFruitType = AddFruitType.Invalide;\n  let _cutEffect = CutEffect(that.node);\n  let _state = GameState.Invalide;\n  let _allCellCount = global.playerdata.fruitCount;\n  _cutEffect.add2World(that.node);\n  let _redBagRate = global.playerdata.centsNum/global.playerdata.fruitCount;\n  let _bombRate = global.playerdata.bombCount / (global.playerdata.fruitCount - 5);\n  console.log('redBagRate=' + _redBagRate);\n  let _addedTotalRedBag = 0;\n  let _addedTotalBomb = 0;\n  let _oldTypeList = [];\n  let _nowSuperPower = 0;\n  let _totalSuperPower = global.playerdata.fruitCount * 0.8;\n  let _superFruitCutCount = 0;\n  let initData = ()=>{\n    _fruitNameStrs = ['watermelon','pineapple','dargonfruit','kiwifruit','orange','banana','apple','peach','lemon','pear','strawberry'];\n    // if (global.playerdata.bombCount > 0){\n    //   _fruitNameStrs.push('bomb');\n    // }\n    _addFruitTimeDis = [60,20,10,10,90,80,120];\n    _addTimeDisIndex = 0;\n    _timeCount = 0;\n    _TimeScaleOffset = 1;\n    _addFruitDisTimeScaleOffset = 1;\n    _fruits = [];\n    _addFruitType = AddFruitType.Invalide;\n    _allCellCount = global.playerdata.fruitCount;\n    _redBagRate =global.playerdata.centsNum/global.playerdata.fruitCount;\n    _bombRate = global.playerdata.bombCount / (global.playerdata.fruitCount - 5);\n    global.playerdata.getRedbagCount = 0 ;\n    global.playerdata.allGetRedbag = 0;\n    global.playerdata.cutBombCount = 0 ;\n    global.playerdata.cutFruitCount = 0;\n    _addedTotalRedBag = 0;\n    _addedTotalBomb = 0;\n    _oldTypeList = [];\n    _nowSuperPower = 0;\n    _totalSuperPower = global.playerdata.fruitCount * 0.8;\n    _superFruitCutCount = 0;\n    that.superFruit = undefined;\n  }\n  const _randomType = ()=>{\n    let types = ['Normal','Crazy'];\n    let index = Math.round(Math.random()* (types.length - 1));\n    let state = types[index];\n    if (_oldTypeList.length === 0){\n      state = types[0];\n    }else if(_oldTypeList.length === 2){\n      if (_oldTypeList[0] === _oldTypeList[1]){\n        if (_oldTypeList[0] === types[0]){\n          state = types[1];\n          }else {\n          state = types[0];\n        }\n      }\n      _oldTypeList.splice(0,1);\n    }\n    _oldTypeList.push(state);\n    console.log('随机出来的状态是' + state);\n    return state;\n  }\n  let _setFruitState = (state)=>{\n\n    if (_addFruitType === state){\n      return\n    }\n\n    if (_state === GameState.Running){\n\n    }else {\n      return\n    }\n    _addFruitType = state;\n    switch (state){\n      case AddFruitType.Normal:\n        _TimeScaleOffset = 1;\n        _addFruitDisTimeScaleOffset = 1;\n        global.events.fire('runlight','Normal');\n        global.events.fire('uilayer', 'Normal');\n        global.events.fire('maskeffect','Normal');\n        global.events.fire('fruitwater','Normal');\n        timeController.setTimeout('setNormal',()=>{\n          console.log('时间控制器运行');\n          _setFruitState(AddFruitType.ChangeState);\n        },5000);\n\n        break;\n      case AddFruitType.Crazy:\n        // if (global.playerdata.fruitCount <= 20){\n        //   _setFruitState(AddFruitType.Normal);\n        //  return;\n        // }\n\n\n        _addFruitDisTimeScaleOffset = 0.2;\n        global.events.fire('runlight','Crazy');\n        global.events.fire('uilayer', 'Crazy');\n        global.events.fire('maskeffect','Crazy');\n        timeController.setTimeout('setCrazy',()=>{\n          _setFruitState(AddFruitType.Crazying);\n        },2000);\n\n\n        break;\n      case AddFruitType.Double:\n        _TimeScaleOffset = 1;\n        _addFruitDisTimeScaleOffset = 1;\n        break;\n      case AddFruitType.Freeze:\n        _TimeScaleOffset = 0.2;\n        break;\n      case AddFruitType.TimeOut:\n        break;\n      case AddFruitType.FruitOver:\n        global.events.fire('runlight','Normal');\n        global.events.fire('uilayer', 'Normal');\n        global.events.fire('maskeffect','Normal');\n        global.events.fire('fruitwater','Normal');\n        timeController.stopAllTimeCB();\n        setTimeout(()=>{\n          for (let i = 0 ; i < _fruits.length ; i ++){\n            _fruits[i].removeSelf();\n          }\n            global.events.fire('gameover');\n            global.audioControl.play('gameover');\n        },20);\n\n        break;\n      case AddFruitType.CutBomb:\n        global.events.fire('runlight','Normal');\n        global.events.fire('uilayer', 'Normal');\n        global.events.fire('maskeffect','Normal');\n        global.events.fire('fruitwater','Normal');\n        // console.log('setState CutBomb' );\n        timeController.unsetTimeout('setNormal');\n        timeController.unsetTimeout('setCrazy');\n        timeController.unsetTimeout('setCrazying');\n        timeController.unsetTimeout('setCrazyOver');\n        timeController.unsetTimeout('setCutBomb');\n        // _setFruitState(AddFruitType.CutBombOver);\n        timeController.setTimeout('setCutBomb',()=>{\n          _setFruitState(AddFruitType.Normal);\n        },1000);\n\n        break;\n      case AddFruitType.ChangeState:\n\n        if (global.playerdata.fruitCount <= 20){\n          _setFruitState(AddFruitType.Normal);\n\n        }else {\n          _setFruitState(AddFruitType[_randomType()]);\n\n        }\n        break;\n      case AddFruitType.Crazying:\n        global.events.fire('fruitwater','Crazy');\n        timeController.setTimeout('setCrazying',()=>{\n          _setFruitState(AddFruitType.CrazyOver);\n        },5000);\n        break;\n      case AddFruitType.CrazyOver:\n        global.events.fire('runlight','Normal');\n        global.events.fire('uilayer', 'Normal');\n        global.events.fire('maskeffect','Normal');\n        global.events.fire('fruitwater','Normal');\n        timeController.setTimeout('setCrazyOver',()=>{\n          _setFruitState(AddFruitType.ChangeState);\n        },1000);\n        break;\n      case AddFruitType.SuperFruit:\n        console.log('超级水果状态');\n\n\n\n        global.events.fire('runlight','Normal');\n        global.events.fire('uilayer', 'Normal');\n        global.events.fire('maskeffect','Normal');\n        global.events.fire('fruitwater','Normal');\n        // timeController.stopAllTimeCB();\n\n        timeController.unsetTimeout('setNormal');\n        timeController.unsetTimeout('setCrazy');\n        timeController.unsetTimeout('setCrazying');\n        timeController.unsetTimeout('setCrazyOver');\n        timeController.unsetTimeout('setCutBomb');\n\n\n        setTimeout(()=>{\n\n\n          if (_nowSuperPower >= _totalSuperPower){\n\n          }else {\n            _setFruitState(AddFruitType.FruitOver);\n            return\n          }\n\n\n          if (that.superFruit === undefined){\n            console.log('添加一个超级水果');\n            global.audioControl.play('gamestart');\n            let fruit = Fruit({\n              image: 'superFruit',\n              // scale: Math.round(Math.random()*2 + 8) * 0.1\n              scale: 1,\n              state: _addFruitType\n            });\n            fruit.add2World(that.node);\n            _fruits.push(fruit);\n            that.superFruit = fruit;\n          }\n        },2000);\n        ////加一个  超级水果\n\n\n        break;\n      default:\n        break;\n\n    }\n  }\n\n\n  that.addFruit = (data)=>{\n    console.log('addFruit');\n\n    // if (data === 'superFruit'){\n    //   let fruit = Fruit({\n    //     image: data,\n    //     // scale: Math.round(Math.random()*2 + 8) * 0.1\n    //     scale: 1,\n    //     state: _addFruitType\n    //   });\n    //   fruit.add2World(that.node);\n    //   _fruits.push(fruit);\n    // }\n    if (_allCellCount <= 0){\n      global.playerdata.residualCount = 0;\n      global.playerdata.fruitCount = 0;\n      global.playerdata.bombCount = 0;\n      _allCellCount = 0;\n\n      _setFruitState(AddFruitType.SuperFruit);\n      return;\n    }\n\n    // Director.sharedDirector().audio.play('addfruit_0');\n\n    global.audioControl.play('addfruit_0');\n    let image = _fruitNameStrs[Math.round(Math.random()*(_fruitNameStrs.length - 1))];\n    let fruit = Fruit({\n      image: image,\n      // scale: Math.round(Math.random()*2 + 8) * 0.1\n      scale: 1,\n      state: _addFruitType\n    });\n    fruit.add2World(that.node);\n    _fruits.push(fruit);\n    _addedTotalRedBag = accAdd(_addedTotalRedBag,_redBagRate);\n      // console.log('addToTotalRedBag' + _addedTotalRedBag);\n    if (global.playerdata.fruitCount === Math.floor(global.playerdata.allFruitCount * 0.5)){\n      console.log('大红包');\n      global.audioControl.play('getred_0');\n      fruit.bigredbag = true;\n    }\n\n\n\n    if (_addedTotalRedBag >= 1){\n      _addedTotalRedBag = _addedTotalRedBag - 1;\n      fruit.redbag = true;\n      ///有红包///这里播放红包来了音效\n      global.audioControl.play('getred_0');\n      }\n\n      _addedTotalBomb = accAdd(_addedTotalBomb, _bombRate);\n      if (_addedTotalBomb >= 1){\n        _addedTotalBomb = _addedTotalBomb - 1;\n        // global.playerdata.bombCount --;\n        console.log('出一个炸弹');\n        // Director.sharedDirector().audio.play('addfruit_1');\n        global.audioControl.play('addfruit_1');\n        let fruit = Fruit({\n          image: 'bomb',\n          // scale: Math.round(Math.random()*2 + 8) * 0.1\n          scale: 1\n        });\n        fruit.add2World(that.node);\n        _fruits.push(fruit);\n\n      }\n      global.playerdata.fruitCount--;\n      if(global.playerdata.fruitCount < 0){\n        global.playerdata.fruitCount = 0;\n        _fruitNameStrs = ['bomb'];\n      }\n\n    _allCellCount --;\n  }\n\n  that.touchEnd = ()=>{\n    beginTime = Date.now();\n  }\n  that.touchBegin = ()=>{\n    // beginTime = Date.now() + 100;\n    // hitsCount = 0;\n  }\n  let hitsCount = 0;\n  let beginTime = 0;\n  global.events.on('addcutfruit',()=>{\n    _nowSuperPower ++;\n    if (hitsCount === 0){\n      beginTime = Date.now() + 35;\n    }else {\n      beginTime += 35;\n    }\n    hitsCount ++;\n  });\n\n  const hitsLogic = function () {\n    if (Date.now() > beginTime) {\n      if (hitsCount >= 2) {\n        // if (hitsCount > 8){\n        //   hitsCount = 8;\n        // }\n\n        if (hitsCount === 2){\n          global.audioControl.play('cuteffect_0');\n        }else if(hitsCount === 3){\n          global.audioControl.play('cuteffect_1');\n        }else {\n          global.audioControl.play('cuteffect_2');\n        }\n\n\n\n\n        _nowSuperPower += hitsCount;\n        console.log( hitsCount + '连击');\n\n        global.playerdata.totalScore += (hitsCount - 1) * 10;\n\n        global.events.fire('caromCount',hitsCount);////发送连切数\n        global.events.fire('addShow',{\n          text: hitsCount + '连击',\n          font: 'combo',\n          position: {\n            x: Director.sharedDirector().screen.right * 0.5,\n            y: 300\n          }\n        });\n      }else if (hitsCount === 1){\n        global.events.fire('caromCount',hitsCount);\n      }\n\n      hitsCount = 0;\n    }\n    global.events.fire('uilayerprogressbar',_nowSuperPower / _totalSuperPower);\n  }\n\n\n  that.inheritOn('update',(deltaTime)=>{\n    if (_state != GameState.Running){\n      return\n    }\n    for (let i = 0 ; i < _fruits.length ; i ++){\n      _fruits[i].move(deltaTime);\n      if (_fruits[i].isOver()){\n        _fruits.splice(i,1);\n      }\n    }\n    if (_addFruitType === AddFruitType.Normal || _addFruitType === AddFruitType.Crazying){\n      if (global.playerdata.fruitCount < 10){\n        _setFruitState(AddFruitType.Normal);\n      }\n\n\n      if (_timeCount > _addFruitTimeDis[_addTimeDisIndex] * _addFruitDisTimeScaleOffset){\n        _timeCount = 0 ;\n        _addTimeDisIndex = Math.round(Math.random() * (_addFruitTimeDis.length - 1 ));\n        if (_addFruitType === AddFruitType.SuperFruit){\n          return;\n        }else {\n          that.addFruit();\n        }\n      }\n      _timeCount ++;\n    }\n    hitsLogic();\n\n  });\n\n\n\n\n  that.touchMove = (data)=>{\n   // global.events.fire('debug',JSON.stringify(data.identifier));\n    let touchPos = Vec2(data.getLocalPosition(that.node).x,data.getLocalPosition(that.node).y);\n    for (let i = 0 ; i < _fruits.length ; i ++){\n      let touchVec = Vec2(touchPos.x,touchPos.y);\n        _fruits[i].Cut(touchVec);\n    }\n  }\n\n  global.events.on('cutbomb',()=>{\n    _setFruitState(AddFruitType.CutBomb);\n    shakeNode.shakeNode(that.node);\n  });\n\n  global.events.on('superfuritcut',(pos)=>{\n    console.log('超级水果+1');\n    _superFruitCutCount ++;\n    // shakeNode.shakeNode(that.node,1);\n\n    let light = new PIXI.Sprite.fromImage(resources.superFruitLight);\n    light.alpha = 1;\n    light.scale = {\n      x: 1,\n      y: 1\n    }\n    light.rotation = Math.random() * 360 / (180/Math.PI);\n    light.anchor.set(0.5,0.5);\n    light.zOrder = -10\n\n    light.position = pos;\n    that.node.addChild(light);\n    let alpchange = new TWEEN.Tween({alpha: 1})\n      .to({alpha: 0},60)\n      .onUpdate(function(){\n        light.alpha = this.alpha\n      })\n      .onComplete(function(){\n        //that.node.removeChild(light);\n      })\n    let sizechange = new TWEEN.Tween({x: 1,y: 1})\n      .to({x: 1.5,y: 1.5},80)\n      .onUpdate(function(){\n        light.scale.x = this.x;\n        light.scale.y = this.y;\n      })\n      .onComplete(function(){\n        alpchange.start()\n    })\n    sizechange.start();\n  });\n  global.events.on('superfruitcutover',(data)=>{\n    console.log('超级水果切结束' + data);\n\n    _setFruitState(AddFruitType.FruitOver);\n  });\n  global.events.on('flashover',()=>{\n    for (let i = 0 ; i < _fruits.length ; i ++){\n      _fruits[i].removeSelf();\n    }\n   // _setFruitState(AddFruitType.ChangeState);\n  });\n  global.events.on('fruitover',()=>{\n    // console.log('没有水果了');\n    _setFruitState(AddFruitType.FruitOver);\n  });\n\n\n\n\n\n  let _setState = (state)=>{\n    if (_state === state){\n      return\n    }\n    _state = state;\n    switch (state){\n      case GameState.Waiting:\n        break;\n      case GameState.Running:\n        // console.log('开始游戏');\n        // RandomGameType();\n        _setFruitState(AddFruitType.Normal);\n        global.events.fire('gamestate','start');\n        break;\n      case GameState.Over:\n        console.log('fruit layer Over');\n        global.events.fire('gamestate','over');\n\n        break;\n      default:\n        break;\n    }\n  }\n  that.toReady = ()=>{\n    _setState(GameState.Waiting);\n  }\n\n  that.toStart = ()=>{\n    console.log('fruit  start');\n    initData();\n    _setState(GameState.Running);\n  }\n  that.toEnd = ()=>{\n    _setState(GameState.Over);\n  }\n\n\n  return that ;\n}\nexport  default FruitLayer;\n\n\n/** WEBPACK FOOTER **\n ** ./src/game/fruit-layer.js\n **/","/**\n * Created by chuhaoyuan on 2016/10/24.\n */\nimport {Director,Vec2} from './../utility/imports'\nimport resources from './../resources'\nimport FruitCell from './fruit-cell'\nimport global from './../game-global'\nimport BombCell from './bomb-cell'\nimport defines from './../game-defines'\nconst FruitState = {\n  Invalide: -1,\n  Waiting: 1,\n  Running: 2,\n  Cut: 3,\n  CutOver: 4,\n  Over:5,\n  SlowSpeed: 7,\n  StopY: 8,\n  SuperFruitBomb: 9\n\n};\n\nconst Fruit = (spec)=>{\n  let that = new PIXI.Container();\n  that.type = spec.image;\n  that.position = {\n     x: Director.sharedDirector().screen.right * 0.5 + Math.random()* 100 - 50,\n     y: Director.sharedDirector().screen.bottom + 60\n  }\n\n  let _state = FruitState.Invalide;\n  let _timeScaleOffset = 1;\n  let _isCanCut = false;\n  let _superFruitCutCount = 0;\n  let _isCut = false;\n  const _setState = function (newState,callBack) {\n    if( _state === newState) {\n      return;\n    }\n\n    switch (newState) {\n      case FruitState.Waiting:\n        // idle animation\n        //_animation.playOnce('idle',callBack);\n        break;\n      case FruitState.Running:\n        // play cut animation\n        _timeScaleOffset = 1;\n        break;\n      case FruitState.Over:\n        // console.log('FruitState Over');\n       that.destory();\n        break;\n      case FruitState.Cut:\n        _fruitCell.cut();\n        setTimeout(()=>{\n          if (that.type === 'bomb'){\n          }else {\n            _setState(FruitState.CutOver);\n          }\n        },200);\n        break;\n      case FruitState.CutOver:\n        _RotationSpeed = 0;\n        _speedY = 0;\n        break;\n      case FruitState.SlowSpeed:\n        _timeScaleOffset = 0.1;\n        break;\n      case FruitState.StopY:\n        // _timeScaleOffset = 0.1;\n        _isCanCut = true;\n        global.events.fire('zoomIn');\n        _fruitCell.lowNode.removeChild(_fruitCell.guang);\n\n        break;\n      case FruitState.SuperFruitBomb:\n        // console.log('超级水果爆炸');\n        // global.events.fire('superfruitcutover');\n        // setTimeout(()=>{\n        //   global.events.fire('superfruitcutover');\n        // },1000);\n        console.log('position=' + JSON.stringify(that.position));\n        shake(that,2,()=>{\n          console.log('爆炸结束');\n          global.events.fire('zoomOut')\n          // global.events.fire('superfruitcutover');\n          // that.lowNode.visible = false;\n          _fruitCell.lowNode.visible = false;\n          _fruitCell.cut();\n          global.events.fire('fruitemit',{\n            pos: Vec2(that.position.x,that.position.y),\n            image: 'pomegranatefragments'\n          });\n          global.events.fire('superfruitcutover',_superFruitCutCount);\n\n        });\n        let sp = PIXI.Sprite.fromImage(resources.fasheguang0);\n        _fruitCell.lowNode.addChild(sp);\n        sp.anchor.set(0.5);\n        let action = new TWEEN.Tween({scale: 0})\n          .to({scale: 2},400)\n          .onUpdate(function () {\n            sp.scale = {\n              x: this.scale,\n              y: this.scale\n            }\n          })\n        action.start();\n\n\n\n        break;\n      default:\n        break;\n    }\n\n    _state = newState;\n  };\n\n  let shake = function (node,index,cb) {\n    if (index <= 0){\n      if (cb){\n        cb();\n      }\n      return\n    }\n    index --;\n    let pos = node.position;\n    let action = new TWEEN.Tween(pos)\n      .to({x: pos.x + getRandomNum(pos) * 10,\n        y:pos.y  + getRandomNum(pos) * 10},200)\n      .onUpdate(function () {\n        if (node){\n          node.position = {\n            x: this.x,\n            y: this.y\n          }\n        }\n      })\n      .onComplete(()=>{\n        shake(node,index,cb);\n      });\n    action.start();\n\n    let a1 = new TWEEN.Tween({scale: 1})\n      .to({scale: 1.2},100)\n      .onUpdate(function () {\n        node.scale  = {\n          x: this.scale,\n          y: this.scale\n        }\n      })\n      .onComplete(()=>{\n        a2.start();\n      });\n    a1.start();\n    let a2 = new TWEEN.Tween({scale: 1.2})\n      .to({scale: 1},100)\n      .onUpdate(function () {\n        node.scale  = {\n          x: this.scale,\n          y: this.scale\n        }\n      })\n      .onComplete(()=>{\n\n      });\n    a2.start();\n\n\n  }\n  that.isCut = false;\n  let _speedY = Math.random() * 400 + 1100;\n  let _speedX = Math.random() * 300 - 150;\n  if (that.type === 'superFruit'){\n    _speedX = 0;\n    _speedY = 1300;\n  }\n  let _acceleration = -( Math.random() * 0.05 + 0.14) * 10;\n  let _RotationSpeed = (Math.random() * 6 - 3) * 100;\n\n  let _fruitCell ;\n  if (spec.image === 'bomb'){\n    _fruitCell = BombCell({\n      animate: resources.ani_bomb,\n      scale: 1,\n      position: Vec2(0,0)\n    });\n  }else if(spec.image === 'superFruit'){\n    _fruitCell = FruitCell({\n      image: 'pomegranate',\n      scale: spec.scale,\n      position: Vec2(0,0)\n    });\n    setTimeout(()=>{\n      _setState(FruitState.SuperFruitBomb);\n    },6000);\n  }else {\n    _fruitCell = FruitCell({\n      image: spec.image,\n      scale: spec.scale,\n      position: Vec2(\n        0,0\n      ),\n      state: spec.state\n    });\n  }\n\n\n  _fruitCell.add2World(that);\n\n  _setState(FruitState.Running);\n  that.add2World = (parent)=>{\n    that.parent = parent;\n    that.parent.addChild(that);\n  }\n  that.move = (dt)=>{\n    dt *= _timeScaleOffset;\n    if (_state === FruitState.Running || _state === FruitState.CutOver || _state === FruitState.SlowSpeed || _state === FruitState.StopY){\n      if (_state === FruitState.SlowSpeed && spec.image === 'bomb'){\n\n        return;\n      }\n      const dtSecond = dt / 1000;\n      _speedY += _acceleration * dt;\n      if (spec.image === 'superFruit'){\n        if (_state === FruitState.Running){\n          if (Math.abs(_speedY) < 100){\n            _setState(FruitState.StopY);\n          }\n        }\n      }\n      if (_state === FruitState.StopY){\n        _speedX = 0 ;\n        _speedY = 0;\n      }\n\n      let pos = Vec2(that.position.x,that.position.y).sub(Vec2(_speedX * dtSecond,_speedY * dtSecond));\n      that.position = {\n        x: pos.x,\n        y: pos.y\n      }\n\n      if (_state === FruitState.Running || _state === FruitState.StopY){\n        that.rotation = that.rotation + _RotationSpeed * dtSecond * Math.PI/180;\n      }\n\n      if (_speedY < -2000){\n        _setState(FruitState.Over);\n      }\n    }\n\n    if (_fruitCell.update){\n      _fruitCell.update(dt);\n    }\n\n\n  }\n\n\n  that.Cut = (touchVec)=>{\n    if (_state === FruitState.Running || _state === FruitState.StopY ){\n      let localVec = Vec2(that.position.x,that.position.y);\n      let dis = localVec.getDistance(touchVec);\n      if (dis < 50){\n        // Director.sharedDirector().audio.play('cut_' + spec.image);\n\n\n        _isCut = true;\n\n        if (that.type === 'bomb'){\n          global.audioControl.play('cut_' + spec.image);\n          global.playerdata.cutBombCount++;\n          global.events.fire('cutbomb');\n          global.events.fire('flasheffect',{\n            position: localVec,\n            node: that\n          });\n\n          global.playerdata.lostRedBagCount += global.playerdata.getRealRedbagCount;\n          global.playerdata.getRedbagCount = 0;\n          global.playerdata.getRealRedbagCount = 0;\n          global.playerdata.getRangRedbagSum = 0;///随机红包金额清零\n          let tempScore = global.playerdata.totalScore;\n          global.playerdata.totalScore -= global.playerdata.cutBombSubScore;\n          if (global.playerdata.totalScore <= 0){\n            global.playerdata.totalScore = 0;\n          }else {\n            tempScore = global.playerdata.cutBombSubScore;\n\n          }\n          global.playerdata.cutBombSubScoreList.push(tempScore);\n\n          if (global.playerdata.cutBombSubScore === 0){\n            //减益  为0 的时候 不需要 显示 提示\n          }else {\n\n            global.events.fire('addShow',{\n              text: '-' + global.playerdata.cutBombSubScore,\n              font: 'rank_number_6',\n              position: {\n                x: that.position.x,\n                y: that.position.y - 100\n              }\n            });\n          }\n\n          _setState(FruitState.Cut);\n\n        }else if (that.type === 'superFruit'){\n          // console.log('砍中的是 超级水果');\n          // global.events.fire('zoomIn')\n          global.events.fire('shakeCamera');\n          cutSuperEffect(that,()=>{\n            if (_state === FruitState.SuperFruitBomb){\n              return;\n            }\n            global.audioControl.play('cut_banana');\n\n            _superFruitCutCount ++;\n            global.playerdata.cutSuperCount = _superFruitCutCount;\n            global.events.fire('addShow',{\n              text: '+' + _superFruitCutCount + '连击',\n              font: 'combo',\n              position: {\n                x: that.position.x,\n                y: that.position.y - 100\n              }\n            });\n\n            _RotationSpeed *= -1;\n            global.events.fire('superfuritcut',that.position);\n            // console.log('超级水果暴击+1');\n            global.events.fire('cuteffect',{\n              image: 'pomegranate',\n              position: localVec.add(Vec2(Math.random() * 200 - 100,Math.random() * 200 -100)),\n              direction: touchVec.sub(localVec)\n            });\n            global.events.fire('fruitemit',{\n              pos: touchVec,\n              image: 'pomegranate'\n            });\n            global.events.fire('cellMove',{\n              node: that,\n              ang: that.rotation,\n              pos: {\n                x: that.position.x,\n                y: that.position.y\n              }\n            })\n            // addCutEffect({x: Math.random() * 100 - 50, y:Math.random() * 100 - 50});\n            \n          });\n\n        }else {\n\n\n          global.playerdata.totalScore += 10;\n          _setState(FruitState.Cut);\n          global.events.fire('cutfruit',{\n            position: {\n              x: that.position.x,\n              y: that.position.y\n            }\n          });\n          global.events.fire('addcutfruit');\n          console.log('play sound' + 'cut_' + spec.image);\n          global.audioControl.play('cut_' + spec.image);\n          //global.playerdata.gold ++;\n          global.playerdata.cutFruitCount ++;\n          global.events.fire('cuteffect',{\n            image: spec.image,\n            position: localVec,\n            direction: touchVec.sub(localVec)\n          });\n          global.events.fire('fruitemit',{\n            pos: touchVec,\n            image: spec.image\n          });\n          if (that.bigredbag === true){\n            console.log('切中了大红包');\n\n            global.playerdata.getRangRedbagSum += global.playerdata.randCentNum;\n            global.playerdata.getRealRedbagCount ++;\n            global.playerdata.getRedbagCount += global.playerdata.randCentNum;\n            global.playerdata.allGetRedbag += global.playerdata.randCentNum;\n            // allGetRedbag\n          }\n          if (that.redbag === true){\n            global.playerdata.getRealRedbagCount ++;\n            global.playerdata.getRedbagCount ++;\n            global.playerdata.allGetRedbag ++;\n            global.events.fire('addShow',{\n              text: '+1个红包',\n              // font: 'gift_number',\n              position: {\n                x: localVec.x,\n                y: localVec.y\n              }\n            });\n            // Director.sharedDirector().audio.play('getred_' + Math.round(Math.random() * 1))\n            //global.audioControl.play(defines.musicConfig['getred_' + Math.round(Math.random() * 1)]);\n            global.audioControl.play('getred_1');\n            global.events.fire('addredbageffect',{\n              image: 'redbag',\n              position: {\n                x: that.position.x,\n                y: that.position.y\n              }\n            });\n          }\n        }\n      }\n    }\n  }\n\n\n  // const addCutEffect = function (pos) {\n  //   console.log('add Cut effect');\n  //   // let effect = PIXI.Sprite.fromImage(resources['daoguang' + Math.round(Math.random() * 1)]);\n  //   // that.addChild(effect);\n  //   // effect.anchor.set(0.5);\n  //   // // effect.position.set(pos);\n  //   // effect.rotation = Math.random() * 360 * Math.PI/180;\n  //   // let action = new TWEEN.Tween({alpha: 1})\n  //   //   .to({alpha: 0},100)\n  //   //   .onUpdate(function () {\n  //   //     effect.alpha = this.alpha;\n  //   //   })\n  //   //   .onComplete(function () {\n  //   //     that.removeChild(effect);\n  //   //   });\n  //   //   action.start();\n  // }\n\n  const  getRandomNum = (pos)=>{\n    let w = Math.random() * 2 - 1;\n    let i = w / Math.abs(w);\n    // console.log('随机到的方向是' + i);\n\n    return i;\n  }\n\n  const cutSuperEffect = function (object,cb) {\n    if (_isCanCut){\n\n    }else {\n      return\n    }\n    _isCanCut = false;\n    let objectPos = object.position;\n\n    let action = new TWEEN.Tween({scale: 1, x: objectPos.x,y: objectPos.y})\n      .to({scale: 1.04,\n        x: objectPos.x + getRandomNum(objectPos) * 10,\n        y: objectPos.y + getRandomNum(objectPos) * 10},Math.random() * 10 + 10)\n      .onUpdate(function () {\n        object.scale = {\n          x: this.scale,\n          y: this.scale\n        }\n        object.position = {\n          x: this.x,\n          y: this.y\n        }\n      })\n      .onComplete(()=>{\n        action1.start();\n      });\n    action.start();\n    let action1 = new TWEEN.Tween({scale: 1.04})\n      .to({scale: 1},Math.random() * 40 + 60)\n      .onUpdate(function () {\n        object.scale = {\n          x: this.scale,\n          y: this.scale\n        }\n      })\n      .onComplete(()=>{\n        _isCanCut = true;\n        if (cb){\n          cb();\n        }\n\n        object.position = objectPos;\n\n      });\n  };\n\n  that.isOver = ()=>{\n    if (_state === FruitState.Over){\n      return true;\n    }else {\n      return false;\n    }\n  }\n\n\n\n  let SlowSpeed = ()=>{\n    // console.log('fruit game over');\n    _setState(FruitState.SlowSpeed);\n  }\n  global.events.on('cutbomb',SlowSpeed);\n\n\n  that.removeSelf = ()=>{\n\n    _setState(FruitState.Over);\n  }\n\n\n  that.destory = ()=>{\n\n    if (_isCut){\n\n    }else {\n      if (that.redbag){\n        global.playerdata.lostRedBagCount ++;\n      }\n      if (that.bigredbag){\n        global.playerdata.lostRedBagCount ++;\n      }\n    }\n\n\n    _fruitCell.removeSelf();\n    that.parent.removeChild(that);\n    global.events.removeListener('cutbomb',SlowSpeed);\n  }\n\n  return that;\n}\nexport default Fruit;\n\n\n/** WEBPACK FOOTER **\n ** ./src/game/fruit.js\n **/","/**\n * Created by chuhaoyuan on 2016/10/25.\n */\nimport {Director,Vec2} from './../utility/imports'\nimport resources from './../resources'\nimport global from './../game-global'\nconst FruitCell = (spec)=>{\n  let that = {};\n  let _cells = [];\n  let _superCells = [];\n  let a = 0;\n  that.add2World = (parent)=>{\n    that.parent  = parent;\n\n    if (spec.image === 'pomegranate'){\n\n      console.log('初始化超级水果');\n      // let sp = PIXI.Sprite.fromImage(resources.fasheguang0);\n      // that.parent.addChild(sp);\n      // sp.anchor.set(0.5);\n      that.lowNode = new PIXI.Container();\n      that.parent.addChild(that.lowNode);\n\n       that.guang = PIXI.Sprite.fromImage(resources.bg_guang);\n      that.guang.anchor.set(0.5);\n      that.lowNode.addChild(that.guang);\n      var action = new TWEEN.Tween({angle: 0})\n        .to({angle: Math.PI * 2},10000)\n        .onUpdate(function () {\n          that.guang.rotation = this.angle\n        })\n      action.start();\n\n        for (let i = 0 ; i <6 ; i ++){\n          let cell = PIXI.Sprite.fromImage(resources['pomegranatefragments_' + (i + 1)]);\n          that.parent.addChild(cell);\n          cell.anchor.set(0.5);\n          cell.position = spec.position;\n          _superCells.push(cell);\n        }\n      // let sp = PIXI.Sprite.fromImage(resources.fasheguang0);\n      // that.lowNode.addChild(sp);\n      // sp.anchor.set(0.5);\n\n\n    }else {\n      for (let i = 0 ; i < 4 ; i ++){\n        let str = i;\n        let cell = new PIXI.Sprite.fromImage(resources[spec.image + '_' + str]);\n        that.parent.addChild(cell);\n        cell.anchor.set(0.5);\n        cell.position = spec.position;\n        _cells.push(cell);\n\n        if (spec.state === 9){\n\n        }else {\n          if (i < 2){\n          }else {\n            cell.visible = false;\n          }\n\n        }\n    }\n\n\n\n\n    }\n  }\n  global.events.on('cellMove',(data)=> {\n    if (spec.image === 'pomegranate'){\n\n    }else {\n      return\n    }\n    a++;\n    if (a === 7) {\n      _superCells[5].position = {x: a*0.3, y: a*0.3};\n      _superCells[4].position = {x: -a*0.3, y: 0};\n      _superCells[3].position = {x: -a*0.3, y: a*0.3};\n      _superCells[2].position = {x: a*0.3, y: 0}\n    }\n    else if(a === 14){\n      _superCells[5].position = {x: a*0.6, y: a*0.6};\n      _superCells[4].position = {x: -a*0.6, y: 0};\n      _superCells[3].position = {x: -a*0.6, y: a*0.6};\n      _superCells[2].position = {x: a*0.6, y: 0}\n    }\n    else if(a === 21){\n      _superCells[5].position = {x: a*0.75, y: a*0.75};\n      _superCells[4].position = {x: -a*0.75, y: 0};\n      _superCells[3].position = {x: -a*0.75, y: a*0.75};\n      _superCells[2].position = {x: a*0.75, y: 0}\n    }else {\n      return;\n    }\n  })\n\n\n\n  const moveCell = (node,pos)=>{\n    let action1 = new TWEEN.Tween({x:0,y:0})\n      .to({x: pos.x,y: pos.y},1000)\n      .onUpdate(function(){\n        // _cells[i].position = {\n        //   x: this.x,\n        //   y: this.y\n        // }\n        node.position = {\n          x: this.x,\n          y: this.y\n        }\n      }).onComplete(()=>{\n        that.parent.removeChild(node);\n      });\n    action1.start();\n\n    let angle = Math.random() * 6000 - 3000;;\n    let action2 = new TWEEN.Tween({angle: 0})\n      .to({angle:angle},5000)\n      .onUpdate(function(){\n        // _cells[i].rotation = this.angle * Math.PI/180;\n        if (spec.image === 'pomegranatefragments'){\n\n        }else {\n          node.rotation = this.angle * Math.PI/180;\n\n        }\n      })\n    action2.start();\n  }\n  that.cut = ()=>{\n\n    let randomDirection = Vec2(Math.random(),Math.random());\n    let cells = [];\n    if(spec.image === 'pomegranate'){\n      console.log('超级水果爆炸' + _superCells.length);\n      cells = _superCells;\n    }else {\n      cells = _cells;\n      for (let i = 0 ; i < 2 ; i ++){\n        _cells[i + 2].visible = false;\n      }\n    }\n    console.log('length = ' + cells.length);\n    for (let i = 0 ; i < cells.length ; i ++){\n      let direction = randomDirection.rotateByAngle(Vec2(0,0),360 / cells.length * i);\n      console.log('direction=' + JSON.stringify(direction));\n      let pos = direction.getNormal().multValue(Math.random() * 300 + 300);\n      console.log('pos =' + JSON.stringify(pos));\n      // moveCell(cells[i],pos);\n      if (spec.image === 'pomegranate'){\n        moveSuperFruit(cells[i],pos);\n      }else {\n        moveCell(cells[i],pos);\n      }\n    }\n  }\n  const moveSuperFruit = (node, pos)=>{\n    //console.log('node.pos' + JSON.stringify(node.position));\n    //console.log('target pos' + JSON.stringify(pos));\n    let action1 = new TWEEN.Tween({x: 0,y: 0})\n      .to({x: pos.x,y: pos.y},600)\n      .onUpdate(function () {\n        node.position = {\n          x: this.x,\n          y: this.y\n        }\n      })\n      .onComplete(function () {\n        that.parent.removeChild(node);\n      }).easing(TWEEN.Easing.Quadratic.InOut);\n\n\n    action1.start();\n\n  }\n  that.removeSelf = ()=>{\n    for (let i = 0 ; i < _cells.length; i ++){\n      that.parent.removeChild(_cells[i]);\n    }\n    a = 0;\n  }\n  return that;\n}\nexport default FruitCell;\n\n\n/** WEBPACK FOOTER **\n ** ./src/game/fruit-cell.js\n **/","/**\n * Created by wizard on 16/3/31.\n */\nimport {Eventuality} from \"./utility/imports.js\"\nimport PlayerData from './player-data'\nimport AudioControl from './game/audio-control'\n//import ConfigManger from './config-manager.js'\n//import AccountData from '../src/data/account-data'\n//import WofunsSockets from './network/wofuns_ws'\n//import LoopEndPool from './loop-end-pool'\nconst gameGlobal = {\n  events: Eventuality({}),\n  playerdata: PlayerData(),\n  audioControl: AudioControl()\n  //configManager : ConfigManger(),\n  //accountData : AccountData(),\n  //gameAccountData : AccountData(),\n  //sockets:WofunsSockets(),\n  //loopEnd: LoopEndPool()\n};\n\nexport default gameGlobal;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/game-global.js\n **/","/**\n * Created by chuhaoyuan on 2016/10/25.\n */\nimport {SRequest} from './utility/imports'\nimport defines from './game-defines'\nimport platform from './platform-helper'\nconst PlayerData = ()=>{\n  let that = {};\n  that.uid = 0;\n\n  that.allFruitCount = 0; //分配到的所有水果总数\n  that.fruitCount = 10;  //分配到的 所有水果总数\n  that.centsNum = 0;  //分配到的所有 红包总数\n  that.bombCount = 0; //分配到的所有炸弹总数\n  that.gold = 100000;\n  that.randCentNum = 0;\n  that.cutBombSubScore = 0;///切到炸弹减的分数\n\n\n  that.allGetRedbag = 0; //切刀的 红包总数\n  that.getRedbagCount = 0;//抢到的红包个数\n  that.getRealRedbagCount = 0;//得到的真实红包个数\n  that.cutFruitCount = 0;///切刀的水果个数\n  that.cutBombCount = 0;  ///切刀的所有炸弹总数\n  that.cutSuperCount = 0;//切刀的超级水果次数\n  that.totalScore = 0;///总积分,\n  that.lostRedBagCount = 0;//漏掉的红包数量\n  that.cutBombSubScoreList = [];//切到红包减分列表;\n  that.getRangRedbagSum = 0; ///切刀的随机红包金额;\n  that.deviceModel = 'none'; ///获取设备型号\n\n\n\n  // let userInfo = platform.getUserInfo();\n  // let userInfo = {};\n  // platform.getUserInfo((data)=>{\n  //   userInfo = data;\n  // });\n  // that.uid = userInfo.uid;\n  // that.auth = userInfo.auth;\n\n  // that.oldRankNum = 0;///当前玩家的排名\n  // that.nowRankNum = 0;///玩家旧的排名\n  // that.changedRankNum = 0;//玩家变化的排名数\n\n\n  that.hitsLists = []; ///连击数组\n  that.initData = ()=>{\n      that.fruitCount = 10;  //分配到的 所有水果总数\n      that.cutSuperCount = 0;\n    that.allGetRedbag = 0; //切刀的 红包总数\n    that.getRedbagCount = 0;//抢到的红包个数\n    that.getRealRedbagCount = 0;//得到的真实红包个数\n    that.cutFruitCount = 0;///切刀的水果个数\n    that.cutBombCount = 0;  ///切刀的所有炸弹总数\n    that.cutSuperCount = 0;//切刀的超级水果次数\n    that.totalScore = 0;///总积分\n    that.lostRedBagCount = 0;//漏掉的红包的数量\n    that.cutBombSubScoreList = [];//切到红包减分列表;\n    that.getRangRedbagSum = 0;//切刀的随机红包金额;\n  };\n\n\n  that.requestData = (method,params,cb)=>{\n    SRequest.post(defines.gameHomeURL,method + '?uid=' + that.uid,{},params,data=>{\n      console.log('requestData',method);\n      if (data.status !== 'ok'){\n        console.error('requestData,Failed!',JSON.stringify(data));\n      }else {\n\n      }\n\n      if (cb){\n        cb(data);\n      }\n\n    });\n  }\n  that.getGameInfo = (cb)=>{\n\n\n\n    platform.safeRequest(defines.gameHomeURL + defines.URLMethods.gameStart,{\n      uid: that.uid,\n      auth: that.auth,\n      channel:  (()=>{\n        if (platform.osVer === 1){\n          return 'iOS';\n        }else if (platform.osVer === 2){\n          return 'Android';\n        }else {\n          return 'none';\n        }\n      })(),\n      deviceType: that.deviceModel\n    },(data)=>{\n      if (data.status !== 'ok'){\n\n        cb.call(null, false, data);\n      }else {\n\n        console.log('gamestart info=' + JSON.stringify(data));\n\n        that.fruitCount = data.res.fruitsNum;\n        that.centsNum = data.res.centsNum;\n        that.bombCount =data.res.bombNum;\n        that.gold = data.res.money_pool;\n        that.allFruitCount = data.res.fruitsNum;\n        that.randCentNum = data.res.randCentNum;\n        that.cutBombSubScore = data.res.bombHarm;//切到炸弹减的分数\n\n        // that.fruitCount = 2;\n        // that.centsNum = 100;\n        // that.bombCount = 0;\n\n        if (cb){\n          console.log('run cb: ' + that.cutBombSubScore);\n          cb.call(null, true);\n        }\n      }\n    });\n\n\n\n    // that.requestData(defines.URLMethods.gameStart,{\n    //   uid: that.uid,\n    //   auth: that.auth,\n    //   channel:  (()=>{\n    //     if (platform.osVer === 1){\n    //       return 'iOS';\n    //     }else if (platform.osVer === 2){\n    //       return 'Android';\n    //     }else {\n    //       return 'none';\n    //     }\n    //   })()\n    // },(data)=>{\n    //   if (data.status != 'ok'){\n    //\n    //     cb.call(null, false, data);\n    //   }else {\n    //\n    //     console.log('gamestart info=' + JSON.stringify(data));\n    //\n    //     that.fruitCount = data.res.fruitsNum;\n    //     that.centsNum = data.res.centsNum;\n    //     that.bombCount =data.res.bombNum;\n    //     that.gold = data.res.money_pool;\n    //     that.allFruitCount = data.res.fruitsNum;\n    //     that.randCentNum = data.res.randCentNum;\n    //     that.cutBombSubScore = data.res.bombHarm;//切到炸弹减的分数\n    //\n    //     // that.fruitCount = 2;\n    //     // that.centsNum = 100;\n    //     // that.bombCount = 0;\n    //\n    //     if (cb){\n    //       cb.call(null, true);\n    //     }\n    //   }\n    // });\n  }\n  that.gameOver = (cb)=>{\n    console.log('切到的水果数' + that.cutFruitCount);\n    console.log('切刀的炸弹数' + that.cutBombCount);\n    console.log('获得的红包金额' + that.getRedbagCount);\n    console.log('清除的红包金额' + (that.allGetRedbag - that.getRedbagCount));\n    console.log('连击列表' + JSON.stringify(that.hitsLists));\n    console.log('切刀的超级水果次数' + that.cutSuperCount);\n    console.log('遗漏的红包个数' + that.centsNum - that.getRealRedbagCount);\n    console.log('切到的炸弹减分列表' + JSON.stringify(that.cutBombSubScoreList));\n    console.log('得到的随机红包的金额是' + that.getRangRedbagSum);\n    //\n    // if (cb){\n    //   cb({\n    //     status: 'fail',\n    //     show: '用户异常'\n    //   })\n    // }\n    // return\n    ////计算一下 最终得到的红包个数\n\n    platform.safeRequest(defines.gameHomeURL + defines.URLMethods.gameOver, {\n      uid: that.uid,\n      bombNum: that.cutBombCount,\n      centsNum: that.getRedbagCount,\n      fruitsNum: that.cutFruitCount,\n      failCentsNum: (that.allGetRedbag - that.getRedbagCount),\n      furyCutNum: that.cutSuperCount,\n      comboList: that.hitsLists,\n      bombHarmList: that.cutBombSubScoreList,\n      randCentNum: that.getRangRedbagSum,\n      deviceType: that.deviceModel\n    },cb);\n\n\n    // that.requestData(defines.URLMethods.gameOver, {\n    //   uid: that.uid,\n    //   bombNum: that.cutBombCount,\n    //   centsNum: that.getRedbagCount,\n    //   fruitsNum: that.cutFruitCount,\n    //   failCentsNum: (that.allGetRedbag - that.getRedbagCount),\n    //   furyCutNum: that.cutSuperCount,\n    //   comboList: that.hitsLists,\n    //   bombHarmList: that.cutBombSubScoreList,\n    //   randCentNum: that.getRangRedbagSum,\n    //   deviceType: that.deviceModel\n    // },cb);\n\n  }\n\n\n  that.getRanklistData = (cb,page,limit)=>{\n    that.requestData(defines.URLMethods.GetFruitRank,{\n      uid: that.uid,\n      page: page,\n      limit: limit\n    },(data)=>{\n      if (data.status === 'ok'){\n        if (cb){\n          // console.log('getRanklistData :' + JSON.stringify(data));\n          cb(data.res);\n        }\n      }\n\n    });\n  }\n\n  return that;\n}\nexport default PlayerData;\n\n\n/** WEBPACK FOOTER **\n ** ./src/player-data.js\n **/","/**\n * Created by chuhaoyuan on 2016/11/2.\n */\nconst CMD = {\n  loadEnd: 'hide_loading',\n  playSound: 'play_sound',\n  endAll: 'do_finish',\n  tipPacket: 'add_redbag_tip',\n  getUserInfo: 'get_app_data',\n  getAppUserInfo: 'get_user_info',\n  startRedbagGame: 'start_redbag_game',\n  showRecordact: 'show_recordact',\n  getDeviceModel: 'getdevicemodel',\n  safeRequest: 'safeRequest'\n\n}\nconst OSType = {\n  iOS: 1,\n  Android: 2,\n  Web: 3,\n  unknown: 4\n}\nconst _getOperatingSystem = ()=>{\n  var userAgent = navigator.userAgent || navigator.vendor || window.opera;\n  if (userAgent.match(/iPad/i) || userAgent.match(/iPhone/i) || userAgent.match(/iPad/i)){\n    return OSType.iOS;\n  }\n  else if(userAgent.match(/Android/i)){\n    return OSType.Android;\n  }\n  else {\n    return OSType.unknown;\n  }\n}\nconst PlatformHelper = ()=>{\n  let that = {\n    callbacks: {}\n  };\n\n\n  const _osVer = _getOperatingSystem();\n  that.osVer = _osVer;\n  console.log('os sys:' + _osVer);\n  const _sendCMD = (body)=>{\n    const content = JSON.stringify(body);\n    console.log('send cmd' + content);\n    switch (_osVer){\n      case OSType.iOS:\n        console.log('window.webkit.messageHandlers.webViewApp.postMessage' + content);\n        window.webkit.messageHandlers.webViewApp.postMessage(content);\n        break;\n      case OSType.Android:\n\n        break;\n      default:\n        window.alert('no cmd handler' + content);\n        break;\n    }\n  }\n\n\n\n  \n  //todo native userinfo\n  that.loadEnd = () => {\n    if(window.Android && window.Android.hasOwnProperty(\"hideLoading\")) {\n       window.Android.hideLoading();\n    }\n    else {\n      _sendCMD({\n        cmd: CMD.loadEnd\n      })\n    }\n\n  };\n\n  that.playMusic = (url)=>{\n    \n  }\n  that.playSound = (url)=>{\n    if(window.Android && window.Android.hasOwnProperty(\"playSound\")) {\n      return window.Android.playSound(url);\n    }\n    _sendCMD({\n      cmd: CMD.playSound,\n      data: {\n        url: url\n      }\n    })\n  };\n\n  that.getOsType = ()=>{\n    if (_osVer === OSType.iOS){\n      return 'iOS';\n    }else if (_osVer === OSType.Android){\n      return 'Android';\n    }\n  };\n  that.playBg = (url)=>{\n    if(window.Android && window.Android.hasOwnProperty(\"playBg\")) {\n      return window.Android.playBg(url);\n    }\n    _sendCMD(\n      {\n        cmd: CMD.playSound,\n        data: {\n          url: url\n        }\n      }\n    )\n  };\n\n  that.endAll = ()=> {\n    if(window.Android && window.Android.hasOwnProperty(\"doFinish\")) {\n      return window.Android.doFinish();\n    }\n    _sendCMD(\n      {\n        cmd: CMD.endAll\n      }\n    )\n  };\n\n  that.tipPacket = ()=> {\n    if(window.Android && window.Android.hasOwnProperty(\"addRedBagTip\")) {\n      return window.Android.addRedBagTip();\n    }\n    _sendCMD(\n      {\n        cmd: CMD.tipPacket\n      }\n    )\n  };\n\n  that.getUserInfo = (cb)=>{////获取 用户uid 跟auth\n    let data = null;\n    if(window.Android && window.Android.hasOwnProperty('getAppData')) {\n      let resp = window.Android.getAppData();\n      console.log('PlatfromHelp window.Android.getAppData()=' + resp);\n      let body = JSON.parse(resp);\n      data = {\n        uid: parseInt(body.uid),\n        auth: body.auth\n      }\n      if (cb){\n        cb(data);\n      }\n    }else if (_osVer === OSType.iOS){\n      _callBackIndex ++;\n      if (cb){\n        that.callbacks[_callBackIndex] = function (data) {\n          cb({\n            uid: parseInt(data.uid),\n            auth: data.auth\n          });\n        }\n      }\n      _sendCMD({\n        cmd: CMD.getUserInfo,\n        data: {\n          callbackName: 'window.platform.appResponse',\n          callbackID: _callBackIndex.toString()\n        }\n      });\n    }else{\n      setTimeout(function () {\n        if (cb){\n          cb({\n            uid: '80514454',\n            auth: 'test'\n          })\n        }\n      })\n    }\n    return data;\n  };\n\n  let _callBackIndex = 0;\n  const _handleResp = (dataString)=>{\n    // let str = dataString.replace(/\\\\/g,\"\\\\\\\\\");\n    // return JSON.parse(str);\n    return JSON.parse(dataString);\n\n  };\n\n  that.getAppUserInfo = (uid,cb)=>{\n    console.log('get other info :' + uid);\n    _callBackIndex ++;\n    if (cb){\n      that.callbacks[_callBackIndex] = cb;\n    }\n\n    if(window.Android && window.Android.hasOwnProperty(\"getUserInfo\")) {\n      window.Android.getUserInfo(uid.toString(),'window.platform.appResponse',_callBackIndex.toString());\n    }\n    _sendCMD({\n      cmd: CMD.getAppUserInfo,\n      data: {\n        uid: uid.toString(),\n        callbackName: 'window.platform.appResponse',\n        callbackID: _callBackIndex.toString()\n      }\n    })\n\n  };\n\n  that.appResponse = function (cbindex,repString) {\n    console.log('app cbindex=' + cbindex+'appResponse=' + repString);\n    let resp = _handleResp(repString);\n    // if (that.callbacks[resp.func_id]){\n    //   that.callbacks[resp.func_id].call(null,resp.resp);\n    //   delete  that.callbacks[resp.func_id];\n    // }\n    let index = parseInt(cbindex);\n    if (that.callbacks[index]){\n      console.log('play cb: ' + index);\n      that.callbacks[index].call(null,resp);\n      delete  that.callbacks[cbindex];\n    }\n  };\n\n  that.jumpToPacket = ()=>{\n    if(window.Android && window.Android.hasOwnProperty(\"showRecordAct\")) {\n      return window.Android.showRecordAct();\n    }\n    _sendCMD({\n      cmd: CMD.showRecordact\n    })\n\n  }\n\n  that.startRedBagGame = function (url) {\n    if (window.Android && window.Android.hasOwnProperty('startRedBagGame')){\n      window.Android.startRedBagGame(url);\n    }\n    _sendCMD({\n      cmd: CMD.startRedbagGame,\n      data: {\n        url: url\n      }\n    })\n  };\n  that.getDeviceModel = function (cb) {\n    if (window.Android && window.Android.hasOwnProperty('getDeviceModel')){\n      let deveiceModel = window.Android.getDeviceModel();\n      let body = JSON.parse(deveiceModel);\n      if (cb){\n        cb(body);\n      }\n    }else if (_osVer === OSType.iOS){\n      if (cb){\n        _callBackIndex ++;\n        that.callbacks[_callBackIndex] = cb;\n      }\n      _sendCMD({\n        cmd: CMD.getDeviceModel,\n        data: {\n          callbackName: 'window.platform.appResponse',\n          callbackID: _callBackIndex.toString()\n        }\n      });\n\n    }else {\n      if (cb){\n        cb('none');\n      }\n    }\n  }\n  \n  \n  that.safeRequest = function (url,body,cb) {\n    let bodyString = JSON.stringify(body);\n    _callBackIndex++;\n    if (cb){\n      _callBackIndex++;\n      that.callbacks[_callBackIndex] = cb;\n    }\n    if (_osVer === OSType.Android){\n      if (window.Android && window.Android.hasOwnProperty('safeRequest')){\n          window.Android.safeRequest(url,bodyString,'window.platform.safeResponse',_callBackIndex.toString());\n      }\n    }else if (_osVer === OSType.iOS){\n      _sendCMD({\n        cmd: CMD.safeRequest,\n        data: {\n          url: url,\n          body: bodyString,\n          callbackName: 'window.platform.safeResponse',\n          callbackID: _callBackIndex\n        }\n      });\n    }\n  }\n  that.safeResponse = function (callbackID,repString) {\n    console.log('callbackID' + callbackID,'respString' + repString);\n    let body = JSON.parse(repString);\n    if (that.callbacks[_callBackIndex]){\n      that.callbacks[_callBackIndex].call(null,body);\n      delete that.callbacks[_callBackIndex];\n    }\n  }\n\n  return that;\n};\n\nconst platform = PlatformHelper();\n\nwindow.platform = platform;\n\nexport default platform;\n\n\n/** WEBPACK FOOTER **\n ** ./src/platform-helper.js\n **/","/**\n * Created by chuhaoyuan on 2016/11/3.\n */\nimport platformHelp from './../platform-helper'\nimport defines from './../game-defines'\nconst AudioControl = ()=>{\n  let that = {};\n\n  let _audioList = {};\n  let playAudio = (id,cb)=>{\n    if (that.hasOwnProperty(id)){\n      that[id].play();\n      that[id].addEventListener('ended',()=>{\n        if(cb){\n          cb();\n        }\n      })\n    }else {\n      let audio = document.getElementById(id);\n      that[id] = audio;\n      audio.play();\n      audio.addEventListener('ended',()=>{\n        if(cb){\n          cb();\n        }\n      })\n    }\n\n  }\n\n\n\n  that.play = (key,cb)=>{\n    if (platformHelp.osVer === 1){\n      platformHelp.playSound(defines.musicIosConfig[key]);\n    }\n    if (platformHelp.osVer === 2){\n      platformHelp.playSound(defines.musicConfig[key]);\n    }\n  }\n\n  that.playBg = (key,cb)=>{\n    if (platformHelp.osVer === 1){\n      platformHelp.playBg(defines.musicIosConfig[key]);\n    }\n    if (platformHelp.osVer === 2){\n      platformHelp.playBg(defines.musicConfig[key]);\n    }\n\n  }\n  that.playLoop = (id)=>{\n    let pcb = ()=>{\n      playAudio(id,()=>{\n        if (that[id].loop === false){\n          return\n        }else {\n          pcb();\n        }\n      });\n    }\n    pcb();\n  }\n  that.stop = (id)=>{\n    that[id].loop = false;\n  }\n  // that.update = ()=>{\n  //   for (let i = 0 ; i < _audioList.length ; i ++){\n  //\n  //   }\n  // }\n  // that.createAudio = (name,id)=>{\n  //\n  //   if (that.hasOwnProperty(name)){\n  //     console.log('have this audio' + name);\n  //   }else {\n  //     that[name] = document.getElementById(id);\n  //   }\n  // }\n  // that.playAduio = (name)=>{\n  //   if (that.hasOwnProperty(name)){\n  //     that[name].play();\n  //   }else {\n  //     console.error('not found this audio' + name);\n  //   }\n  // }\n  // that.pauseAudio = (name)=>{\n  //   if (that.hasOwnProperty(name)){\n  //     that[name].pause();\n  //   }else {\n  //     console.error('not found this audio' + name);\n  //   }\n  // }\n  // that.resumeAudio = (name)=>{\n  //   if (that.hasOwnProperty(name)){\n  //     that[name].play();\n  //   }else {\n  //     console.error('not found this audio' + name);\n  //   }\n  // }\n  // that.stopAudio = (name)=>{\n  //   that.pauseAudio(name);\n  //   that[name].currentTime = 0;\n  // }\n  return that;\n}\nexport default AudioControl;\n\n\n/** WEBPACK FOOTER **\n ** ./src/game/audio-control.js\n **/","/**\n * Created by chuhaoyuan on 2016/10/28.\n */\nimport {ResourceManager,AnimationFactor,Vec2} from './../utility/imports'\nimport resources from './../resources'\nconst BombCell = (spec)=>{\n  let that = new PIXI.Container();\n\n  ////初始化Bomb动画\n  // console.log('spec.image=' + JSON.stringify(spec.animate));\n  that.position = {\n    x: spec.position.x,\n    y: spec.position.y\n  }\n  ResourceManager.loadList([spec.animate,resources.ani_spark],()=>{\n    let animate = AnimationFactor.createAnimation({\n      type: 'frame',\n      anchor: {x:0.5,y:0.5},\n      animates: {\n          idle: {\n            pre: 'bomb',\n            start: 1,\n            end: 4,\n            speed: 60/60 * 0.25\n           }\n      }\n\n    });\n    that.addChild(animate.node);\n    animate.playLoop('idle');\n\n    that.sparkanimate = AnimationFactor.createAnimation({\n      type:'frame',\n      anchor: {x: 0.5,y: 0.5},\n      animates: {\n        idle: {\n          pre: 'spark',\n          start: 1,\n          end: 12,\n          speed: 60/60 * 0.25\n        }\n      }\n    });\n    that.addChild(that.sparkanimate.node);\n    that.sparkanimate.playLoop('idle');\n\n\n\n\n    // that.bombSpark = BombSpark({\n    //   animate: resources.ani_spark,\n    //   scale: 1,\n    //   position: Vec2(0,0)\n    // });\n    // that.bombSpark.add2World(that);\n  });\n\n\n\n\n\n  that.add2World = (parent)=>{\n    that.parent = parent;\n    that.parent.addChild(that);\n  }\n\n\n\n  that.removeSelf = ()=>{\n    // that.bombSpark.removeSelf();\n    that.parent.removeChild(that);\n  }\n\n  that.cut = ()=>{\n\n  }\n  that.update = (dt)=>{\n    if (that.parent){\n      if (that.sparkanimate){\n        that.sparkanimate.node.rotation = that.parent.rotation * -1;\n      }\n     // let purPos = Vec2(0,1).rotateByAngle(Vec2(0,0),that.parent.rotation).multValue(30).add(Vec2(10,10));\n     // _bombSpark.position = purPos;\n    }\n  }\n\n\n\n\n  return that;\n}\nexport  default BombCell;\n\n\n/** WEBPACK FOOTER **\n ** ./src/game/bomb-cell.js\n **/","/**\n * Created by chuhaoyuan on 2016/10/24.\n */\nimport global from '../../game-global'\nimport resources from '../../resources'\nimport {Vec2} from '../../utility/imports'\nconst CutEffect = (spec)=>{\n  let that = new PIXI.Container();\n  that.add2World = (parent)=>{\n    parent.addChild(that);\n  }\n\n  let addEffect = (data)=>{\n    let image = data.image;\n    let pos = data.position;\n    let direction = data.direction;\n    let effect = new PIXI.Sprite.fromImage(resources[(()=>{\n      var temp = image + '_e';\n      var i = Math.round(Math.random() * 2);\n      if (i === 0){\n\n      }else {\n        temp += '_'+ i;\n      };\n      console.log('cut effect temp=' + temp);\n      return temp;\n\n    })()]);\n    effect.anchor = {x: 0.5,y: 0.5};\n    that.addChild(effect);\n    effect.position = {\n      x: pos.x + Math.random() * 160 - 80,\n      y: pos.y + Math.random() * 160 - 80\n    };\n\n    effect.rotation = (Math.random() * 360) * Math.PI / 180;\n    // effect.rotation = Vec2(0,1).getAngle(direction) + Math.PI/180 * 90;\n\n    let tween1 = new TWEEN.Tween({alpha: 1})\n      .to({alpha: 0},1200)\n      .onUpdate(function(){\n        effect.alpha = this.alpha\n      })\n      .onComplete(()=>{\n        that.removeChild(effect);\n      })\n\n\n    let tween = new TWEEN.Tween({scale: 0.6})\n      .to({scale: Math.random() * 0.1 + 1},250)\n      .onUpdate(function(){\n      effect.scale.set(this.scale);\n    })\n      .onComplete(()=>{\n        tween1.start();\n      });\n    tween.start();\n  }\n\n\n  global.events.on('cuteffect',(data)=>{\n    if (data.image === 'bomb'){\n      return\n    }\n    //for (var i = 0 ; i < Math.round(Math.random() * 1) + 1 ; i ++){\n    addEffect(data);\n    //}\n\n  });\n\n\n  return that;\n}\nexport default CutEffect;\n\n\n/** WEBPACK FOOTER **\n ** ./src/game/effect/cut-effect.js\n **/","/**\n * Created by chuhaoyuan on 2016/11/7.\n */\nconst ShakeNode = ()=> {\n  let that = {};\n  //let state = false;\n\n  let _isAction = false;\n  let action = (node,index)=>{\n    if (index <=0 ){\n      _isAction = false;\n      return\n    }else {\n      let tween = new TWEEN.Tween(node.position)\n        .to({x: index % 2 ? -1 : 1 * 30, y : 0},40)\n        .onUpdate(function () {\n          node.position.x = this.x;\n          node.position.y = this.y;\n        })\n        .onComplete(()=>{\n          index --;\n          action(node,index);\n        }).easing(TWEEN.Easing.Cubic.In);\n      tween.start();\n    }\n  }\n\n  that.shakeNode = (node)=> {\n    if (_isAction){\n      return;\n    }\n    _isAction = true;\n    action(node,8);\n    //  let Rate = 5;\n    //\n    //  if(state === true) {\n    //    state = false;\n    //  }else if (state === false){\n    //    state = true;\n    //\n    //    let changeRate = ()=> {\n    //      if(state === false) {\n    //      }else if (state === true){\n    //        node.x += Rate;\n    //        node.y -= Rate;\n    //        }\n    //      Rate *= -1;\n    //\n    //      setTimeout(()=> {\n    //      changeRate();\n    //      }, Math.round(Math.random() * 20) + 20);\n    //    };\n    //    changeRate();\n    //    state = false;\n    //  }\n    //};\n    //that.stopShake = ()=>{\n    //  state = false;\n    //};\n\n    // let tween1_x = new TWEEN.Tween({x:20})\n    //   .to({x:0},100)\n    //   .onUpdate(function(){\n    //     node.x = this.x\n    //   })\n    //   .onComplete(()=>{\n    //   })\n    // let tween2_x = new TWEEN.Tween({x: 0})\n    //   .to({x: 20},100)\n    //   .onUpdate(function(){\n    //     node.x = this.x\n    //   })\n    //   .onComplete(()=>{\n    //     tween1_x.start();\n    //   })\n    // tween2_x.start();\n    //\n    //\n    // let tween1_y = new TWEEN.Tween({y:20})\n    //   .to({y:0},100)\n    //   .onUpdate(function(){\n    //     node.y = this.y\n    //   })\n    //   .onComplete(()=>{\n    //   })\n    // let tween2_y = new TWEEN.Tween({y: 0})\n    //   .to({y: 20},50)\n    //   .onUpdate(function(){\n    //     node.y = this.y\n    //   })\n    //   .onComplete(()=>{\n    //     tween1_y.start();\n    //   })\n    // tween2_y.start();\n\n\n  }\n  return that;\n\n}\nconst shakeNode = ShakeNode();\nexport default shakeNode\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/shake-node.js\n **/","/**\n * Created by chuhaoyuan on 2016/11/10.\n */\nconst TimeController = ()=>{\n  let that = {};\n  let register = {};\n  that.setTimeout = (type,cb,time)=>{\n    // if (register.hasOwnProperty(type)){\n    //   console.error('time controller have' + type);\n    //   return\n    // }\n    register[type] = setTimeout(()=>{\n      delete register[type];\n      if (cb){\n        cb();\n      }\n    },time);\n  }\n  that.unsetTimeout = (type)=>{\n    if (register.hasOwnProperty(type)){\n      clearTimeout(register[type]);\n      delete register[type];\n    }\n  }\n  that.stopAllTimeCB = function () {\n    for (var i in register){\n      clearTimeout(register[i]);\n    }\n    register = {};\n  }\n  return that;\n}\nlet timeController = TimeController();\nexport default timeController;\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/time-controller.js\n **/","/**\n * Created by wizard on 2016/10/21.\n */\n\nimport  OneBlade from './../one-blade'\nconst BladeState = {\n  Invalide: -1,\n  Waiting: 0,\n  Running: 1,\n  Over: 2\n}\nconst BladeRender = (spec)=>{\n  let that = {};\n\n  const _onBegin = (event)=> {\n    spec.touchBegan();\n  };\n  let _multPoints = {};\n  let _state = BladeState.Invalide;\n\n  const _onMove = (event)=> {\n    if (_state != BladeState.Running){\n      return\n    }\n\n\n    spec.touchMove(event.data);\n\n    var pos  = {\n      x: event.data.getLocalPosition(spec.node).x,\n      y: event.data.getLocalPosition(spec.node).y\n    };\n\n    if (_multPoints.hasOwnProperty(event.data.identifier)){\n      _multPoints[event.data.identifier]._addTailPoint(pos);\n    }else {\n      let oneBlade = OneBlade(spec);\n      oneBlade.init();\n      _multPoints[event.data.identifier] = oneBlade;\n    }\n\n  };\n\n  const _onEnd = (event)=>{\n    spec.touchEnd();\n    if (event.data.identifier === 0 || event.data.identifier == undefined){\n      return;\n    }\n\n    if(_multPoints[event.data.identifier]) {\n      _multPoints[event.data.identifier].removeSelf();\n    }\n\n  };\n  that.init = ()=>{\n  };\n\n  that.update=(dt)=>{\n    for (let i  in _multPoints){\n      _multPoints[i].update(dt);\n    }\n  };\n\n  (()=>{\n    spec.node.on('touchstart', _onBegin)\n      .on('mousedown', _onBegin);\n\n\n    spec.node.on('mouseup', _onEnd)\n      .on('touchend', _onEnd)\n      .on('mouseupoutside', _onEnd)\n      .on('touchendoutside', _onEnd);\n\n    spec.node.on('touchmove', _onMove)\n      .on('mousemove', _onMove);\n  })();\n\n  let _setState = (state)=>{\n    if (state === _state){\n      return;\n    }\n    switch (state){\n      case BladeState.Waiting:\n        break;\n      case BladeState.Running:\n        break;\n      case BladeState.Over:\n        break;\n      default:\n        break;\n    }\n    _state = state;\n  }\n\n  _setState(BladeState.Waiting);\n  that.toStartTouchMove = ()=>{\n    _setState(BladeState.Running);\n  }\n  that.toEndTouchMove = ()=>{\n    _setState(BladeState.Over);\n  }\n  return that;\n};\nexport default BladeRender;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/game/blade_render.js\n **/","/**\n * Created by yu on 16/10/26.\n */\n\nconst kKeepHoldTime = 0.5;\nconst kCloserSpeed = 300;\n\nconst VectorLengthSq = function (vector) {\n  let lengthSq = (vector.x * vector.x + vector.y * vector.y);\n  return lengthSq;\n};\n\nconst VectorNormalize = function (vector) {\n  let length = Math.sqrt(VectorLengthSq(vector) );\n  vector.x *= 1 / length;\n  vector.y *= 1 / length;\n};\n\nconst OneBlade = function (spec) {\n  let that = {};\n  let _tailList = [];\n  let _points = [];\n  let _rope = null;\n\n  const BladeState = {\n    StateMoving : 1,\n    StateHold: 2\n  };\n\n  let _state = BladeState.StateHold;\n  let _holdCD = 0;\n\n  const _setState = (new_state)=> {\n    if(_state === new_state) {\n      return;\n    }\n\n    switch (new_state){\n    case BladeState.StateHold:\n      _holdCD = kKeepHoldTime;\n    default:\n      break;\n    }\n\n    _state = new_state;\n  };\n\n  that._addTailPoint = (pos)=>{\n\n\n    if(_tailList.length > 0) {\n      var lastPos = _tailList[_tailList.length-1];\n      let step = _tailList.length >= _points.length ? 5: 1;\n      if(Math.abs(lastPos.x - pos.x) < step && Math.abs(lastPos.y - pos.y) < step ) {\n        return;\n      }\n    }\n\n    if(_tailList.length >= 10) {\n      _tailList.splice(0,1);\n    }\n\n    _tailList.push(pos);\n\n    _setState(BladeState.StateMoving);\n  };\n\n  that.init = ()=> {\n    for(var i=0; i<10; ++i) {\n      _points.push({\n        x:0 ,\n        y:0\n      });\n    }\n\n    _rope = new PIXI.mesh.Rope(PIXI.Texture.fromImage('assets/cutfruit/blade.png'), _points);\n    //_rope.blendMode = PIXI.BLEND_MODES.LIGHTEN;\n\n    spec.node.addChild(_rope);\n  };\n\n  that.removeSelf = ()=>{\n    spec.node.removeChild(_rope);\n  };\n\n  that.update = (dt)=> {\n\n    switch (_state) {\n    case BladeState.StateMoving:\n      _shiftPoints();\n      _setState(BladeState.StateHold);\n      break;\n    case BladeState.StateHold:\n      let step = dt / 1000;\n      _holdCD -= step;\n      if (_holdCD <= 0) {\n        _tailList = [];\n        _rope.visible = false;\n        return;\n      }\n      for (let i = _points.length - 2; i > 0; --i) {\n        let lastPoint = _points[i + 1];\n        let dir = {\n          x: lastPoint.x - _points[i].x,\n          y: lastPoint.y - _points[i].y\n        };\n\n        if (VectorLengthSq(dir) <= 5) {\n          _rope.visible = false;\n          break;\n        }\n\n\n        VectorNormalize(dir);\n\n        _points[i].x += dir.x * step * kCloserSpeed;\n        _points[i].y += dir.y * step * kCloserSpeed;\n      }\n      break;\n    default:\n      break;\n  }\n\n  };\n\n  const _shiftPoints = ()=>{\n\n    if(_tailList.length < _points.length) {\n      _rope.visible = false;\n      return;\n    }\n\n    //let cnt = _points.length / _tailList.length;\n    //let n= _points.length % _tailList.length;\n    //\n    //for(let i=0; i<_points.length; ++i) {\n    //  for(let j=0; j<cnt; ++j) {\n    //    _points[i + j].x = _tailList[i].x;\n    //    _points[i + j].y = _tailList[i].y;\n    //  }\n    //}\n\n    _rope.visible = true;\n    let point = _tailList[0];\n    for(var i=0; i<_points.length; ++i) {\n      if (i>= _tailList.length) {\n        _points[i].x = point.x;\n        _points[i].y = point.y;\n      }\n      else {\n        point = _tailList[i];\n        _points[i].x = point.x;\n        _points[i].y = point.y;\n      }\n    }\n  };\n\n  return that;\n};\n\nexport default OneBlade;\n\n\n/** WEBPACK FOOTER **\n ** ./src/one-blade.js\n **/","/**\n * Created by chuhaoyuan on 2016/10/24.\n */\nimport {BaseLayer,ResourceManager,Inherited,Director} from '../../utility/imports'\nimport resources from '../../resources'\nimport global from '../../game-global'\nimport particlefruitjson from './particle-fruit-json'\nconst ParticleLayer = ()=>{\n  let that = Inherited(BaseLayer());\n  that.inheritOn('init',()=>{\n\n    return true;\n  });\n  let _emitters = {};\n  let elapsed = Date.now();\n  that.inheritOn('update',()=>{\n\n      let now = Date.now();\n      for (let i in _emitters){\n        _emitters[i].update((now - elapsed) * 0.001);\n      }\n      elapsed = now;\n  });\n\n\n  global.events.on('fruitemit',(data)=>{\n    if (data.image === 'bomb'){\n      return;\n    }\n    if (_emitters.hasOwnProperty(data.image)){\n      _emitters[data.image].updateOwnerPos(data.pos.x,data.pos.y);\n      _emitters[data.image].emit = true;\n    }else {\n      _emitters[data.image] = new PIXI.particles.Emitter(\n        that.node,\n        [PIXI.Texture.fromImage(resources[data.image + '_pe'])],\n        particlefruitjson.fruit);\n      _emitters[data.image].updateOwnerPos(data.pos.x,data.pos.y);\n    }\n  });\n  let _isAction = false;\n  global.events.on('addredbageffect',(data)=>{\n    if (_isAction){\n      return\n    }\n    _isAction = true;\n    console.log('addredbageffect' + JSON.stringify(data));\n    if (_emitters.hasOwnProperty(data.image)){\n    }else {\n      _emitters[data.image] = new PIXI.particles.Emitter(\n        that.node,\n        [PIXI.Texture.fromImage(resources.icon_gift2),PIXI.Texture.fromImage(resources.star)],\n        particlefruitjson.redbag);\n\n    }\n    _emitters[data.image].updateOwnerPos(\n      data.position.x,\n      data.position.y\n    );\n    let action = new TWEEN\n      .Tween({x: data.position.x,y: data.position.y})\n      .to({x: Director.sharedDirector().screen.right - 10,\n        y: Director.sharedDirector().screen.top },1200)\n      .onUpdate(function () {\n        _emitters[data.image].updateOwnerPos(this.x,this.y);\n\n\n      })\n      .onComplete(()=>{\n        _isAction = false;\n        _emitters[data.image].updateOwnerPos(\n          Director.sharedDirector().screen.right * 0.5,\n          Director.sharedDirector().screen.bottom * 0.5\n        );\n      });\n    action.start();\n    _emitters[data.image] .emit = true;\n\n    global.events.on('cutbomb',()=>{\n      ////切中炸弹后 ，移除 红包效果的动作，与特效\n      action.stop();\n      _emitters[data.image].emit = false;\n      _isAction = false;\n      _emitters[data.image].updateOwnerPos(\n        Director.sharedDirector().screen.right * 0.5,\n        Director.sharedDirector().screen.bottom * 0.5\n      );\n    });\n  });\n\n\n  global.events.on('fruitwater',(state)=>{\n    console.log('水果喷泉' + state);\n    if (_emitters.hasOwnProperty('fruitwater')){\n    }else {\n      _emitters['fruitwater'] = new PIXI.particles.Emitter(\n        that.node,\n        [PIXI.Texture.fromImage(resources.star2)],\n        particlefruitjson.fruitWater);\n    }\n    _emitters['fruitwater'].updateOwnerPos(\n      Director.sharedDirector().screen.right * 0.5,\n      Director.sharedDirector().screen.bottom\n    );\n\n    if (state === 'Crazy'){\n      _emitters['fruitwater'].emit = true;\n\n    }\n    if (state === 'Normal'){\n      _emitters['fruitwater'].emit = false;\n    }\n  })\n\n  global.events.on('colorbar',(layer)=>{\n    //if (_emitters.hasOwnProperty('colorbar')){\n    //}else {\n      _emitters['colorbar'] = new PIXI.particles.Emitter(\n        layer.node,\n        [PIXI.Texture.fromImage(resources.ribbon_1),PIXI.Texture.fromImage(resources.ribbon_25),PIXI.Texture.fromImage(resources.ribbon_3),PIXI.Texture.fromImage(resources.ribbon_4),PIXI.Texture.fromImage(resources.ribbon_5)],\n        particlefruitjson.colorbar);\n    //}\n    _emitters['colorbar'].updateOwnerPos(\n      Director.sharedDirector().screen.right * 0.5 - 50,\n      Director.sharedDirector().screen.top + 10\n    );\n    _emitters['colorbar'].emit = true;\n  });\n\n  let isAction = false;\n  global.events.on('cutfruit',(data)=>{\n    if (isAction){\n      return\n    }\n    isAction = true;\n    if (_emitters.hasOwnProperty('cutfruit')){\n    }else {\n      _emitters['cutfruit'] = new PIXI.particles.Emitter(\n        that.node,\n        [PIXI.Texture.fromImage(resources.grain)],\n        particlefruitjson.cutfruit);\n    }\n    _emitters['cutfruit'].updateOwnerPos(\n      data.position.x,\n      data.position.y\n    );\n    let action = new TWEEN\n      .Tween({x: data.position.x,y: data.position.y})\n      .to({x: Director.sharedDirector().screen.right - 50 ,\n        y: Director.sharedDirector().screen.bottom - 50 },1200)\n      .onUpdate(function () {\n        _emitters['cutfruit'].updateOwnerPos(this.x,this.y);\n      })\n      .onComplete(()=>{\n        isAction = false;\n        _emitters['cutfruit'].emit = false;\n      });\n    action.start();\n    _emitters['cutfruit'].emit = true;\n  });\n  global.events.on('addEndScore',(layer,cb)=>{\n\n      _emitters['addEndScore'] = new PIXI.particles.Emitter(\n          layer.node,\n          [PIXI.Texture.fromImage(resources.star2)],\n          particlefruitjson.addEndScore);\n\n    _emitters['addEndScore'].updateOwnerPos(\n         2 * 150 * -0.5 + Director.sharedDirector().screen.right * 0.5,\n         Director.sharedDirector().screen.bottom * 0.5 + 180\n    );\n    let action = new TWEEN.Tween({\n        x: 2 * 150 * -0.5 + Director.sharedDirector().screen.right * 0.5,\n        y: Director.sharedDirector().screen.bottom * 0.5 + 180\n      })\n          .to({\n            x: Director.sharedDirector().screen.right * 0.5,\n            y: Director.sharedDirector().screen.bottom * 0.5 - 275 },1000)\n        .onUpdate(function () {\n          _emitters['addEndScore'].updateOwnerPos(this.x,this.y);\n        })\n        .onComplete(()=>{\n          if(cb){\n            cb()\n          }\n          _emitters['addEndScore'].emit = false;\n        });\n    action.start();\n    _emitters['addEndScore'].emit = true;\n  });\n  global.events.on('addEndScore1',(layer,cb)=>{\n    //if (isAction){\n    //  return\n    //}\n    //isAction = true;\n    //if (_emitters.hasOwnProperty('addEndScore1')){\n    //}else {\n      _emitters['addEndScore1'] = new PIXI.particles.Emitter(\n          layer.node,\n          [PIXI.Texture.fromImage(resources.star2)],\n          particlefruitjson.addEndScore);\n    //}\n    _emitters['addEndScore1'].updateOwnerPos(\n         2 * 130 * -0.5 + 130 + Director.sharedDirector().screen.right * 0.5,\n         Director.sharedDirector().screen.bottom * 0.5 + 180\n    );\n    let action = new TWEEN.Tween({\n      x: 2 * 130 * -0.5 + 130 + Director.sharedDirector().screen.right * 0.5,\n      y: Director.sharedDirector().screen.bottom * 0.5 + 180\n    })\n        .to({\n          x: Director.sharedDirector().screen.right * 0.5,\n          y: Director.sharedDirector().screen.bottom * 0.5 - 275 },1000)\n        .onUpdate(function () {\n          _emitters['addEndScore1'].updateOwnerPos(this.x,this.y);\n        })\n        .onComplete(()=>{\n          if(cb){\n            cb()\n          }\n          _emitters['addEndScore1'].emit = false;\n        });\n    action.start();\n    _emitters['addEndScore1'].emit = true;\n  });\n  global.events.on('addEndScore2',(layer)=>{\n    //if (isAction){\n    //  return\n    //}\n    //isAction = true;\n    //if (_emitters.hasOwnProperty('addEndScore2')){\n    //}else {\n      _emitters['addEndScore2'] = new PIXI.particles.Emitter(\n          layer.node,\n          [PIXI.Texture.fromImage(resources.star2)],\n          particlefruitjson.addEndScore);\n    //}\n    _emitters['addEndScore2'].updateOwnerPos(\n         2 * 130 * -0.5 + 2 * 130 + Director.sharedDirector().screen.right * 0.5,\n         Director.sharedDirector().screen.bottom * 0.5 + 180\n    );\n    let action = new TWEEN.Tween({\n      x: 2 * 130 * -0.5 + 2 * 130 + Director.sharedDirector().screen.right * 0.5,\n      y: Director.sharedDirector().screen.bottom * 0.5 + 180\n    })\n        .to({\n          x: Director.sharedDirector().screen.right * 0.5,\n          y: Director.sharedDirector().screen.bottom * 0.5 - 275 },1000)\n        .onUpdate(function () {\n          _emitters['addEndScore2'].updateOwnerPos(this.x,this.y);\n        })\n        .onComplete(()=>{\n          //isAction = false;\n          _emitters['addEndScore2'].emit = false;\n        });\n    action.start();\n    _emitters['addEndScore2'].emit = true;\n  });\n  return that;\n}\nexport default ParticleLayer;\n\n\n/** WEBPACK FOOTER **\n ** ./src/game/effect/particle-layer.js\n **/","/**\n * Created by chuhaoyuan on 2016/10/26.\n */\nconst ParticleJson ={\n  fruit: {\n    \"alpha\": {\n      \"start\": 0.99,\n      \"end\": 0.65\n    },\n    \"scale\": {\n      \"start\": 1,\n      \"end\": 0.01,\n      \"minimumScaleMultiplier\": 1\n    },\n    \"color\": {\n      \"start\": \"#fff88f\",\n      \"end\": \"#fcd62a\"\n    },\n    \"speed\": {\n      \"start\": 400,\n      \"end\": 100\n    },\n    \"acceleration\": {\n      \"x\": 0,\n      \"y\": 0\n    },\n    \"startRotation\": {\n      \"min\": 0,\n      \"max\": 0\n    },\n    \"noRotation\": false,\n    \"rotationSpeed\": {\n      \"min\": 900,\n      \"max\": 100\n    },\n    \"lifetime\": {\n      \"min\": 0.1,\n      \"max\": 0.8\n    },\n    \"blendMode\": \"normal\",\n    \"frequency\": 0.001,\n    \"emitterLifetime\": 0.1,\n    \"maxParticles\": 18,\n    \"pos\": {\n      \"x\": 0,\n      \"y\": 0\n    },\n    \"addAtBack\": false,\n    \"spawnType\": \"burst\",\n    \"particlesPerWave\": 1,\n    \"particleSpacing\": 0,\n    \"angleStart\": 0\n  },\n  redbag: {\n    \"alpha\": {\n      \"start\": 1,\n      \"end\": 0.52\n    },\n    \"scale\": {\n      \"start\": 1,\n      \"end\": 0.5,\n      \"minimumScaleMultiplier\": 0.5\n    },\n    \"color\": {\n      \"start\": \"#fff9e3\",\n      \"end\": \"#ff5500\"\n    },\n    \"speed\": {\n      \"start\": 178,\n      \"end\": 50,\n      \"minimumSpeedMultiplier\": 1\n    },\n    \"acceleration\": {\n      \"x\": 0,\n      \"y\": 0\n    },\n    \"maxSpeed\": 0,\n    \"startRotation\": {\n      \"min\": 0,\n      \"max\": 360\n    },\n    \"noRotation\": false,\n    \"rotationSpeed\": {\n      \"min\": 3,\n      \"max\": 1\n    },\n    \"lifetime\": {\n      \"min\": 0.3,\n      \"max\": 0.5\n    },\n    \"blendMode\": \"add\",\n    \"frequency\": 0.01,\n    \"emitterLifetime\": 1,\n    \"maxParticles\": 30,\n    \"pos\": {\n      \"x\": 0,\n      \"y\": 0\n    },\n    \"addAtBack\": false,\n    \"spawnType\": \"circle\",\n    \"spawnCircle\": {\n      \"x\": 0,\n      \"y\": 0,\n      \"r\": 0\n    }\n  },\n  fruitWater: {\n    \"alpha\": {\n      \"start\": 1,\n      \"end\": 0.84\n    },\n    \"scale\": {\n      \"start\": 2,\n      \"end\": 0.5,\n      \"minimumScaleMultiplier\": 0.05\n    },\n    \"color\": {\n      \"start\": \"#ffffff\",\n      \"end\": \"#ffffff\"\n    },\n    \"speed\": {\n      \"start\": 200,\n      \"end\": 1,\n      \"minimumSpeedMultiplier\": 7\n    },\n    \"acceleration\": {\n      \"x\": 0,\n      \"y\": 0\n    },\n    \"maxSpeed\": 0,\n    \"startRotation\": {\n      \"min\": 180,\n      \"max\": 360\n    },\n    \"noRotation\": false,\n    \"rotationSpeed\": {\n      \"min\": 0,\n      \"max\": 0\n    },\n    \"lifetime\": {\n      \"min\": 0.3,\n      \"max\": 0.5\n    },\n    \"blendMode\": \"add\",\n    \"frequency\": 0.001,\n    \"emitterLifetime\": -1,\n    \"maxParticles\": 30,\n    \"pos\": {\n      \"x\": 0,\n      \"y\": 0\n    },\n    \"addAtBack\": false,\n    \"spawnType\": \"circle\",\n    \"spawnCircle\": {\n      \"x\": 0,\n      \"y\": 0,\n      \"r\": 0\n    }\n  },\n  colorbar:{\n    \"alpha\": {\n      \"start\": 1,\n      \"end\": 0.16\n    },\n    \"scale\": {\n      \"start\": 1,\n      \"end\": 0.8,\n      \"minimumScaleMultiplier\": 0.5\n    },\n    \"color\": {\n      \"start\": \"#ffffff\",\n      \"end\": \"#ffffff\"\n    },\n    \"speed\": {\n      \"start\": 200,\n      \"end\": 300,\n      \"minimumSpeedMultiplier\": 1\n    },\n    \"acceleration\": {\n      \"x\": 0,\n      \"y\": 0\n    },\n    \"maxSpeed\": 0,\n    \"startRotation\": {\n      \"min\": 80,\n      \"max\": 150\n    },\n    \"noRotation\": false,\n    \"rotationSpeed\": {\n      \"min\": 0,\n      \"max\": 20\n    },\n    \"lifetime\": {\n      \"min\": 1.8,\n      \"max\": 2\n    },\n    \"blendMode\": \"normal\",\n    \"extraData\": {\n      \"path\": \"sin(x/10)*20\"\n    },\n    \"frequency\": 0.1,\n    \"emitterLifetime\": 2,\n    \"maxParticles\": 1000,\n    \"pos\": {\n      \"x\": 0,\n      \"y\": 0\n    },\n    \"addAtBack\": false,\n    \"spawnType\": \"rect\",\n    \"spawnRect\": {\n      \"x\": 0,\n      \"y\": 0,\n      \"w\": 200,\n      \"h\": 0\n    }\n  },\n  cutfruit: {\n    \"alpha\": {\n      \"start\": 1,\n      \"end\": 0\n    },\n    \"scale\": {\n      \"start\": 1,\n      \"end\": 1,\n      \"minimumScaleMultiplier\": 0.5\n    },\n    \"color\": {\n      \"start\": \"#ffffff\",\n      \"end\": \"#ffffff\"\n    },\n    \"speed\": {\n      \"start\": 1,\n      \"end\": 0,\n      \"minimumSpeedMultiplier\": 0.001\n    },\n    \"acceleration\": {\n      \"x\": 0,\n      \"y\": 100\n    },\n    \"maxSpeed\": 0,\n    \"startRotation\": {\n      \"min\": 0,\n      \"max\": 360\n    },\n    \"noRotation\": false,\n    \"rotationSpeed\": {\n      \"min\": 10,\n      \"max\": 0\n    },\n    \"lifetime\": {\n      \"min\": 0.3,\n      \"max\": 0.5\n    },\n    \"blendMode\": \"screen\",\n    \"frequency\": 0.01,\n    \"emitterLifetime\": -1,\n    \"maxParticles\": 30,\n    \"pos\": {\n      \"x\": 0,\n      \"y\": 0\n    },\n    \"addAtBack\": false,\n    \"spawnType\": \"circle\",\n    \"spawnCircle\": {\n      \"x\": 0,\n      \"y\": 0,\n      \"r\": 15\n    }\n  },\n  addEndScore: {\n  \"alpha\": {\n  \"start\": 1,\n      \"end\": 0.52\n  },\n  \"scale\": {\n  \"start\": 1,\n      \"end\": 0.5,\n      \"minimumScaleMultiplier\": 0.5\n  },\n  \"color\": {\n  \"start\": \"#fff9e3\",\n      \"end\": \"#ff5500\"\n  },\n  \"speed\": {\n  \"start\": 178,\n      \"end\": 50,\n      \"minimumSpeedMultiplier\": 1\n  },\n  \"acceleration\": {\n  \"x\": 0,\n      \"y\": 0\n  },\n  \"maxSpeed\": 0,\n    \"startRotation\": {\n  \"min\": 0,\n      \"max\": 360\n    },\n  \"noRotation\": false,\n    \"rotationSpeed\": {\n  \"min\": 3,\n      \"max\": 1\n    },\n  \"lifetime\": {\n  \"min\": 0.3,\n      \"max\": 0.5\n  },\n  \"blendMode\": \"add\",\n    \"frequency\": 0.01,\n    \"emitterLifetime\": -1,\n    \"maxParticles\": 20,\n    \"pos\": {\n  \"x\": 0,\n      \"y\": 0\n    },\n  \"addAtBack\": false,\n    \"spawnType\": \"point\"\n  }\n}\n\nexport default ParticleJson;\n\n\n/** WEBPACK FOOTER **\n ** ./src/game/effect/particle-fruit-json.js\n **/","/**\n * Created by wangwenyue on 16/10/24.\n */\nimport {BaseLayer,Inherited,UIControl,Director} from '../../utility/imports'\nimport gameGlobal from '../../game-global'\nimport resources from '../../resources'\nimport RunLight from './ui-runlight'\nimport platformHelper from './../../platform-helper'\nimport ProgressBar from './../../common/progress-bar'\nconst UILayer = ()=>{\n  let that = Inherited(BaseLayer());\n  that.inheritOn('init',()=>{\n    return true;\n  });\n\n  // let _bar = new PIXI.Sprite.fromImage(resources.bar);\n  // _bar.position ={\n  //   x: 0,\n  //   y: 0\n  // };\n  // _bar.scale.set(0.96);\n  // that.node.addChild(_bar);\n\n  let _changeScore = 0;\n\n\n  let _fruitFount = UIControl.create({\n    id: 'fruitfont',\n    component: 'Layout',\n    children: [\n      {\n        id: 'fruitwater',\n        component: 'Sprite',\n        image: resources.icon_fruitwater,\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5,\n          y: Director.sharedDirector().screen.bottom * 0.13\n        }\n      }\n    ]\n  });\n  that.node.addChild(_fruitFount.node);\n  _fruitFount.fruitwater.visible = false;\n\n\n  let _mainNode = UIControl.create({\n    id: 'mainNode',\n    component: 'Layout',\n    children: [\n      {\n        id: 'bg',\n        component: 'Sprite',\n        image: resources.bar,\n        anchor: {\n          x: 0.5,\n          y: 0.5\n        },\n      scale: {\n        x: 0.96,\n        y: 0.96\n      },\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5,\n          y: Director.sharedDirector().screen.top + 45\n        }\n      },{\n        id: 'fruitLabel',\n        component: 'BMLabel',\n        text: 0,\n        style: {\n          font: '20px default_number',\n        },\n        position: {\n          x: 130,\n          y: 50\n        }\n      },\n      {\n        id: 'goldLabel',\n        component: 'BMLabel',\n        text: '000000',\n        style: {\n          font: '24px gold_number',\n          letterSpacing: 10////字间距用美术来实现\n        },\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5 + 2,\n          y: Director.sharedDirector().screen.top + 27\n        }\n      },\n      {\n        id: 'redpackLabel',\n        component: 'BMLabel',\n        text: 0,\n        style: {\n          font: '20px default_number',\n        },\n        position: {\n          x: Director.sharedDirector().screen.right * 0.73,\n          y: 50\n        }\n      },\n      {\n        id: 'backButton',\n        component: 'Button',\n        image: resources.bt_back_normal,\n        position: {\n          x: Director.sharedDirector().screen.left + 30,\n          y: Director.sharedDirector().screen.bottom - 20\n        }\n      },\n      {\n        id: 'scoreLabel',\n        component: 'BMLabel',\n        style: {\n          font: 'rank_number_1'\n        },\n        anchor: {\n          x: 1,\n          y: 0.5\n        },\n        position: {\n          x: Director.sharedDirector().screen.right - 35,\n          y: Director.sharedDirector().screen.top + 110\n        },\n        text: '0'\n      },{\n        id: 'score',\n        component: 'BMLabel',\n        style: {\n          font: '18px rank_number_1'\n        },\n        anchor: {\n          x: 1,\n          y: 0.5\n        },\n        position: {\n          x: Director.sharedDirector().screen.right - 15,\n          y: Director.sharedDirector().screen.top + 113\n        },\n        text: '分'\n      }\n    ]\n  },(button)=>{\n    if (button.id === 'backButton'){\n      platformHelper.endAll();\n    }\n  });\n  that.node.addChild(_mainNode.node);\n\n  _mainNode.backButton.visible = false;\n\n  let isOff = true;\n  let addGoldType = 1;\n  let changeType = ()=>{\n    if (isOff === true){\n      isOff = false;\n    }else if(isOff === false) {\n      isOff = true;\n      addGoldType *= -1;\n    }\n\n    setTimeout(()=>{\n      changeType();\n    },Math.round(Math.random()* 2000) + 2000);\n  }\n  changeType();\n\n\n\n\n  let _nowtime = 0;\n  let updateUI = ()=> {\n    _nowtime ++;\n    if(_nowtime >= 3){\n      _nowtime = 0;\n      if(_changeScore < gameGlobal.playerdata.totalScore){\n        _changeScore ++;\n      }\n      if (_changeScore > gameGlobal.playerdata.totalScore){\n        _changeScore = gameGlobal.playerdata.totalScore;\n      }\n      _mainNode.scoreLabel.text = _changeScore;\n    }\n\n    if (isOff === false) {\n    } else if (isOff === true) {\n      gameGlobal.playerdata.gold += addGoldType;\n      if (gameGlobal.playerdata.gold <= 0) {\n        gameGlobal.playerdata.gold = 0;\n      }\n    }\n    let length = 6 - gameGlobal.playerdata.gold.toString().length;\n    let str = '';\n    for (let i = 0; i < length; i++) {\n      str += '0';\n    }\n    str += gameGlobal.playerdata.gold;\n    _mainNode.goldLabel.text = str;\n\n    if (gameGlobal.playerdata.gold >= 999999) {\n      gameGlobal.playerdata.gold = 999999;\n      addGoldType = -1;\n    }\n    if (gameGlobal.playerdata.gold <= 0) {\n      gameGlobal.playerdata.gold = 0;\n      addGoldType = 1\n    }\n\n\n    _mainNode.fruitLabel.text = gameGlobal.playerdata.fruitCount;\n    // _mainNode.fruitLabel.text = gameGlobal.playerdata.totalScore;\n    //_mainNode.scoreLabel.text = gameGlobal.playerdata.totalScore + '分';\n    _mainNode.redpackLabel.text = gameGlobal.playerdata.getRedbagCount;\n\n\n  }\n  //\n  // let changeGold = ()=>{\n  //   _mainNode.goldLabel.text = Math.round(Math.random()*3000 + gameGlobal.playerdata.totalGoldCount);\n  //   setTimeout(()=>{changeGold()},2000);\n  // }\n  // changeGold();\n\n  let _runLight = RunLight();\n  that.inheritOn('update',(deltaTime)=>{\n    _runLight.update(deltaTime);\n    updateUI();\n\n  })\n  _runLight.add2World(_mainNode.node);\n\n  //\n  let _progressBar = ProgressBar({\n    type: 'circle',\n    bg_0: resources.jindutiao_0,\n    bg_1: resources.jindutiao_1,\n    bg_2: resources.jindutiao_2,\n    bg_3: resources.jindutiao_3,\n    bg_4: resources.jindutiao_4,\n    height: 72\n  });\n  _progressBar.position = {\n    x: Director.sharedDirector().screen.right - 60,\n    y: Director.sharedDirector().screen.bottom + 150\n  }\n  // _progressBar.setPrecent(0.5);\n  that.node.addChild(_progressBar);\n\n\n  gameGlobal.events.on('uilayerprogressbar',(precent)=>{\n    _progressBar.setPrecent(precent);\n  });\n\n\n\n\n  // let _tag = 2;\n\n  let _isAction = false;\n  let _moveDown = ()=>{\n    if (_isAction){\n      return;\n    }\n    _isAction = true;\n    let _move = new TWEEN.Tween({y: -15})\n      .to({y: 104},700)\n      .onUpdate(function () {\n        _fruitFount.fruitwater.y = this.y;\n      })\n      .easing(TWEEN.Easing.Back.In)\n      .easing(TWEEN.Easing.Bounce.Out)\n      .onComplete(function () {\n        // _tag = 1;\n        _isAction = false;\n      })\n    _move.start();\n  }\n  let _moveUp = (cb)=>{\n    if (_isAction){\n      if (cb){\n        cb();\n      }\n      return;\n    }\n    _isAction = true;\n    let _move = new TWEEN.Tween({y: 104})\n      .to({y: -100},700)\n      .onUpdate(function () {\n        _fruitFount.fruitwater.y = this.y;\n      })\n      .easing(TWEEN.Easing.Back.In)\n      .onComplete(function () {\n        // _tag = 2;\n        _isAction = false;\n        if (cb){\n         cb()\n        }\n      })\n    _move.start();\n  }\n\n\n  ////加一个 进度条\n\n  gameGlobal.events.on('uilayer',(state)=>{\n    console.log('uilayer state' + state);\n    if (state === 'Crazy'){\n      _fruitFount.fruitwater.visible = true;\n      _moveDown();\n      // if (_tag === 2){\n      //   _moveDown();\n      // }\n    }\n    if (state === 'Normal'){\n      _moveUp(()=>{\n        _fruitFount.fruitwater.visible = false;\n      });\n      // if(_tag === 1){\n      //   _moveUp();\n      // }\n      // setTimeout(()=>{\n      //   _fruitFount.fruitwater.visible = false;\n      // },1000);\n    }\n  });\n\n  const moveUpDownButton = (node,posY,time)=>{\n    let y = node.position.y;\n    let action = new TWEEN.Tween({y: y})\n      .to({y: y + posY},time)\n      .onUpdate(function () {\n        node.position.y = this.y\n      })\n    action.start();\n  }\n  gameGlobal.events.on('gamestate',(state)=>{\n    switch (state){\n      case 'start':\n        // moveUpDownButton(_mainNode.backButton.node,-25,100)\n        // moveUpDownButton(_mainNode.backButton.node,-50,100)\n        runAction(_mainNode.node,0,TWEEN.Easing.Cubic.In,()=>{\n          _mainNode.backButton.node.visible = true;\n        });\n        // runAction(_progressBar,0,)\n\n\n        runAction(_progressBar,\n          Director.sharedDirector().screen.bottom - 60,\n          TWEEN.Easing.Cubic.Out);\n\n\n        break;\n      case 'over':\n        // moveUpDownButton(_mainNode.backButton.node,50,100)\n        _mainNode.backButton.node.visible = false;\n        runAction(_mainNode.node,-180,TWEEN.Easing.Cubic.Out,()=>{\n          //_mainNode.scoreLabel.text = '0分';\n        });\n        runAction(_progressBar,\n        Director.sharedDirector().screen.bottom + 150,\n        TWEEN.Easing.Cubic.Out);\n        break;\n      default:\n        break;\n    }\n  });\n\n\n  let runAction = function (node,posY,effect,cb) {\n    let oldY = node.position.y;\n    let action = new TWEEN.Tween({y: oldY})\n      .to({y: posY},200)\n      .onUpdate(function () {\n        node.position.y = this.y;\n      })\n      .onComplete(function () {\n        if (cb){\n          cb();\n        }\n      }).easing(effect);\n    action.start();\n\n  }\n  gameGlobal.events.on('gamestartagain',()=>{\n    runAction(_mainNode.node,0,TWEEN.Easing.Cubic.In,()=>{\n      _mainNode.backButton.node.visible = false;\n    });\n  })\n  runAction(_mainNode.node,0,TWEEN.Easing.Cubic.In,()=>{\n    _mainNode.backButton.node.visible = false;\n  });\n\n\n  return that;\n};\nexport default UILayer;\n\n\n/** WEBPACK FOOTER **\n ** ./src/game/ui/ui-layer.js\n **/","/**\n * Created by chuhaoyuan on 2016/10/26.\n */\nimport {Director} from '../../utility/imports'\nimport resources from '../../resources'\nimport global from '../../game-global'\nconst RunLight = ()=>{\n  let that = new PIXI.Container();\n  that.add2World = (parent)=>{\n    that.parent = parent;\n    that.parent.addChild(that);\n  }\n\n  let _runLightSpeed = 8000;\n  let _nowRunLightSpeed = _runLightSpeed;\n  let _lights = [];\n  for (let i = 0 ; i < 4 ; i ++){\n\n    let light = new PIXI.Sprite.fromImage(resources['runlight_' + i]);\n    that.addChild(light);\n\n    light.anchor = {\n      x: 0.5,\n      y: 0\n    }\n    light.position = {\n      x: Director.sharedDirector().screen.right * 0.5,\n      y: Director.sharedDirector().screen.top\n    }\n    _lights.push(light);\n  }\n\n\n  let runLightState = (state)=>{\n    switch (state){\n      case 'Normal':\n         _runLightSpeed = 8000;\n\n        break;\n      case 'Crazy':\n        _runLightSpeed = 2000;\n\n        break;\n      default:\n        break;\n    }\n  }\n  // let lightOff = (bool)=>{\n  //   if (bool){\n  //     _lights[1].alpha = 0;\n  //   }else {\n  //     _lights[1].alpha = 1;\n  //   }\n  // }\n\n  let lightOn = (index)=>{\n    for (let i = 0 ; i < _lights.length ; i ++){\n      _lights[i].alpha = 0;\n    }\n    _lights[index].alpha = 1;\n\n  }\n  let _timeCount = 0;\n  let _runLightNum = 0 ;\n  // let _isLight = true;\n  that.update = (deltaTime)=>{\n\n    let secondTime = deltaTime/1000;\n    _timeCount += secondTime;\n\n    if (_nowRunLightSpeed < _runLightSpeed){\n      _nowRunLightSpeed += 60;\n    }else {\n      _nowRunLightSpeed -= 60;\n    }\n\n    if (_timeCount > _nowRunLightSpeed * secondTime){\n      _timeCount = 0 ;\n      lightOn(_runLightNum);\n\n      if (_runLightNum >= _lights.length - 1){\n        _runLightNum = 0 ;\n      }else {\n        _runLightNum ++;\n      }\n    }\n  }\n\n\n  global.events.on('runlight',(state)=>{\n    runLightState(state);\n  });\n\n  return that;\n}\nexport default RunLight;\n\n\n/** WEBPACK FOOTER **\n ** ./src/game/ui/ui-runlight.js\n **/","/**\n * Created by chuhaoyuan on 2016/11/16.\n */\nconst ProgressBar = function (spec) {\n  let that = new PIXI.Container();\n\n\n  if (spec.type === 'circle'){\n    that.bg_3 = PIXI.Sprite.fromImage(spec.bg_3);\n    that.addChild(that.bg_3);\n    that.bg_3.anchor.set(0.5);\n    that.bg_3.alpha = 0;\n    let mask = new PIXI.Container();\n    that.addChild(mask);\n    let draw = new PIXI.Graphics();\n    draw.beginFill(0x000000,1);\n    draw.drawCircle(0,0,spec.height * 0.5);\n    draw.endFill();\n    mask.addChild(draw);\n    mask.mask = draw;\n\n\n\n\n    that.bg_0 = PIXI.Sprite.fromImage(spec.bg_0);\n    that.bg_0.anchor.set(0.5);\n    mask.addChild(that.bg_0);\n    let bg_1 =  PIXI.Sprite.fromImage(spec.bg_1);\n    bg_1.anchor.set(0.5);\n    that.addChild(bg_1);\n    that.bg_4 = PIXI.Sprite.fromImage(spec.bg_4);\n    that.addChild(that.bg_4);\n    that.bg_4.anchor.set(0.5);\n    that.bg_4.alpha = 0;\n\n    let bg_2 =  PIXI.Sprite.fromImage(spec.bg_2);\n    that.addChild(bg_2);\n    bg_2.anchor.set(0.5);\n\n\n    const scaleAction = function (node) {\n      let action = new TWEEN.Tween({scale: 1})\n        .to({scale: 1.2},400)\n        .onUpdate(function () {\n          node.scale = {\n            x: this.scale,\n            y: this.scale\n          }\n        })\n        .onComplete(function () {\n          action1.start();\n        });\n      action.start();\n      let action1 = new TWEEN.Tween({scale: 1.2})\n        .to({scale: 1},400)\n        .onUpdate(function () {\n          node.scale = {\n            x: this.scale,\n            y: this.scale\n          }\n        })\n        .onComplete(function () {\n          scaleAction(node);\n        })\n\n\n    }\n    scaleAction(that.bg_3);\n\n    const moveX = function () {\n      let move = new TWEEN.Tween({x: 32})\n        .to({x:-32},4000)\n        .onUpdate(function () {\n          that.bg_0.position.x = this.x;\n        })\n        .onComplete(function () {\n          move1.start();\n        })\n      move.start();\n      let move1 = new TWEEN.Tween({x: -32})\n        .to({x:32},4000)\n        .onUpdate(function () {\n          that.bg_0.position.x = this.x;\n        })\n        .onComplete(function () {\n          moveX();\n        })\n    }\n    moveX();\n\n\n\n\n\n\n  }\n  else{\n    let bgUrl = undefined;\n    let imageUrl = undefined;\n    if (spec.bg){\n      bgUrl = spec.bg;\n    }\n    if (spec.image){\n      imageUrl = spec.image;\n    }\n    if (spec.sp){\n      imageUrl = spec.sp;\n    }\n    let _bg = PIXI.Sprite.fromImage(bgUrl);\n    _bg.anchor = {\n      x: 0.5,\n      y: 0.5\n    }\n    that.addChild(_bg);\n    let _sp = PIXI.Sprite.fromImage(imageUrl);\n    _sp.anchor = {\n      x: 0.5,\n      y: 0.5\n    }\n    let _mask = new PIXI.Container();\n    _bg.addChild(_mask);\n    _mask.addChild(_sp);\n    let _graphics = new PIXI.Graphics();\n    _mask.addChild(_graphics);\n    _graphics.beginFill(0xffffff,1);\n    _graphics.drawRect( spec.width * -0.5, spec.height * -0.5, spec.width, spec.height);\n    _mask.mask = _graphics;\n\n  }\n\n  that.setPrecent = (precent)=> {\n    // _graphics.clear();\n    // _graphics.drawRect( spec.width * -0.5, spec.height * 0.5 - spec.height * prectent, spec.width , 300 );\n    if (spec.type === 'circle'){\n      that.bg_0.position.y = spec.height - spec.height * precent;\n      if (that.bg_0.position.y <= 0){\n        that.bg_0.position.y = 0;\n        that.bg_3.alpha = 1;\n        that.bg_4.alpha = 1;\n      }else {\n        that.bg_3.alpha = 0;\n        that.bg_4.alpha = 0;\n      }\n    }\n  };\n\n\n\n\n  return that;\n}\nexport default ProgressBar;\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/progress-bar.js\n **/","/**\n * Created by chuhaoyuan on 2016/10/28.\n */\nimport {ResourceManager,AnimationFactor,BaseLayer,Inherited,UIControl,Director} from '../../utility/imports'\nimport resources from '../../resources'\nimport global from '../../game-global'\nimport defines from './../../game-defines'\nconst FlashAnimate = (spec)=>{\n    let that = AnimationFactor.createAnimation({\n      type: 'frame',\n      anchor: {x: 0.5, y: 0.5},\n      animates: {\n        idle: {\n          pre: 'packet_break',\n          start: 0,\n          end: 12,\n          speed: 60 / 60 * 0.2\n        }\n      }\n    });\n  that.node.position = {\n    x:spec.position.x,\n    y:spec.position.y\n  };\n  that.node.scale.set(1.2);\n  that.node.rotation = spec.rotation;\n  return that;\n};\nconst FlashEffect = ()=>{\n  let that = Inherited(BaseLayer());\n  ResourceManager.load(resources.ani_packet_break,()=>{\n\n  });\n\n\n  let createFlash = (data)=>{\n    let flash = FlashAnimate({\n      animate: 'packet_break',\n      position: {x: data.position.x,y: data.position.y},\n      rotation: data.node.rotation * 2 / Math.PI\n    });\n    let white = new PIXI.Graphics();\n    white.beginFill(0xffffff,1);\n    white.lineStyle(4, 0xffffff, 1);\n    var size = {width: Director.sharedDirector().screen.right,height: Director.sharedDirector().screen.bottom};\n    let position = {x: Director.sharedDirector().screen.right * 0.5,y: Director.sharedDirector().screen.bottom * 0.5};\n    white.drawRect(position.x-size.width * 0.6, position.y-size.height * 0.6, size.width * 1.2, size.height * 1.2);\n    white.alpha = 0;\n    let tween1 = new TWEEN.Tween({alpha: 1})\n      .to({alpha: 0},400)\n      .onUpdate(function(){\n        white.alpha = this.alpha\n      });\n    let tween = new TWEEN.Tween({alpha: 0})\n      .to({alpha: 1},350)\n      .onUpdate(function(){\n        white.alpha = this.alpha\n      })\n      .onComplete(function(){\n        global.events.fire('flashover');\n        setTimeout(function(){\n          tween1.start();\n        },450)\n      });\n    let resetPack = UIControl.create({\n      id: 'resetPackNode',\n      component: 'Layout',\n      children: [{\n        id: 'resetPack',\n        component: 'Sprite',\n        position: {x: data.position.x, y: data.position.y - 100},\n        image: resources.resetPack\n      }]\n    });\n    setTimeout(function(){\n      tween.start();\n    },100);\n    //tween.start();\n    that.node.addChild(white);\n    if(global.playerdata.getRedbagCount === 0){\n    }else {\n      that.node.addChild(resetPack.node);\n      that.node.addChild(flash.node);\n      global.audioControl.play('redbomb');\n    }\n    flash.playOnce('idle',()=>{\n      if(resetPack.node.parent === that.node){\n        that.node.removeChild(resetPack.node);\n        that.node.removeChild(flash.node);\n      }\n    });\n\n    return flash;\n  };\n\n  global.events.on('flasheffect',(data)=>{\n      createFlash(data);\n  });\n  return that;\n};\nexport default FlashEffect;\n\n\n/** WEBPACK FOOTER **\n ** ./src/game/effect/flash-effect.js\n **/","/**\n * Created by chuhaoyuan on 2016/10/31.\n */\nimport {ResourceManager,UIControl,BaseLayer,Inherited} from '../../utility/imports'\nimport global from '../../game-global'\nimport defines from '../../game-defines'\n\nconst Top = -100;\n\nconst Control = (spec)=>{\n  let that = {};\n  that.node = new PIXI.Container();\n\n\n  let _font = '48px gift_number';\n\n  if (spec.font){\n    _font ='44px ' + spec.font;\n  }\n\n  let _mainNode = UIControl.create({\n    id: 'mainNode',\n    component: 'Layout',\n    children: [\n      {\n        id: 'addredpack',\n        component: 'BMLabel',\n        text: spec.text,\n        style: {\n          font: _font\n        },\n        position: spec.position\n      }\n    ]\n  });\n  that.node.addChild(_mainNode.node);\n\n\n\n // _mainNode.hitnum.text = spec + '连击';\n\n  //that.scaleChange = (object)=>{\n  //  let _text = new TWEEN.Tween({x: object.scale.x, y: object.scale.y})\n  //    .to(\n  //      {x: 2, y: 2},500)\n  //    .onUpdate(function(){\n  //      object.scale.x = this.x;\n  //      object.scale.y = this.y;\n  //    })\n  //  _text.start();\n  //};\n  //that.scaleChange(_mainNode.addredpack);\n  //that.scaleChange(_mainNode.hitnum);\n\n\n  that.moveText = (spec,cb)=>{\n    // let _text = new TWEEN.Tween({y: spec.position.y})\n    //   .to({y: Top},3000)\n    //\n    //   .onUpdate(function(){\n    //     spec.position.y = this.y;\n    //     _mainNode.node.alpha -= 0.0015;\n    //   })\n    //   .onComplete(function(){\n    //     if (cb){\n    //       cb();\n    //     }\n    //     // that.node.parent.removeChild(that.node);\n    //   })\n    // _text.start();\n\n\n    let a1 = new TWEEN.Tween({scale: 0.6})\n      .to({scale: 1},200)\n      .onUpdate(function () {\n        _mainNode.addredpack.node.scale = {\n          x: this.scale,\n          y: this.scale\n        }\n      })\n      .onComplete(function () {\n        setTimeout(()=>{\n          a2.start();\n          a3.start();\n        },300);\n      })\n      .easing(TWEEN.Easing.Cubic.In);\n    a1.start();\n    let a2 = new TWEEN.Tween({y :spec.position.y})\n      .to({y: spec.position.y - 20},130)\n      .onUpdate(function () {\n        spec.position.y = this.y;\n      })\n      .onComplete(function () {\n        if (cb){\n          cb();\n        }\n      }).easing(TWEEN.Easing.Cubic.In);\n\n    let a3 = new TWEEN.Tween({alpha: 1})\n      .to({alpha: 0},130)\n      .onUpdate(function () {\n        spec.alpha = this.alpha;\n      })\n      .onComplete(()=>{\n        if (cb){\n          cb();\n        }\n      });\n\n  }\n\n  return that;\n}\nconst ShowLayer = ()=>{\n  let that = Inherited(BaseLayer());\n  that.inheritOn('init',()=>{\n    console.log('init ui show layer');\n    return true;\n  });\n\n\n  let uiControl = (data)=>{\n    let _control = Control(data);\n    //setTimeout(_control.moveText,800);\n    _control.moveText(data,()=>{\n      that.node.removeChild(_control.node);\n    });\n    that.node.addChild(_control.node);\n  }\n\n\n  let leftOrright = 'left'\n  global.events.on('addShow',(data)=>{\n    if (leftOrright === 'left'){\n      leftOrright = 'right';\n    }else {\n      leftOrright = 'left';\n    }\n    switch (leftOrright){\n      case 'right':\n\n        data.position.x -= 20;\n        break;\n      case 'left':\n        data.position.y += 40;\n        break;\n      default:\n\n        break;\n    }\n\n\n    console.log('add show =' + JSON.stringify(data));\n    uiControl(data);\n\n  });\n  return that;\n}\nexport default ShowLayer;\n\n\n/** WEBPACK FOOTER **\n ** ./src/game/ui/ui-showlayer.js\n **/","/**\n * Created by chuhaoyuan on 2016/11/9.\n */\nimport {BaseLayer,Inherited,UIControl,Director} from './../../utility/imports'\nimport resources from './../../resources'\nimport defines from './../../game-defines'\nimport HeadNode from './../../common/head-node'\nimport global from './../../game-global'\nimport platform from './../../platform-helper'\nlet isAction = false;\nconst moveAction  = (endPos,time,node,cb)=>{\n  if (isAction){\n    return\n  }\n  isAction = true;\n  console.log('moveAction');\n  let action = new TWEEN.Tween({x: node.position.x})\n    .to({x: endPos},time)\n    .onUpdate(function () {\n      node.position.x = this.x;\n    })\n    .onComplete(function () {\n      isAction = false;\n      if (cb){\n        cb()\n      }\n    })\n  action.start();\n}\n\nconst RankList = ()=>{\n  let that = Inherited(BaseLayer());\n  that.inheritOn('init',()=>{\n\n    return true;\n  });\n  let _rankPage1 = UIControl.create({\n    id: 'layout',\n    component: 'Layout',\n    anchor: {\n      x: 0,\n      y: 0\n    },\n    position: {\n      x: -100,\n      y: 200\n    },\n    children: [{\n      id: 'bg',\n      component: 'Layout',\n      position: {\n        x: 0,\n        y: -140\n      },\n      children: (()=>{\n        let ui = [];\n        for (let i = 0 ; i < 6 ; i ++){\n          let cell = {\n            id: 'chrowLabel' + i,\n            component: (()=>{\n              if(i < 3){\n                return 'Sprite'\n              }else {\n                return 'Label'\n              }\n            })(),\n            text: i + 4 + '',\n            position: {\n              x: 0,\n              y: i * 38 + 42\n            }\n          }\n          if(i<3){\n            cell.image = resources['icon_nmb' + (i + 1)]\n          }else {\n            cell.text = (i + 1) + '';\n            cell.style = {\n              font: '14px Arial',\n              fill: '#edd28d'\n            }\n          }\n          ui.push(cell);\n        }\n        return ui;\n      })()},(()=>{\n      let ui = {\n        id: 'none',\n        component: 'Layout',\n        children: []\n      };\n      for (let  i = 0 ; i < 6 ; i ++){\n        let cell = {\n          id: 'headIcon' + i,\n          component: 'Sprite',\n          scale: {\n            x: 0.65,\n            y: 0.65\n          },\n          image: resources.icon_head,\n          position: {\n            x: 35,\n            y: i * 38 - 5 * 38 / 2\n          },\n          children: [\n            {\n              id: 'icon',\n              component: 'Sprite',\n              image: resources.icon_head2\n            }\n          ]\n        }\n        ui.children.push(cell)\n      }\n      return ui;\n    })(),\n      {\n        id: 'button',\n        component: 'Button',\n        alpha: 0,\n        scale: {\n          x: 1,\n          y: 1.2\n        },\n        image: resources.img_boxRanking\n      }]\n  },(button)=>{\n    if (button.id === 'button'){\n      console.log('切换2');\n      moveAction(-100,200,_rankPage1.node,()=>{\n        moveAction(90,200,_rankPage2.node,()=>{\n\n        });\n      });\n    }\n  });\n\n\n\n  let _rankPage2 = UIControl.create({\n    id: 'layout',\n    component: 'Layout',\n    position: {\n      x: -90,\n      y: 170\n    },\n    children: [\n      {\n        id: 'bg',\n        component: 'Sprite',\n        alpha: 0,\n        image: resources.img_boxRanking\n      },\n      {\n        id: 'label',\n        component: 'Label',\n        text: '红包排行榜',\n        position: {\n          x: 0,\n          y: -76\n        },\n        style: {\n          font: '15px Arial',\n          fill: '#fff1cc'\n        }\n      },\n      {\n        id: 'chrowlist',\n        component: 'Layout',\n        position: {\n          x: - 70,\n          y: 0\n        },\n        children: (()=>{\n          let uilist = [];\n          for (let i = 0 ; i < 6 ; i ++){\n            let ui = {\n              id: 'chrow' + i,\n              component: 'Layout',\n              children: []\n            }\n            let cell = {\n              id: 'chrowLabel' + i,\n              component: (()=>{\n                if(i < 3){\n                  return 'Sprite'\n                }else {\n                  return 'Label'\n                }\n              })(),\n              position: {\n                x: 0,\n                y: - 5 * 25 * 0.5 + + 10 + 25 * i\n              }\n            }\n            if (i < 3){\n              cell.image = resources['icon_nmb' + (i + 1)];\n            }else {\n              cell.style = {\n                font: '16px Arial',\n                fill: '#b19966'\n              }\n              cell.text = (i + 1);\n            }\n            ui.children.push(cell);\n\n\n            let nameLabel = {\n              id: 'nameLabel' + i,\n              component: 'Label',\n              text: '哈哈哈哈',\n              anchor: {\n                x: 0.5,\n                y: 0.5\n              },\n              style: {\n                font: '18px Arial',\n                fill: '#edd28d'\n              },\n              position: {\n                x: 70,\n                y: -5 * 25 * 0.5 + 12 + 25 * i\n              }\n            }\n            ui.children.push(nameLabel);\n            let scoreLabel = {\n              id: 'scoreLabel' + i,\n              component: 'Label',\n              text: '0',\n              anchor: {\n                x: 0,\n                y: 0.5\n              },\n              style: {\n                font: '16px Arial',\n                fill: '#dac080'\n              },\n              position: {\n                x: 120,\n                y: -5 * 25 * 0.5 + 12 + 25 * i\n              }\n            }\n\n            ui.children.push(scoreLabel);\n\n            uilist.push(ui);\n          }\n          return uilist;\n        })()\n      },\n      {\n        id: 'button',\n        component: 'Button',\n        alpha: 0,\n        image: resources.img_boxRanking\n      }\n    ]\n  },(button)=>{\n    if (button.id === 'button'){\n      console.log('切换1');\n      moveAction(-90,200,_rankPage2.node,()=>{\n        moveAction(20,200,_rankPage1.node,()=>{\n\n        });\n      });\n    }\n  });\n\n\n\n\n\n  that.node.addChild(_rankPage2.node);\n\n\n  that.node.addChild(_rankPage1.node);\n\n\n\n\n\n\n\n\n  const setUserInfo = (values,objects)=>{\n    console.log('value' + JSON.stringify(values));\n    // console.log('uid' + uid);\n    platform.getAppUserInfo(values.uid,(data)=>{\n      if (objects.headNode){\n        objects.headNode.node.addChild(HeadNode({image: data.avatar}));\n      }\n      if (objects.nameLabel){\n        objects.nameLabel.text = data.nickname;\n        objects.nameLabel.style = {\n          font: '18px Arail',\n          fill: values.uid === global.playerdata.uid ? '#0ce919':'#edd28d'\n        }\n      }\n    });\n    if (objects.scoreLabel){\n      objects.scoreLabel.text = values.score + '';\n      objects.scoreLabel.style = {\n        font: '16px Arial',\n        fill: values.uid === global.playerdata.uid ? '#0ce919':'#edd28d'\n      }\n    }\n    if (objects.chrowLabel){\n     // objects.chrowLabel.text = values.ranknmb;\n      // objects.chrowLabel.style = {\n      //   font: '16px Arial',\n      //   fill: values.uid === global.playerdata.uid ? '#0ce919' : '#edd28d'\n      // }\n      if (values.ranknum){\n        objects.chrowLabel.text = values.ranknum;\n      }\n      objects.chrowLabel.style = {\n        font: '16px Arial',\n        fill: values.uid === global.playerdata.uid ? '#0ce919' : '#edd28d'\n      }\n    }\n\n\n    if (objects.chrowLabel1){\n      if (values.ranknum){\n        objects.chrowLabel1.text = values.ranknum;\n      }\n      objects.chrowLabel1.style = {\n        font: '16px Arial',\n        fill: values.uid === global.playerdata.uid ? '#0ce919' : '#edd28d'\n      }\n    }\n\n\n  };\n\n  global.playerdata.getRanklistData((data)=>{\n    console.log('ranklist : ' + JSON.stringify(data));\n    // let ranklist = data.rank;\n    // let userIds = ranklist.userIds;\n    // for (let i = 0 ; i < userIds.length; i++ ){\n    //   let id = userIds[i];\n    //   // _rankPage1[headIcon + 1]\n    //   setUserInfo(id,_rankPage1['headIcon' + i]);\n    // }\n\n\n    for (let i = 0 ; i < 6 ; i ++){\n      if (i < data.rank.userIds.length){\n        let uid = data.rank.userIds[i];\n        let score = data.rank.scores[i];\n        setUserInfo({\n          uid: uid,\n          score: score\n        },{\n          headNode: _rankPage1['headIcon' + i],\n          nameLabel: _rankPage2['nameLabel' + i],\n          scoreLabel: _rankPage2['scoreLabel' + i],\n          chrowLabel: _rankPage2['chrowLabel' + i],\n          chrowLabel1: _rankPage1['chrowLabel' + i]\n        })\n      }else {\n        _rankPage1['headIcon' + i].node.visible = false;\n        _rankPage2['chrow' + i].node.visible = false;\n      }\n    }\n    if (isHave(global.playerdata.uid,data.rank.userIds)){\n\n\n    }else {\n      console.log('不在前六名');\n      setUserInfo({\n        uid: global.playerdata.uid,\n        score: data.self_score,\n        ranknum: data.self_rank===-1?798:data.self_rank\n      },{\n        headNode: _rankPage1['headIcon5'],\n        nameLabel: _rankPage2['nameLabel5'],\n        scoreLabel: _rankPage2['scoreLabel5'],\n        chrowLabel: _rankPage2['chrowLabel5'],\n        chrowLabel1: _rankPage1['chrowLabel5']\n      })\n    }\n\n\n    console.log('self data=' + data.self_rank);\n\n\n  },1,6);\n\n\n\n  const isHave = (value,list)=>{\n    let have = false;\n    for (let i = 0 ; i < list.length; i ++){\n      if (list[i] === value){\n        have = true;\n      }\n    }\n    return have;\n  };\n\n  that.enter = ()=>{\n    moveAction(20,300,_rankPage1.node,()=>{\n\n    });\n  }\n  that.removeSelf = ()=>{\n\n    that.parent.removeChild(that.node);\n  }\n\n  return that;\n}\nconst RankState = {\n  Invalide : -1,\n  Enter: 1,\n  Out:1,\n  Over: 3\n}\nconst RankLayer = ()=>{\n  let that = Inherited(BaseLayer());\n  that.inheritOn('init',()=>{\n\n  });\n  let _state = RankState.Invalide;\n  let _rankList = null;\n  let _setState = (state)=>{\n    if (_state === state){\n      return;\n    }\n    _state = state;\n    switch (_state){\n      case RankState.Enter:\n        console.log('显示排行榜');\n        _rankList = RankList();\n        _rankList.init();\n        _rankList.add2World(that);\n        _rankList.enter();\n\n\n        break;\n      case RankState.Over:\n        console.log('关闭排行榜');\n        // _rankList.removeSelf();\n        if (_rankList){\n          that.node.removeChild(_rankList.node);\n        }\n\n        break;\n      case defines:\n\n      break;\n    }\n  }\n\n  _setState(RankState.Enter);\n\n  global.events.on('openranklayer',()=>{\n    _setState(RankState.Over);\n    _setState(RankState.Enter);\n  });\n\n\n  return that;\n}\nexport default RankLayer;\n\n\n/** WEBPACK FOOTER **\n ** ./src/game/ui/ui-ranklist.js\n **/","/**\n * Created by chuhaoyuan on 2016/11/9.\n */\nimport {Helper} from './../utility/imports'\nimport resources from './../resources'\nconst HeadNode = (data)=>{\n  let that = new PIXI.Container();\n  let image = \"http://image1.yuanfenba.net/uploads/oss/avatar/201601/29/19031717956.png\";\n  if (data.image){\n    image = data.image;\n  }\n  // let img_url = Helper.getImgUrlWithSize(image, 46);\n  // _headIcon.texture = new PIXI.Texture.fromImage(img_url);\n  // let imageUrl = Helper.getImgUrlWithSize(data.image,46);\n  // that.addChild(new PIXI.Texture.fromImage(imageUrl));\n  // let imageUrl = Helper.getImgUrlWithSize(data., 46);\n\n  let headNode = new PIXI.Sprite.fromImage(resources.star);\n  headNode.anchor = {\n    x: 0.5,\n    y: 0.5\n  }\n  let imageUrl = Helper.getImgUrlWithSize(image,46);\n  console.log('imageUrl +++' + imageUrl);\n  let mask = new PIXI.Sprite.fromImage(resources.head_white);\n  mask.anchor = {\n    x: 0.5,\n    y: 0.5\n  }\n  that.addChild(mask);\n  that.mask = mask;\n  let head = new PIXI.Texture.fromImage(imageUrl);\n  headNode.texture = head;\n  that.addChild(headNode);\n  return that;\n}\nexport default HeadNode;\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/head-node.js\n **/","/**\n * Created by chuhaoyuan on 2016/11/8.\n */\nimport {BaseLayer,Inherited} from './../../utility/imports'\nimport global from './../../game-global'\nimport resource from './../../resources'\nimport defines from './../../game-defines'\nconst MaskEffect = ()=>{\n  let that = Inherited(BaseLayer());\n  that.inheritOn('init',()=>{\n    return true;\n  });\n  // let _mashLayer = new PIXI.Container();\n  // let zhezhao = new PIXI.Sprite.fromImage(resource.zhezhao);\n  // zhezhao.anchor.set(0.5);\n  // _mashLayer.addChild(zhezhao);\n  //\n  // _mashLayer.rotation = (180*2/Math.PI);\n  // _mashLayer.position = {x: defines.Canvas.posX_center ,y: defines.Canvas.posY_center };\n  // global.events.on('maskeffect',(state)=>{\n  //   console.log('遮罩效果是' + state);\n  //   if(state === 'Crazy'){\n  //     that.node.addChild(_mashLayer);\n  //   }else if(state === 'Normal' && _mashLayer.parent === that.node){\n  //       that.node.removeChild(_mashLayer);\n  //   }else {\n  //   }\n  // });\n\n  let _maskSprite = new PIXI.Sprite.fromImage(resource.zhezhao);\n  // _maskSprite.visible = false;\n  _maskSprite.alpha = 0;\n  _maskSprite.scale = {\n    x: 1.2,\n    y: 1.2\n  }\n  that.node.addChild(_maskSprite);\n\n  let _moveIn = ()=>{\n    let _movein = new TWEEN.Tween({alpha: 0})\n      .to({alpha: 1},600)\n      .onUpdate(function () {\n        _maskSprite.alpha = this.alpha;\n      })\n    _movein.start();\n  }\n\n  let _moveOut = (cb)=>{\n    let _moveout = new TWEEN.Tween({alpha: _maskSprite.alpha})\n      .to({alpha: 0},600)\n      .onUpdate(function () {\n        _maskSprite.alpha = this.alpha;\n      })\n      .onComplete(function () {\n        if (cb){\n          cb()\n        }\n      })\n    _moveout.start();\n  }\n\n  global.events.on('maskeffect',(state)=>{\n    if (state === 'Crazy'){\n      // _maskSprite.visible = true;\n      _moveIn();\n    }else {\n      _moveOut(()=>{\n        // _maskSprite.visible = false;\n      });\n    }\n  });\n\n\n  return that;\n};\nexport default MaskEffect;\n\n\n/** WEBPACK FOOTER **\n ** ./src/game/effect/mask-effect.js\n **/","/**\n * Created by chuhaoyuan on 2016/10/19.\n */\nimport {BaseLayer,UIControl,Inherited,Vec2,Director} from './../../src/utility/imports'\nconst Camera = (spec)=>{\n  var that = Inherited(BaseLayer());\n  let _viewWidth = spec.viewWidth;\n  let _viewHeight = spec.viewHeight;\n  let _width = spec.maxWidth;\n  let _height = spec.maxHeight;\n\n\n  let _moveLayer = new PIXI.Container();\n  that.node.addChild(_moveLayer);\n\n  let _mashLayer = new PIXI.Container();\n  that.node.addChild(_mashLayer);\n\n\n  let _moveLayer1 = new PIXI.Container();\n  that.node.addChild(_moveLayer1);\n\n  let _lookList = [];\n\n  that.inheritOn('init',()=>{\n\n    console.log('init camera');\n    return true;\n  });\n\n\n\n\n  that.mask = (image)=>{\n    _mashLayer.addChild(new PIXI.Sprite.fromImage(image));\n  }\n\n\n  if (spec.mashImage){\n    that.mask(spec.mashImage);\n  }\n\n  that.LookAt = (object)=>{\n\n\n    if (object.cameraPos){\n      that.lookObject = object;\n      //that.node.addChild(object.node);\n      // _moveLayer1.addChild(object.node);\n    }else {\n      console.log('no have cameraPos');\n    }\n\n  }\n  var scaleAction = (object,value,cb,director)=>{\n    var action = new TWEEN.Tween({scale: object.scale.x})\n      .to({scale: value},300)\n      .onUpdate(function () {\n\n        object.position = {\n          x : Director.sharedDirector().screen.right * 0.5 * (this.scale - 1) * director,\n          y : Director.sharedDirector().screen.bottom * 0.5 * (this.scale -1) * director\n        }\n        object.scale = {\n          x: this.scale,\n          y: this.scale\n        }\n      }).\n      onComplete(()=>{\n        if (cb){\n          cb();\n        }\n      }).easing(TWEEN.Easing.Cubic.In);\n    action.start();\n  }\n  that.zoomIn = (value)=>{\n    // _moveLayer1.scale = {\n    //   x: value,\n    //   y: value\n    // }\n\n    var index = 0;\n    var cb = ()=>{\n      index ++;\n      if (index === _lookList.length){\n        console.log('缩放结束In');\n      }\n    }\n    for (var i = 0 ; i < _lookList.length ; i ++){\n      _lookList[i].oldScale = _lookList[i].scale;\n      scaleAction(_lookList[i],value,cb,-1);\n    }\n  };\n\n\n\n  that.zoomOut = (value)=>{\n    var index = 0;\n    for (var i = 0 ; i < _lookList.length ; i ++){\n      _lookList[i].scale = _lookList[i].oldScale;\n      _lookList[i].position = {\n        x: 0,\n        y: 0\n      }\n    }\n    // var cb = ()=>{\n    //   index ++;\n    //   if (index === _lookList.length){\n    //     console.log('播放结束Out');\n    //   }\n    // };\n    // for (var i = 0 ; i < _lookList.length ; i ++){\n    //   scaleAction(_lookList[i],1.2,cb,1);\n    // }\n  };\n\n\n  const ShakeAction = (node,value)=>{\n    if (node.isAction === false){\n      node.isAction = true;\n    }else {\n      return;\n    }\n    var targetPosx = node.position.x + value;\n    var targetPosx1 = node.position.x - value;\n    let action = new TWEEN.Tween({value: node.position.x})\n      .to({value: targetPosx},20)\n      .onUpdate(function () {\n        node.position.x = this.value\n      })\n      .onComplete(()=>{\n        action1.start();\n      });\n    action.start();\n    let action1 = new TWEEN.Tween({value: node.position.x})\n      .to({value: targetPosx1},20)\n      .onUpdate(function () {\n        node.position.x = this.value;\n      })\n      .onComplete(function () {\n        node.isAction = false;\n      })\n\n  }\n\n  // const Shake = (node,count)=>{\n  //\n  //   if (count < 0){\n  //     node.position = node.oldPosition;\n  //     return;\n  //   }\n  //   ShakeAction(node,count%2?10:-10,()=>{\n  //     count --;\n  //     Shake(node,count);\n  //   });\n  // }\n  that.shakeCamera = ()=> {\n    console.log('shake camera');\n    // for (var i = 0 ; i < _lookList.length ; i ++) {\n    //   _lookList[i].oldPosition = _lookList[i].position;\n    //   // Shake(_lookList[i],2);\n    //   _lookList[i].isAction = false;\n    //   ShakeAction(_lookList[i],4);\n    // }\n  }\n\n  that.addToCameraDeep = (object)=>{\n    ////在遮罩之下\n    _moveLayer.addChild(object);\n  }\n\n  that.addToCamera = (object)=>{\n    ////在遮罩之上\n    // _moveLayer1.addChild(object);\n    _lookList.push(object);\n  }\n  that.cameraUpdate = ()=>{\n\n    if (that.lookObject){\n      let pos = Vec2(_viewWidth/2,_viewHeight/2).sub(that.lookObject.cameraPos);\n      pos.x = Math.min(0,pos.x);\n      pos.x = Math.max(_viewWidth - _width,pos.x);\n      pos.y = Math.min(0,pos.y);\n      pos.y = Math.max(_viewHeight - _height,pos.y);\n      _moveLayer.position = {\n        x: pos.x,\n        y: pos.y\n      }\n      _moveLayer1.position = {\n        x: pos.x,\n        y: pos.y\n      }\n\n\n    }else {\n\n    }\n  }\n\n\n\n  that.getViewRange = ()=>{\n    return PIXI.Rectangle(_moveLayer.position.x,_moveLayer.position.y,_viewWidth,_viewHeight);\n  }\n\n\n\n  // that.inheritOn('update',()=>{\n  //   that.cameraUpdate();\n  // });\n\n  return that;\n\n}\nexport default Camera;\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/camera.js\n **/","/**\n * Created by chuhaoyuan on 2016/10/26.\n */\nimport global from './../game-global'\nimport defines from './../game-defines'\nconst DebugLayer = ()=>{\n let that = new PIXI.Container();\n  global.events.on('debug',(data)=>{\n    //console.log('data' + JSON.stringify(data));\n    addLog(data);\n\n\n  });\n\n\n  // let _versionText = new PIXI.Text(global.playerdata.uid + '/' + global.playerdata.auth,{\n  //   font: '24px',\n  //   fill: '#FFFFFF',\n  // });\n  let _versionText = new PIXI.Text(defines.versionCode + ':' + global.playerdata.uid,{\n      font: '24px',\n      fill: '#FFFFFF',\n    });\n  _versionText.position = {\n    x: 20,\n    y: 0\n  }\n  // that.addChild(_versionText);\n\n\n\n\n  let _texts = [];\n  let fixLength = ()=>{\n    if (_texts.length > 20){\n      that.removeChild(_texts[0]);\n      _texts.splice(0,1);\n      for (let i = 0 ;i < _texts.length ; i ++){\n        _texts[i].position.y = 50 + i * 24\n      }\n      fixLength();\n    }else {\n\n    }\n  }\n  let addLog = (str)=>{\n    let text = new PIXI.Text(str,{\n      fill: '#ffffff'\n    });\n    that.addChild(text);\n    text.position.x = 0;\n    if (_texts.length === 0 ){\n      text.position.y = 50;\n    }else {\n      text.position.y = _texts[_texts.length - 1].position.y + 24;\n    }\n    _texts.push(text);\n    fixLength();\n\n\n  }\n\n\n\n\n\n\n  return that;\n}\nexport default DebugLayer;\n\n\n/** WEBPACK FOOTER **\n ** ./src/game/debug-layer.js\n **/","/**\n * Created by yu on 16/11/2.\n */\nimport {UIControl,ModelLayer,Inherited,Director} from '../../utility/imports'\nimport resources from './../../resources'\nimport gameglobal from './../../game-global'\nimport defines from './../../game-defines'\nconst UIStart = ()=>{\n  let that = Inherited(ModelLayer(true));\n  that.inheritOn('init',()=>{\n    //console.log('init start UI');\n    that.node.interactive = true;\n    return true;\n  });\n\n  let _touch = {};\n  let readygo_move = true;\n  let ui_move = true;\n  let readygo_num = 2;\n\n  let _bg = new PIXI.Sprite.fromImage(resources.bj);\n  _bg.anchor = {\n    x: 0.5,\n    y: 0.5\n  };\n  _bg.position = {\n    x: Director.sharedDirector().screen.right * 0.5,\n    y: Director.sharedDirector().screen.bottom * 0.5\n  };\n  _bg.alpha = 0;\n  that.node.addChild(_bg);\n\n  /****************************  UI布局  *******************************/\n\n  let _fruitNode = UIControl.create({\n    id: 'fruitNode',\n    component: 'Layout',\n    children: [\n      {\n        id: 'fruit',\n        component: 'Sprite',\n        image: resources.icon_st_shuiguo,\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5,\n          y: Director.sharedDirector().screen.bottom * 0.5\n        }\n      },{\n        id: 'textfruit',\n        component: 'BMLabel',\n        text: 0,\n        style: {\n          font: '38.4px rank_number_3',\n        },\n        position:{\n          x: Director.sharedDirector().screen.right * 0.5,\n          y: Director.sharedDirector().screen.bottom * 0.65 - 20\n        }\n      }\n    ]\n  });\n  that.node.addChild(_fruitNode.node);\n\n  //let _bombNode = UIControl.create({\n  //  id: 'bombNode',\n  //  component: 'Layout',\n  //  children: [\n  //    {\n  //      id: 'bomb',\n  //      component: 'Sprite',\n  //      image: resources.icon_st_zhadan,\n  //      position: {\n  //        x: Director.sharedDirector().screen.right - 150,\n  //        y: Director.sharedDirector().screen.bottom * 0.5\n  //      }\n  //    },{\n  //      id: 'textbomb',\n  //      component: 'BMLabel',\n  //      text: 0,\n  //      style: {\n  //        font: '38.4px rank_number_3',\n  //      },\n  //      position:{\n  //        x: Director.sharedDirector().screen.right - 150,\n  //        y: Director.sharedDirector().screen.bottom * 0.65 - 20\n  //      }\n  //    }\n  //  ]\n  //});\n  //that.node.addChild(_bombNode.node);\n\n  let _itemNode = UIControl.create({\n    id: 'itemNode',\n    component: 'Layout',\n    children: [\n      {\n        id: 'item',\n        component: 'Sprite',\n        image: resources.img_st_chuxian,\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5,\n          y: Director.sharedDirector().screen.top + 200\n        }\n      }\n    ]\n  });\n  that.node.addChild(_itemNode.node);\n\n\n\n  let _beginNode = UIControl.create({\n    id: 'beginnode',\n    component: 'Layout',\n    children: [\n      {\n        id: 'start1',\n        component: 'Sprite',\n        image: resources.start1,\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5,\n          y: Director.sharedDirector().screen.bottom * 0.8\n        }\n      },{\n        id: 'start2',\n        component: 'Sprite',\n        image: resources.start2,\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5,\n          y: Director.sharedDirector().screen.bottom * 0.8\n        }\n      },{\n        id: 'start3',\n        component: 'Sprite',\n        image: resources.start3,\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5,\n          y: Director.sharedDirector().screen.bottom * 0.8\n        }\n      }\n    ]\n  });\n  that.node.addChild(_beginNode.node);\n  _beginNode.start1.visible = false;\n  _beginNode.start2.visible = false;\n  _beginNode.start3.visible = false;\n\n  let _readygo = UIControl.create({\n    id: 'readygo',\n    component: 'Layout',\n    children: [\n      {\n        id: 'reday',\n        component: 'Sprite',\n        image: resources.reday,\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5,\n          y: Director.sharedDirector().screen.bottom * 0.5\n        }\n      },{\n        id: 'go',\n        component: 'Sprite',\n        image: resources.go,\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5,\n          y: Director.sharedDirector().screen.bottom * 0.5\n        }\n      }\n    ]\n  });\n  that.node.addChild(_readygo.node);\n  _readygo.reday.visible = false;\n  _readygo.go.visible = false;\n  _readygo.reday.scale.set(4);\n  _readygo.go.scale.set(4);\n\n  /***************************  倒计时   ************************/\n\n  let _beginlist = [_beginNode.start3,_beginNode.start2,_beginNode.start1];\n  let _beginChange = ()=>{\n    setTimeout(()=>{\n      _beginlist[0].visible = true;\n      _change3.start();\n    },500);\n    let _change3 = new TWEEN.Tween({alpha: 1})\n      .to({alpha: 0},1000)\n      .onUpdate(function () {\n        _beginNode.start3.alpha = this.alpha;\n      })\n      .onComplete(function () {\n        _beginlist[1].visible = true;\n        _change2.start();\n      })\n\n    let _change2 = new TWEEN.Tween({alpha: 1})\n      .to({alpha: 0},1000)\n      .onUpdate(function () {\n        _beginNode.start2.alpha = this.alpha;\n      })\n      .onComplete(function () {\n        _beginlist[2].visible = true;\n        _change1.start();\n      })\n\n    let _change1 = new TWEEN.Tween({alpha: 1})\n      .to({alpha: 0},1000)\n      .onUpdate(function () {\n        _beginNode.start1.alpha = this.alpha;\n      })\n      .onComplete(function () {\n        ui_move = false;\n        that.moveOut(_itemNode.node,_beginNode.node,_fruitNode.node);\n      })\n  }\n\n  /***************************  移动  ************************/\n\n  that.moveIn = (object1,object3)=>{\n    let _node1 = new TWEEN.Tween({y: object1.position.y - 700})\n      .to({y: object1.position.y},240)\n      .onUpdate(function () {\n        object1.position.y = this.y;\n      })\n      //.easing(TWEEN.Easing.Cubic.InOut)\n    let _node3 = new TWEEN.Tween({y: object3.position.y + 700})\n      .to({y: object3.position.y},240)\n      .onUpdate(function () {\n        object3.position.y = this.y;\n      })\n      //.easing(TWEEN.Easing.Back.In)\n      .onComplete(function () {\n        _beginChange();\n        that.node.on('touchend', remove);\n        that.node.on('mouseup', remove);\n      })\n    _node1.start();\n    _node3.start();\n  }\n  that.moveIn(_itemNode.node,_fruitNode.node);\n\n  that.moveOut = (object1,object2,object3)=>{\n    let _node1 = new TWEEN.Tween({y: object1.position.y})\n      .to({y: object1.position.y - 700},300)\n      .onUpdate(function () {\n        object1.position.y = this.y;\n      })\n    let _node2 = new TWEEN.Tween({y: object2.position.y})\n      .to({y: object2.position.y + 400},300)\n      .onUpdate(function () {\n        object2.position.y = this.y;\n      })\n    let _node3 = new TWEEN.Tween({y: object3.position.y})\n      .to({y: object3.position.y + 700},300)\n      .onUpdate(function () {\n        object3.position.y = this.y;\n      })\n      .onComplete(function () {\n        that.node.removeChild(_itemNode.node,_beginNode.node,_fruitNode.node);\n        if(readygo_move) {\n          gameglobal.audioControl.play('readygo');\n          timeChange();\n        }\n        readygo_move = false;\n      })\n    _node1.start();\n    _node2.start();\n    _node3.start();\n\n  };\n\n  /**************************  数据  *************************/\n\n  _fruitNode.textfruit.text = gameglobal.playerdata.fruitCount.toString();\n\n  /**************************  鼠标点击  触摸  *******************/\n  let remove = function (event) {\n    if(ui_move){\n      that.moveOut(_itemNode.node,_beginNode.node,_fruitNode.node);\n      ui_move  = false;\n    }\n\n    if (_touch.hasOwnProperty(event.data.identifier)) {\n    }else {\n      return;\n    }\n  }\n\n\n  /***************************  ready go  ********************/\n\n  that.scaleChange = (object)=>{\n    let _text = new TWEEN.Tween({x: object.scale.x, y: object.scale.y})\n      .to(\n        {x: 1, y: 1},500)\n      .onUpdate(function(){\n        object.scale.x = this.x;\n        object.scale.y = this.y;\n\n      })\n      .onComplete(function(){\n        object.alpha = 1;\n      }).easing(TWEEN.Easing.Bounce.Out);\n    _text.start();\n  };\n\n  let timeChange = ()=>{\n    if (readygo_num === 4){\n      gameglobal.audioControl.play('gamestart');\n      gameglobal.events.fire('gamestart')\n      that.removeFromWorld();\n      return;\n    }\n    if (readygo_num === 3){\n      _readygo.reday.visible = false;\n      _readygo.go.visible = true;\n      that.scaleChange(_readygo.go);\n      readygo_num ++;\n    }\n    if (readygo_num === 2){\n      _readygo.reday.visible = true;\n      that.scaleChange(_readygo.reday);\n      readygo_num ++;\n    }\n\n    setTimeout(timeChange,1000);\n\n  };\n\n  return that;\n}\nexport default UIStart;\n\n\n/** WEBPACK FOOTER **\n ** ./src/game/ui/ui-start.js\n **/","/**\n * Created by Administrator on 2016/11/2.\n */\nimport {UIControl,ModelLayer,Inherited,Vec2,Director,ResourceManager} from '../../utility/imports'\nimport defines from './../../game-defines'\nimport resources from './../../resources'\nimport global from './../../game-global'\nimport PlatformHelper from './../../platform-helper'\nimport HeadNode from './../../common/head-node'\nimport GameOverNew from './ui-gameover-new'\nimport GameOverDataShow from './gameoverlayer-common/gameover-data-show-layer'\nlet _isAction = false;\nlet _mask;\nconst UIGameOver = (spec)=> {\n  // console.log('now score=' + spec.score);\n  const moveAction_y  = (startPos,endPos,time,node,cb)=>{\n    if (_isAction){\n      return\n    }\n    _isAction = true;\n    let action = new TWEEN.Tween({y: startPos})\n      .to({y: endPos},time)\n      .onUpdate(function () {\n        node.position.y = this.y;\n      })\n      .onComplete(function () {\n        _isAction = false;\n        if (cb){\n          cb()\n        }\n      })\n      .easing(TWEEN.Easing.Back.Out);\n    action.start();\n  };\n  const moveAction_x  = (startPos,endPos,time,node,cb)=>{\n    if (_isAction){\n      return\n    }\n    //_isAction = true;\n    let action = new TWEEN.Tween({x: startPos})\n        .to({x: endPos},time)\n        .onUpdate(function () {\n          node.position.x = this.x;\n        })\n        .onComplete(function () {\n          //_isAction = false;\n          if (cb){\n            cb()\n          }\n        })\n        .easing(TWEEN.Easing.Back.Out);\n    action.start();\n  };\n  let newRank = 0;\n  let that = Inherited(ModelLayer(false));\n  that.inheritOn('init', ()=> {\n    that.node.interactive = true;\n    return true;\n  });\n  that.scaleChange = (object)=>{\n    let _text = new TWEEN.Tween({x: object.scale.x, y: object.scale.y})\n        .to({x: 1, y: 1},500)\n        .onUpdate(function(){\n          object.scale.x = this.x;\n          object.scale.y = this.y;\n        })\n        .onComplete(function(){\n        })\n        .easing(TWEEN.Easing.Back.Out);\n    _text.start();\n  };\n  that.alphaChange = (object)=>{\n    let _text = new TWEEN.Tween({alpha: object.alpha})\n        .to({alpha: 1},600)\n        .onUpdate(function(){\n          object.alpha = this.alpha;\n        })\n        .onComplete(function(){\n        })\n        .easing(TWEEN.Easing.Sinusoidal.In);\n    _text.start();\n  };\n  // let gameOverNew = GameOverNew({\n  //   selfrank: spec.rank,\n  //   maxscore: spec.maxScore\n  // });\n\n\n\n\n  let overNode = UIControl.create({\n    id: 'overNode',\n    component: 'Layout',\n    children: [\n      {\n        id: 'qizhi',\n        component: 'Sprite',\n        image: resources.img_qizhi,\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5,\n          y: Director.sharedDirector().screen.bottom * 0.5 - 115\n        }\n      },\n      {\n        id: 'chibang',\n        component: 'Sprite',\n        image: resources.img_chibang,\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5 - 120,\n          y: Director.sharedDirector().screen.bottom * 0.5 - 222\n        }\n      },\n      {\n        id: 'chibang2',\n        component: 'Sprite',\n        image: resources.img_chibang2,\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5 + 120,\n          y: Director.sharedDirector().screen.bottom * 0.5 - 222\n        }\n      },\n      {\n        id: 'he2',\n        component: 'Sprite',\n        image: resources.img_he2,\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5,\n          y: Director.sharedDirector().screen.bottom * 0.5 - 280\n        }\n      },\n      {\n        id: 'rankTextLight',\n        component: 'Sprite',\n        image: resources.img_light1,\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5,\n          y: Director.sharedDirector().screen.bottom * 0.5 - 280\n        },\n        alpha: 0\n      },\n      {\n        id: 'rankRiseText',\n        component: 'BMLabel',\n        text: 0,\n        style: {\n          font: '18px rank_number_1'\n        },\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5,\n          y: Director.sharedDirector().screen.bottom * 0.5 - 355\n        },\n        alpha: 0\n      },\n      {\n        id: 'layout',\n        component: 'Layout',\n        position:{\n          x: Director.sharedDirector().screen.right * 0.5,\n          y: Director.sharedDirector().screen.bottom * 0.5 - 280\n        },\n        children: [\n          {\n            id: 'rankPolygon',\n            component: 'Sprite',\n            image: resources.img_he,\n            position: {\n              x: 0,\n              y: 0\n            }\n          },\n          {\n            id: 'zhezhao',\n            component: \"Layout\",\n            position: {\n              x: 0,\n              y: 0\n            },\n            children: [\n              {\n                id: 'light',\n                component: 'Sprite',\n                image: resources.img_yellow_26,\n                position: {\n                  x: 0,\n                  y: 0\n                }\n              }\n            ]\n          }\n        ]\n      },\n      {\n        id: 'n',\n        component: 'Sprite',\n        image: resources.icon_wodefenshu,\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5,\n          y: Director.sharedDirector().screen.bottom * 0.5 - 305\n        }\n      },\n\n      {\n        id: 'rankNum',\n        component: 'BMLabel',\n        text: 0 ,\n        style: {\n          font: '38 rank_number_3'\n        },\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5,\n          y: Director.sharedDirector().screen.bottom * 0.5 - 255\n        }\n      },\n      {\n        id: 'overLine',\n        component: 'Sprite',\n        image: resources.gameover1,\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5,\n          y: Director.sharedDirector().screen.bottom * 0.5 - 180\n        }\n      }\n    ]\n  });\n  that.node.addChild(overNode.node);\n\n\n\n  let buttonNode = UIControl.create({\n    id: 'buttonNode',\n    component: 'Layout',\n    children: [\n      {\n        id: 'restart',\n        component: 'Button',\n        image: resources.bt_replay_normal,\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5 + 200,\n          y: Director.sharedDirector().screen.bottom * 0.5 + 365\n        }\n      },\n      {\n        id :'close',\n        component: 'Button',\n        image: resources.bt_quit_normal,\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5 - 190,\n          y: Director.sharedDirector().screen.bottom * 0.5 + 375\n        }\n      },\n      {\n        id: 'checkgift',\n        component: 'Button',\n        image: resources.bt_view_normal,\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5 + 10,\n          y: Director.sharedDirector().screen.bottom * 0.5 + 360\n        }\n      }\n    ]\n  },(button)=>{\n    if(button.id === 'restart') {\n      allMoveOut();\n    }\n    if (button.id === 'close'){\n      PlatformHelper.endAll();\n    }\n    if(button.id === 'checkgift'){\n      PlatformHelper.jumpToPacket();\n    }\n  });\n  that.node.addChild(buttonNode.node);\n\n  let createMoveNode = (image,num,text)=>{\n    let moveNode = UIControl.create({\n      id: 'moveNode',\n      component: 'Layout',\n      position: {\n        x: Director.sharedDirector().width  + 100,\n        y: Director.sharedDirector().height * 0.5 - 240\n      },\n      children: [\n        {\n          id: 'image',\n          component: 'Sprite',\n          image: image,\n          position: {\n            x: 0,\n            y: 0\n          }\n        },\n        {\n          id: 'num',\n          component: 'BMLabel',\n          style: {\n            font: 'gold_number'\n          },\n          position: {\n            x: 55,\n            y: -5\n          },\n          text: num\n        },\n        {\n          id: 'text',\n          component: 'Label',\n          text: text,\n          position: {\n            x: 70,\n            y: 20\n          },\n          style: {\n            font: '16px Arial',\n            fill: 0xffffff\n          }\n        }\n      ]\n    })\n  that.node.addChild(moveNode.node);\n    return moveNode\n  };\n\n\n  let removeNode = ()=>{\n    that.removeFromWorld();\n      global.events.fire('restartgame');\n  };\n  let allMoveOut = ()=> {\n    let overTweenout = new TWEEN.Tween({y: overNode.node.position.y})\n      .to({y: overNode.node.position.y - 450},400)\n      .onUpdate(function(){\n        overNode.node.position.y = this.y\n      });\n    // let headTweenout = new TWEEN.Tween({y: _gameoverDataShow.node.position.y})\n    //   .to({y: 1200},400)\n    //   .onUpdate(function(){\n    //     _gameoverDataShow.node.position.y = this.y\n    //   });\n    // let mainTweenout = new TWEEN.Tween({y: gameOverNew.node.position.y})\n    //   .to({y: gameOverNew.node.position.y - 450}, 350)\n    //   .onUpdate(function () {\n    //     gameOverNew.node.position.y = this.y;\n    //   });\n    let buttonTweenout = new TWEEN.Tween({y: buttonNode.node.position.y})\n      .to({y: buttonNode.node.position.y + 550}, 350)\n      .onUpdate(function () {\n        buttonNode.node.position.y = this.y\n      })\n      .onComplete(function(){\n        removeNode();\n        global.events.fire('gamestartagain');\n      });\n    overTweenout.start();\n    // headTweenout.start();\n    // mainTweenout.start();\n    buttonTweenout.start();\n  };\n\n  // global.playerdata.getRanklistData((data)=>{\n  //   newRank = data.self_rank===-1?798:data.self_rank;\n    //\n    let cutRate = global.playerdata.cutFruitCount / global.playerdata.allFruitCount;\n\n    //看到的 石榴的 次数\n    let superFruitRate = 1;\n    let i = global.playerdata.cutSuperCount;\n    if ( i <= 19 && i >=0){\n      superFruitRate = 1.1;\n    }else if (i >= 20 && i <= 29){\n      superFruitRate = 1.2;\n    }else if (i >= 30 && i <= 35){\n      superFruitRate = 1.3;\n    }else if (i >= 36 && i < 39){\n      superFruitRate = 1.4;\n    }else if ( i >= 39){\n      superFruitRate = 1.5;\n    }\n\n    // let endScore = Math.round(global.playerdata.totalScore * (cutRate + 1) * superFruitRate);\n    // endScore = spec.score;\n    // console.log('基础积分' + global.playerdata.totalScore);\n    // console.log('命中率' + cutRate);\n    // console.log('超级水果次数' + i);\n    // console.log('超级水果加成' + superFruitRate);\n    // console.log('endScore' + endScore );\n    // overNode.rankNum.text = ''+ global.playerdata.totalScore;\n\n    // gameOverNew.init();\n    // gameOverNew.add2World(that);\n  // },1,3);\n  var hitsList = global.playerdata.hitsLists;\n  var hitCount = 0;\n  for (var j = 1;j < hitsList.length; j ++){\n    hitCount += hitsList[j];\n  }\n  moveAction_x(240,Director.sharedDirector().screen.right * 0.5 - 120,500,overNode.chibang,()=>{\n    if(global.playerdata.totalScore === 0){\n    }else {\n      global.events.fire('nodeScale');\n      global.events.fire('addEndScore', that, ()=> {\n        // Mask(endScore)\n      });\n      if (hitCount === 0) {\n      } else {\n        global.events.fire('addEndScore1', that);\n      }\n      if (superFruitRate === 1) {\n      } else {\n        global.events.fire('addEndScore2', that)\n      }\n    }\n\n  });\n  moveAction_x(240,Director.sharedDirector().screen.right * 0.5 + 120,500,overNode.chibang2,()=>{\n\n  });\n\n  let updateUI = function () {\n  };\n\n  //圆形进度条,分数改变\n\n  let Mask = (score)=>{\n  let createMask = (angle)=> {\n    overNode.zhezhao.node.mask = null;\n    overNode.zhezhao.node.removeChild(_mask);\n    _mask = null;\n    _mask = new PIXI.Graphics();\n    _mask.beginFill(0xffffff, 1);\n    _mask.arc(0, 0, 100, -90 / (180 / Math.PI), (angle - 90) / (180 / Math.PI), false);\n    _mask.lineTo(0, 0);\n    _mask.endFill();\n    overNode.zhezhao.node.addChild(_mask);\n    overNode.zhezhao.node.mask = _mask;\n  };\n\n  let action = new TWEEN.Tween({angle: 1})\n      .to({angle: 360}, 600)\n      .onUpdate(function () {\n        createMask(this.angle);\n      })\n      .onComplete(function () {\n        that.alphaChange(overNode.rankRiseText);\n      });\n  action.start();\n\n  //改变当前分数\n  let myScore = new TWEEN.Tween({count: overNode.rankNum.text})\n      .to({count: score},100)\n      .onUpdate(function(){\n        overNode.rankNum.text = Math.round(this.count)\n      })\n  myScore.start();\n}\n\n  // numChange.start();\n  let light = new TWEEN.Tween({alpha: overNode.rankTextLight.alpha})\n    .to({alpha: 0.8},600)\n    .onUpdate(function(){\n      overNode.rankTextLight.alpha = this.alpha;\n    });\n  light.start();\n\n  that.update = ()=>{\n    updateUI();\n  };\n\n  // var _gameoverDataShow = GameOverDataShow(spec);\n  // that.node.addChild(_gameoverDataShow.node);\n  \n  if(global.playerdata.totalScore === 0) {\n  }else {\n    global.events.fire('colorbar',that);\n  }\n\n  return that;\n};\nexport default UIGameOver;\n\n\n/** WEBPACK FOOTER **\n ** ./src/game/ui/ui-gameover.js\n **/","/**\n * Created by chuhaoyuan on 2016/11/18.\n */\nimport {BaseLayer,Director,UIControl,Inherited} from './../../utility/imports'\nimport resources from './../../resources'\nconst GameOverLayer = function (spec) {\n  let that = Inherited(BaseLayer());\n  that.inheritOn('init',()=>{\n    return true;\n  });\n  let _mainNode = UIControl.create({\n    id: 'mainNode',\n    component: 'Layout',\n    children: [\n      {\n        id: 'l1',\n        component: 'BMLabel',\n        text: '当前排名：           名',\n        style: {\n          font: '20px combo'\n        },\n        anchor: {\n          x: 0,\n          y: 0.5\n        },\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5 - 100,\n          y: Director.sharedDirector().screen.bottom * 0.5 - 110\n        },\n        children: [\n          {\n            id: 'nowRank',\n            component: 'BMLabel',\n            style: {\n              font: '25px rank_number_1'\n            },\n            anchor: {\n              x: 0.5,\n              y: 0.5\n            },\n            text: '' + spec.selfrank,\n            position: {\n              x: 120,\n              y: -3\n            }\n\n          }\n        ]\n      },\n      {\n        id: 'l2',\n        component: 'BMLabel',\n        text: '今日最佳：           分',\n        style: {\n          font: '20px combo'\n        },\n        anchor: {\n          x: 0,\n          y: 0.5\n        },\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5 - 100,\n          y: Director.sharedDirector().screen.bottom * 0.5 - 70\n        },\n        children: [\n          {\n            id: 'now',\n            component: 'BMLabel',\n            text: spec.maxscore.toString(),\n            style: {\n              font: '25px rank_number_1'\n            },\n            anchor: {\n              x: 0.5,\n              y: 0.5\n            },\n            position: {\n              x: 125,\n              y: -3\n            }\n          }\n        ]\n      }\n    ]\n  });\n  that.node.addChild(_mainNode.node);\n  if(spec.selfrank.toString() === '-1'){\n    _mainNode.nowRank.text = '   --'\n  }\n  return that;\n}\nexport default GameOverLayer;\n\n\n/** WEBPACK FOOTER **\n ** ./src/game/ui/ui-gameover-new.js\n **/","/**\n * Created by chuhaoyuan on 2016/11/29.\n */\nimport {BaseLayer,UIControl,Director,Inherited} from './../../../utility/imports'\nimport resources from './../../../resources'\nimport global from './../../../game-global'\nimport particlefruitjson from './../../effect/particle-fruit-json'\nconst DataUI = function (spec) {\n  var that = {\n    id: 'dataUI',\n    component: 'Layout',\n    position: spec.position,\n    children: [\n      {\n        id: 'bg',\n        component: 'Sprite',\n        image: spec.bgimage\n      },\n      {\n        id: 'mask',\n        component: 'Sprite',\n        image: resources.icon_box2,\n      },\n      {\n        id: 'Label',\n        component: 'Label',\n        style: {\n          font: '16px Arial',\n          fill: '#ffffff'\n        },\n        text: spec.num,\n        position: {\n          x: 0,\n          y: 27\n        }\n      },\n      {\n        id: 'Label',\n        component: 'BMLabel',\n        style:{\n          font: spec.font\n        },\n        scale: (()=>{\n          if (spec.font === 'rank_number_1'){\n            return {\n              x: 0.5,\n              y: 0.5\n            }\n          }else {\n            return {\n              x: 1,\n              y: 1\n            }\n          }\n        })(),\n        position: {\n          x: 0,\n          y: 60\n        },\n        text: spec.labelText\n      }\n    ]\n  };\n  return that;\n}\nconst DataUI1 = function (spec) {\n  var that = {\n    id: 'DataUI1',\n    component: 'Layout',\n    position: spec.position,\n    //i: spec.i,\n    children: [\n      {\n        id: 'icon' + spec.i,\n        component: 'Sprite',\n        image: spec.icon,\n        position: {\n          x: -46,\n          y: -5\n        }\n      },\n      {\n        id: 'label' + spec.i,\n        component: 'BMLabel',\n        style: {\n          font: 'rank_number_4'\n        },\n        text: spec.label,\n        anchor: {\n          x: 0,\n          y: 0.5\n        },\n        position: {\n          x: -32,\n          y: -5\n        }\n      },\n      {\n        id: 'best',\n        component: 'Label',\n        style: {\n          font: '16px Arial',\n          fill: '#efda51'\n        },\n        text: '最佳:' + spec.best,\n        anchor: {\n          x: 0,\n          y: 0.5\n        },\n        position: {\n          x: -30,\n          y: 28\n        }\n      },\n      {\n        id: 'now',\n        component: 'Label',\n        style: {\n          font: '16px Arial',\n          fill: (()=>{\n            if (spec.now === '0次'){\n              return '#828282';\n            }else {\n              return '#ffffff';\n            }\n          })()\n        },\n        text: '本次:' + spec.now,\n        anchor: {\n          x: 0,\n          y: 0.5\n        },\n        position: {\n          x: -30,\n          y: 53\n        }\n      }\n    ]\n  }\n  return that;\n}\nconst GameOverDataShowLayer = function (spec) {\n  let that = Inherited(BaseLayer());\n  that.inheritOn('init',()=>{\n\n    return true;\n  });\n  let _emitters = {};\n  let elapsed = Date.now();\n  that.inheritOn('update',()=>{\n\n    let now = Date.now();\n      _emitters[0].update((now - elapsed) * 0.001);\n    elapsed = now;\n  });\n  that.scaleChange = (object)=>{\n    let _text1 = new TWEEN.Tween({x: object.scale.x, y: object.scale.y})\n        .to({x: 1, y: 1},200)\n        .onUpdate(function(){\n          object.scale.x = this.x;\n          object.scale.y = this.y;\n        })\n        .onComplete(function(){\n        })\n        .easing(TWEEN.Easing.Back.Out);\n    //_text.start();\n    let _text = new TWEEN.Tween({x: object.scale.x, y: object.scale.y})\n        .to({x: 1.3, y: 1.3},200)\n        .onUpdate(function(){\n          object.scale.x = this.x;\n          object.scale.y = this.y;\n        })\n        .onComplete(function(){\n          _text1.start();\n        })\n        .easing(TWEEN.Easing.Back.Out);\n    _text.start();\n  };\n  var _mainNode = UIControl.create({\n    id: 'mainNode',\n    component: 'Layout',\n    children: (()=>{\n      var children = [];\n\n      var bgui = {\n        id: 'bgui',\n        component: 'Layout',\n        position: {\n          x: Director.sharedDirector().screen.right * 0.5,\n          y: Director.sharedDirector().screen.bottom * 0.5 + 145\n        },\n        children: [\n          {\n            id: 'bg',\n            component: 'Scale9Sprite',\n            image: resources.img_go_black,\n            offsetX: 10,\n            offsetY: 10,\n            tilingWidth: 10,\n            tilingHeight: 10,\n            width: 420,\n            height: 240\n          }\n        ]\n      }\n\n\n      children.push(bgui);\n\n\n      var tempresources = [resources.icon_hongbao2,resources.icon_hongbao3,resources.icon_shuiguo2,resources.icon_shuiguo3];\n      var datas = [global.playerdata.getRedbagCount,\n                    // global.playerdata.centsNum - global.playerdata.getRedbagCount,\n                  // global.playerdata.centsNum - global.playerdata.getRealRedbagCount,\n                  global.playerdata.lostRedBagCount,\n                  global.playerdata.cutFruitCount,\n                  global.playerdata.allFruitCount - global.playerdata.cutFruitCount];\n      var fontList = ['rank_number_1','rank_number_5','rank_number_1','rank_number_5'];\n      var labelText = ['切中红包','遗漏红包','切中水果','遗漏水果'];\n      for (var i = 0 ; i < 4 ; i ++){\n        var ui = DataUI({\n          bgimage: tempresources[i],\n          num: datas[i] + '',\n          labelText: labelText[i],\n          font: fontList[i],\n          position: {\n            x: 3 * 100 * -0.5 + i * 100 + Director.sharedDirector().screen.right * 0.5,\n            y: Director.sharedDirector().screen.bottom* 0.5 + 80\n          }\n        });\n        children.push(ui);\n      }\n\n      var iconlist = [resources.icon_mingzhong,resources.icon_lianji,resources.icon_shiliujic];\n      var labelList = ['命中率','连击次数','石榴加成'];\n      var hitsList = global.playerdata.hitsLists;\n      var hitCount = 0;\n      for (var i = 1;i < hitsList.length; i ++){\n        hitCount += hitsList[i];\n      }\n      var superCutCount = global.playerdata.cutSuperCount;\n      var superRate = '10%';\n      if (superCutCount>=0 && superCutCount <= 19){\n        superRate = '10%';\n      }else if(superCutCount >= 20 && superCutCount <= 29){\n        superRate = '20%'\n      }else if(superCutCount >= 30 && superCutCount <= 35){\n        superRate = '30%'\n      }else if (superCutCount >= 36 && superCutCount < 39){\n        superRate = '40%'\n      }else if (superCutCount >= 39){\n        superRate = '50%';\n      }\n//       1-19 1.1*当前红包金额/分值\n//\n//       20-29 1.2*当前红包金额/分值\n//\n//       30-39 1.3*当前红包金额/分值\n//\n//       40-49 1.4*当前红包金额/分值\n//\n// ＞50 1.5*当前红包金额/分值\n      var nowList = [Math.round(global.playerdata.cutFruitCount/global.playerdata.allFruitCount * 100) + '%',\n        hitCount + '次',\n        // superRate + '倍'\n        superRate\n      ];\n      let num = Math.round((spec.maxBuffAddition - 1 ) * 100);\n      var bestList = [spec.maxAccuracy + '%',spec.maxCombNum + '次',num + '%'];\n      for (var i = 0 ; i < 3 ; i ++){\n        var ui = DataUI1({\n          i: i,\n          icon: iconlist[i],\n          label: labelList[i],\n          now: nowList[i],\n          best: bestList[i],\n          position: {\n            x: 2 * 130 * -0.5 + i * 130 + Director.sharedDirector().screen.right * 0.5,\n            y: Director.sharedDirector().screen.bottom * 0.5 + 180\n          },\n\n        });\n        children.push(ui);\n      }\n      return children\n    })()\n  });\n  that.node.addChild(_mainNode.node);\n\n  //粒子特效\n  //let isAction = false;\n  //global.events.on('addEndScore',(data)=>{\n  //  //if (isAction){\n  //  //  return\n  //  //}\n  //  //isAction = true;\n  //  //if (_emitters.hasOwnProperty('addEndScore')){\n  //  //}else {\n  //    _emitters['addEndScore'] = new PIXI.particles.Emitter(\n  //        that.node,\n  //        [PIXI.Texture.fromImage(resources.star2)],\n  //        particlefruitjson.addEndScore);\n  //  //}\n  //  _emitters['addEndScore'].updateOwnerPos(\n  //       2 * 150 * -0.5  + Director.sharedDirector().screen.right * 0.5,\n  //       Director.sharedDirector().screen.bottom * 0.5 + 180\n  //  );\n  //  let action = new TWEEN.Tween({\n  //    x: 2 * 150 * -0.5 + Director.sharedDirector().screen.right * 0.5,\n  //    y: Director.sharedDirector().screen.bottom * 0.5 + 180\n  //  })\n  //      .to({\n  //        x: Director.sharedDirector().screen.right * 0.5,\n  //        y: Director.sharedDirector().screen.bottom * 0.5 - 255\n  //      },1200)\n  //      .onUpdate(function () {\n  //        console.log('addadddaddadadadadadadadadaaaaaaaaaaaaaaaaaaaaaaaaaadadadada')\n  //\n  //        _emitters['addEndScore'].updateOwnerPos(this.x,this.y);\n  //      })\n  //      .onComplete(()=>{\n  //        //isAction = false;\n  //        _emitters['addEndScore'].emit = false;\n  //\n  //      });\n  //  action.start();\n  //  _emitters['addEndScore'].emit = true;\n  //});\n  var hitsList = global.playerdata.hitsLists;\n  var hitCount = 0;\n  for (var i = 1;i < hitsList.length; i ++){\n    hitCount += hitsList[i];\n  }\n  global.events.on('nodeScale',()=>{\n    for(let i = 0 ; i < 3 ; i ++) {\n      if(global.playerdata.cutSuperCount < 1 && hitCount != 0){\n        for(let j = 0 ; j < 2 ; j ++) {\n          that.scaleChange(_mainNode['icon' + j]);\n          that.scaleChange(_mainNode['label' + j]);\n        }\n      }else if(hitCount === 0 && global.playerdata.cutSuperCount < 1){\n        that.scaleChange(_mainNode['icon' + 0]);\n        that.scaleChange(_mainNode['label' + 0]);\n      }\n      else {\n        that.scaleChange(_mainNode['icon' + i]);\n        that.scaleChange(_mainNode['label' + i]);\n      }\n    }\n  });\n  return that;\n}\nexport default GameOverDataShowLayer;\n\n\n/** WEBPACK FOOTER **\n ** ./src/game/ui/gameoverlayer-common/gameover-data-show-layer.js\n **/","/**\n * Created by chuhaoyuan on 2016/11/4.\n */\nimport {UIControl,ModelLayer,Inherited,Director,ResourceManager} from './../../utility/imports'\nimport global from './../../game-global'\nimport resources from './../../resources'\nconst Tips = (data,callback)=>{\n  let that = Inherited(ModelLayer(true));\n  that.inheritOn('init',()=>{\n    return true;\n  });\n\n  ResourceManager.load(resources.box_white,()=>{\n    let _mainNode = UIControl.create({\n      id: 'mainNode',\n      component: 'Layout',\n      position: {\n        x: Director.sharedDirector().screen.right * 0.5,\n        y: Director.sharedDirector().screen.bottom * 0.5\n      },\n      children: [\n        {\n          id: 'bg',\n          component: 'Scale9Sprite',\n          image: resources.box_white,\n          offsetX: 3,\n          offsetY: 20,\n          tilingWidth: 1,\n          tilingHeight: 1,\n          width: 340,\n          height: 200\n        },\n        {\n          id: 'label1',\n          component: 'Label',\n          text: '服务器数据异常',\n          position: {\n            x: 0,\n            y: -40\n          },\n          style: {\n            font: '20px Arial',\n            fill: '#000000'\n          }\n        },\n        {\n          id: 'labele2',\n          component: 'Label',\n          text: data,\n          position: {\n            x: 0,\n            y: 0\n          }\n        },\n        {\n          id: 'ok',\n          component: 'Button',\n          image: resources.zhuangban,\n          position: {\n            x: 0,\n            y: 60\n          },\n          children:[\n            {\n              id: 'label',\n              component: 'Label',\n              text: '确定',\n              style: {\n                font: '24px Arial',\n                fill: '#ffffff'\n              }\n            }\n          ]\n\n\n        },\n\n      ]\n    },(button)=>{\n      if (button.id === 'ok'){\n\n        that.removeFromWorld();\n\n\n        if (callback){\n          callback();\n        }\n\n\n\n      }\n    });\n\n    that.node.addChild(_mainNode.node);\n\n  });\n\n\n\n  return that;\n\n}\nexport default Tips;\n\n\n/** WEBPACK FOOTER **\n ** ./src/game/ui/ui-tips.js\n **/","/**\n * Created by yu on 16/11/17.\n */\nimport global from './../game-global'\nconst CaromCount =()=>{\n  let that = [];\n  global.events.on('caromCount',(count)=>{\n    if(that[count-1] === undefined){\n      that[count-1] = 1;\n    }else {\n      that[count-1] += 1;\n    }\n\n    for (let i = 0; i < count-1; i ++){\n      if(that[i] > 0){\n        that[i] += 0;\n      }else {\n        that[i] = 0;\n      }\n    }\n    global.playerdata.hitsLists = that;\n  })\n  return that;\n}\nexport default CaromCount;\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/carom-count.js\n **/","/**\n * Created by chuhaoyuan on 2016/12/13.\n */\nimport {SRequest} from './utility/imports'\nimport defines from './game-defines'\nconst EventType = {\n  enterWeb: 'enter_web',\n  clickStartGame: 'click_start_game',\n  beginLoading: 'begin_loading',\n  endLoading: 'end_loading'\n}\nconst StatisticHelper = function () {\n  let that = {};\n  const requestData = function (method,params,cb) {\n    SRequest.post(defines.gameHomeURL,method + '?uid=' + that.uid,{},params,data=>{\n      console.log('requestData',method);\n      if (data.status !== 'ok'){\n        console.error('requestData,Failed!',JSON.stringify(data));\n      }else {\n\n      }\n\n      if (cb){\n        cb(data);\n      }\n\n    });\n  };\n  \n  \n  that.enterWeb = function (uid) {\n    console.log('进入页面统计');\n    requestData(defines.URLMethods.behaviorRecord,{\n      uid: uid,\n      event: EventType.enterWeb\n    });\n  };\n  that.clickStartGame = function (uid) {\n    console.log('点击开始游戏统计');\n    requestData(defines.URLMethods.behaviorRecord,{\n      uid: uid,\n      event: EventType.clickStartGame\n    });\n  };\n  that.beginLoading = function (uid) {\n    console.log('开始加载统计');\n    requestData(defines.URLMethods.behaviorRecord,{\n      uid: uid,\n      event: EventType.beginLoading\n    });\n  };\n  that.endLoading = function (uid) {\n    console.log('结束加载统计');\n    requestData(defines.URLMethods.behaviorRecord,{\n      uid: uid,\n      event: EventType.endLoading\n    });\n  };\n  return that;\n}\nlet statisticHelper = StatisticHelper();\nwindow.statisticHelper = statisticHelper;\nexport default statisticHelper;\n\n\n/** WEBPACK FOOTER **\n ** ./src/statistic-helper.js\n **/"],"sourceRoot":""}